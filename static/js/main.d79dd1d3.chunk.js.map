{"version":3,"sources":["Redux/Store/DraftExpedition/Name/index.ts","Redux/Store/DraftExpedition/SeedConfig/index.tsx","Redux/Store/DraftExpedition/BigPocketVariantConfig/index.ts","Redux/Store/DraftExpedition/InitialBarracksConfig/index.tsx","Redux/Store/DraftExpedition/InitialUBNCardsConfig/index.tsx","Redux/Store/DraftExpedition/SettingsSnapshotConfig/index.tsx","Redux/Store/DraftExpedition/SequenceConfig/DraftRewardConfig/index.ts","Redux/Store/DraftExpedition/SequenceConfig/DraftRewardSupplyCard/index.ts","Redux/Store/DraftExpedition/SequenceConfig/FirstBranchId/index.tsx","Redux/Store/DraftExpedition/SequenceConfig/Branches/index.ts","Redux/Store/DraftExpedition/SequenceConfig/index.ts","Redux/Store/DraftExpedition/index.ts","Redux/Store/index.ts","serviceWorker.ts","GlobalStyle.ts","themes/main/index.ts","components/atoms/H1.tsx","components/organisms/Accordion/__styled__/Wrapper.tsx","components/organisms/Accordion/__styled__/Header.tsx","components/atoms/Button.tsx","components/organisms/Accordion/__styled__/Summary.tsx","components/organisms/Accordion/__styled__/Content.tsx","components/organisms/Accordion/__styled__/SummaryIcon.tsx","components/organisms/Accordion/index.tsx","components/atoms/ScreenReaderOnlyText.tsx","components/molecules/Fieldset/__styled__/Wrapper.tsx","components/molecules/Fieldset/__styled__/Legend.tsx","components/molecules/Fieldset/index.tsx","components/atoms/Label.tsx","components/atoms/Input.tsx","components/molecules/FormGroupInputText/__styled__/Wrapper.tsx","components/molecules/FormGroupInputText/index.tsx","components/molecules/FormGroupCheckbox/__styled__/Wrapper.tsx","components/molecules/FormGroupCheckbox/index.tsx","components/templates/BasicInformation/index.tsx","components/organisms/Modal/Wrapper.tsx","components/organisms/Modal/Backdrop.tsx","components/organisms/Modal/Content.tsx","components/organisms/Modal/Header.tsx","components/organisms/Modal/Body.tsx","components/atoms/H2.tsx","components/organisms/Modal/Title.tsx","components/organisms/Modal/CloseButton.tsx","components/organisms/Modal/Footer.tsx","components/organisms/Modal/index.tsx","components/atoms/ModalBodyWrapper.tsx","components/atoms/ModalFooterWrapper.tsx","hooks/useModal.tsx","components/organisms/Prompt/index.tsx","components/atoms/Textarea.tsx","components/molecules/FormGroupTextarea/__styled__/Wrapper.tsx","components/molecules/FormGroupTextarea/index.tsx","components/templates/Branches/NarrativeBranchModal/Body.tsx","components/templates/Branches/NarrativeBranchModal/Footer.tsx","components/templates/Branches/NarrativeBranchModal/index.tsx","components/atoms/Select.tsx","components/molecules/FormGroupSelect/__styled__/Wrapper.tsx","components/molecules/FormGroupSelect/index.tsx","components/templates/Branches/RewardBranchModal/Treasures/index.tsx","components/templates/Branches/RewardBranchModal/Mages/index.tsx","components/molecules/FormGroupInputNumber/__styled__/Wrapper.tsx","components/molecules/FormGroupInputNumber/index.tsx","components/molecules/SupplyCardBlueprint/index.tsx","components/templates/Branches/RewardBranchModal/Supply/index.tsx","components/templates/Branches/RewardBranchModal/Body.tsx","components/templates/Branches/RewardBranchModal/Footer.tsx","components/templates/Branches/RewardBranchModal/index.tsx","components/templates/Branches/BattleBranchModal/RewardConfig/Treasures/index.tsx","components/templates/Branches/BattleBranchModal/RewardConfig/Mages/index.tsx","components/templates/Branches/BattleBranchModal/RewardConfig/Supply/index.tsx","components/templates/Branches/BattleBranchModal/RewardConfig/index.tsx","components/templates/Branches/BattleBranchModal/Body.tsx","components/templates/Branches/BattleBranchModal/Footer.tsx","components/templates/Branches/BattleBranchModal/index.tsx","components/templates/Branches/index.tsx","components/templates/ConnectBranches/index.tsx","components/templates/InitialBarracks/index.tsx","components/templates/initialUBNCards/index.tsx","components/molecules/SupplyTile/index.tsx","components/templates/SettingsSnapshot/index.tsx","helpers/copyToClipboard.ts","helpers/saveToFile.ts","components/molecules/Preview/__styled__/Wrapper.tsx","components/molecules/Preview/__styled__/Pre.tsx","components/molecules/Preview/index.tsx","components/molecules/Configurator/__styled__/Wrapper.tsx","components/molecules/Configurator/__styled__/Form.tsx","components/molecules/Configurator/index.tsx","components/App/__styled__/Wrapper.tsx","components/App/MainApp.tsx","components/App/index.tsx","index.tsx","Redux/configureStore.ts"],"names":["ActionTypes","actions","noOp","createAction","setExpeditionName","name","SET_EXPEDITION_NAME","selectors","getExpeditionName","state","DraftExpedition","Name","setSeed","seed","SET_SEED","getSeed","SeedConfig","setBigPocketVariantConfig","value","SET_BIG_POCKET_VARIANT_CONFIG","getBigPocketVariantConfig","BigPocketVariantConfig","initialState","mageIds","supplyIds","treasureIds","setMages","mages","SET_MAGES","setSupplyCards","supplyCards","SET_SUPPLY_CARDS","setTreasures","treasures","SET_TREASURES","getInitialBarracksConfig","InitialBarracksConfig","getBarrackMages","createSelector","barracks","getBarrackSupplyCards","getBarrackTreasures","setUBNCards","upgradedBasicNemesisCards","SET_UBN_CARDS","getInitialUBNCardsConfig","InitialUBNCardsConfig","initialMarketSetup","Object","values","DATA","marketsetups","setups","find","setup","default","dataMages","normalizedData","ENG","dataSupply","cards","dataTreasures","dataNemeses","nemeses","dataUBNCards","supplySetup","id","type","active","tiles","reduce","tile","tileId","shortid","generate","newTile","operation","threshold","assign","availableMageIds","map","mage","availableCardIds","supply","availableTreasureIds","treasure","availableNemesisIds","nemesis","availableUpgradedBasicNemesisCardIds","upgradedBasicNemesisCard","setSupplySetup","SET_SUPPLY_SETUP","setSupplySetupType","SET_SUPPLY_SETUP_TYPE","setSupplySetupId","SET_SUPPLY_SETUP_ID","setSupplySetupName","SET_SUPPLY_SETUP_NAME","addSupplyTile","ADD_SUPPLY_TILE","updateSupplyTile","UPDATE_SUPPLY_TILE","deleteSupplyTile","DELETE_SUPPLY_TILE","setAvailableMages","SET_AVAILABLE_MAGES","setAvailableSupplyCards","SET_AVAILABLE_SUPPLY_CARDS","setAvailableTreasures","SET_AVAILABLE_TREASURES","setAvailableNemeses","SET_AVAILABLE_NEMESES","setAvailableUBNCards","SET_AVAILABLE_UBN_CARDS","getSettingsSnapshotConfig","SettingsSnapshotConfig","getSupplySetupType","settings","getSupplySetupId","getSupplySetupName","getSupplyTiles","getSupplyTileIds","keys","getSupplyTilesArray","getAvailableMages","getAvailableSupplyCards","getAvailableTreasures","getAvailableNemeses","getAvailableUBNCards","draftAddRewardConfig","DRAFT_ADD_REWARD_CONFIG","draftEditRewardConfig","config","DRAFT_EDIT_REWARD_CONFIG","draftDeleteRewardConfig","DRAFT_DELETE_REWARD_CONFIG","clearDraftRewardConfig","CLEAR_DRAFT_REWARD_CONFIG","getDraftRewardConfigState","SequenceConfig","DraftRewardConfig","getDraftRewardConfigIds","configs","getDraftRewardConfigArray","draftAddRewardSupplyCard","DRAFT_ADD_REWARD_SUPPLY_CARD","draftAddBattleRewardSupplyCard","configId","DRAFT_ADD_BATTLE_REWARD_SUPPLY_CARD","draftEditRewardSupplyCard","blueprint","DRAFT_EDIT_REWARD_SUPPLY_CARD","draftDeleteRewardSupplyCard","DRAFT_DELETE_REWARD_SUPPLY_CARD","clearDraftRewardSupplyCard","CLEAR_DRAFT_REWARD_SUPPLY_CARD","getDraftRewardSupplyCardState","DraftRewardSupplyCard","getDraftRewardSupplyCardIds","blueprints","getDraftRewardSupplyCardArray","setFirstBranchId","branchId","SET_FIRST_BRANCH_ID","clearFirstBranchId","CLEAR_FIRST_BRANCH_ID","getFirstBranchId","FirstBranchId","addNarrativeBranch","branch","ADD_NARRATIVE_BRANCH","addBattleBranch","ADD_BATTLE_BRANCH","addRewardBranch","ADD_REWARD_BRANCH","updateBranch","UPDATE_BRANCH","getBranchesState","Branches","getBranchIds","branches","getBranches","Reducer","combineReducers","action","_id","payload","rewardType","newConfigs","filter","newState","newBlueprints","tileToDeleteId","newTiles","newTilesState","RootReducer","reduceReducers","Boolean","window","location","hostname","match","GlobalStyle","createGlobalStyle","mainTheme","colors","H1","styled","Wrapper","Header","Button","Summary","Content","SummaryIcon","React","memo","title","open","children","useState","isOpen","setIsOpen","aria-expanded","aria-controls","onClick","className","role","aria-labelledby","hidden","ScreenReaderOnlyText","Legend","legend","legendVisible","Label","Input","label","labelHidden","onChange","defaultValue","required","htmlFor","defaultChecked","mapDispatchToProps","connect","expeditionName","bigPocketVariantConfig","event","target","currentTarget","checked","Backdrop","Body","props","hasFooter","H2","Title","themeColor","rest","CloseButton","Footer","titleColor","titleLabel","closeModal","footer","domEl","document","getElementById","ReactDOM","createPortal","Fragment","variant","ModalBodyWrapper","ModalFooterWrapper","useModal","yesHandler","noHandler","isVisible","setIsVisible","hide","show","RenderModal","closeCallback","Textarea","setBranch","text","decisions","split","decision","modal","initialBranch","Select","ReactSelect","options","isMulti","classNamePrefix","treasureOptions","level","FormGroupSelect","selectOptions","selectedTreasureIds","option","ids","tier1","parseInt","tier2","tier3","mageOptions","selectedMageIds","randomAmount","SupplyCardBlueprint","handleChange","handleDelete","cardTypeOptions","cardTypeDefaultValue","cardOperationOptions","cardOperationDefaultValue","selectOption","costValues","addSupplyCard","editSupplyCard","deleteSupplyCard","supplyOptions","handleEditSupplyCard","handleDeleteSupplyCard","bigPocket","selectedSupplyIds","key","renderSupplyBlueprints","handleRewardTypeChange","updateDraftRewardConfig","undefined","addRewardConfig","editRewardConfig","deleteRewardConfig","rewardConfigs","nemesisOptions","upgradedBasicNemesisCardsOptions","treasureLevelOptions","treasureLevelDefaultValue","toString","winConfigs","lossConfigs","handleBattleTierChange","tier","handleNewUBNCardsTypeChange","newUBNCards","handleAddRewardConfig","handleEditRewardConfig","handleDeleteRewardConfig","renderRewardConfigs","nemesisId","onLoss","specialRules","selectedUBNCardIds","addRandom","hasTreasure","length","rewardSupplyCards","winRewards","lossRewards","newBranch","card","reward","narrativeBranchModal","rewardBranchModal","battleBranchModal","style","display","firstBranchId","availableBranchesOptions","handleNarrativNextBranchIdChange","branchToUpdate","currentBranchId","newDecisions","decisionId","nextBranchId","handleNextBranchIdChange","availableOptions","availableBranch","narrativeBranch","decisionOptions","availableOption","setBarrackMages","setBarrackSupplyCards","setBarrackTreasures","barrackMages","barrackSupplyCards","barrackTreasures","magesDefaultValue","indexOf","supplyCardsDefaultValue","treasuresDefaultValue","upgradedBasicNemesisCardsDefaultValue","selectedUBNCardsIds","SupplyTile","supplySetupType","supplySetupId","supplySetupName","availableMages","availableSupplyCards","availableTreasures","availableNemeses","availableUBNCards","handleSupplySetupTypeChange","marketSetupsOptions","marketSetup","marketSetupsDefaultValue","handleUpdateSupplyCard","supplyGemOptions","cost","supplyRelicOptions","supplySpellOptions","supplyGemsDefaultValue","supplyRelicsDefaultValue","supplySpellsDefaultValue","treasureLevel1Options","subtype","treasureLevel2Options","treasureLevel3Options","treasuresLevel1DefaultValue","treasuresLevel2DefaultValue","treasuresLevel3DefaultValue","nemesesOptions","nemesesDefaultValue","renderSupplyTiles","selectedGemIds","allButGemSupplyCards","supplyCard","selectedRelicIds","allButRelicSupplyCards","selectedSpellIds","allButSpellSupplyCards","selectedTreasureLevel1Ids","allButLevel1Treasures","selectedTreasureLevel2Ids","allButLevel2Treasures","selectedTreasureLevel3Ids","allButLevel3Treasures","selectedNemesisIds","copyToClipboard","json","navigator","clipboard","writeText","saveToFile","blob","Blob","saveAs","Pre","initialBarracks","initialUBNCards","settingsSnapshot","fileName","dataBranches","rewardBranch","randomTreasuresTier1","Array","fill","random","randomTreasuresTier2","randomTreasuresTier3","randomMageAmount","battleBranch","hasOwnProperty","winRewardTreasure","winRewardMage","winRewardSupply","winRewardTreasureIds","winRewardRandomTreasuresTier1","winRewardRandomTreasuresTier2","winRewardRandomTreasuresTier3","winRewardMageIds","winRewardRandomMageAmount","winRewardSupplyIds","winRewardSupplyBlueprints","winRewardSupplyBigPocket","lossReward","lossRewardTreasure","lossRewardMage","lossRewardSupply","lossRewardTreasureIds","lossRewardRandomTreasuresTier1","lossRewardRandomTreasuresTier2","lossRewardRandomTreasuresTier3","lossRewardMageIds","lossRewardRandomMageAmount","lossRewardSupplyIds","lossRewardSupplyBlueprints","lossRewardSupplyBigPocket","dataSupplyTiles","data","sequenceConfig","settingsSnapshotConfig","seedConfig","initialBarracksConfig","initialUBNCardsConfig","handleCopyToClipboard","JSON","stringify","handleSave","Form","MainApp","App","theme","store","enhancers","applyMiddleware","install","composeEnhancers","compose","enhancedCreateStore","createStore","configureStore","render","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.d79dd1d3.chunk.js","sourcesContent":["import { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { LoopReducer } from 'redux-loop'\n\n///////////\n// STATE //\n///////////\n\nexport type State = string\nexport const initialState: State = \"\"\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  SET_EXPEDITION_NAME = 'DraftExpedition/Name/SET_EXPEDITION_NAME',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  setExpeditionName: (name: string) =>\n    createAction(ActionTypes.SET_EXPEDITION_NAME, name),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.SET_EXPEDITION_NAME: {\n      return action.payload\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport type NameStateSlice = {\n  DraftExpedition: {\n    Name: State\n  }\n}\n\nconst getExpeditionName = (state: NameStateSlice) => state.DraftExpedition.Name\n\nexport const selectors = {\n  getExpeditionName,\n}\n","import { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { LoopReducer } from 'redux-loop'\n\n///////////\n// STATE //\n///////////\n\nexport type State = string\nexport const initialState: State = ''\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  SET_SEED = 'DraftExpedition/SeedConfig/SET_SEED',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  setSeed: (seed: string) => createAction(ActionTypes.SET_SEED, seed),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.SET_SEED: {\n      return action.payload\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport type SeedStateSlice = {\n  DraftExpedition: {\n    SeedConfig: State\n  }\n}\n\nconst getSeed = (state: SeedStateSlice) => state.DraftExpedition.SeedConfig\n\nexport const selectors = {\n  getSeed,\n}\n","import { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { LoopReducer } from 'redux-loop'\n\n///////////\n// STATE //\n///////////\n\nexport type State = boolean\nexport const initialState: State = false\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  SET_BIG_POCKET_VARIANT_CONFIG = 'DraftExpedition/BigPocketVariantConfig/SET_BIG_POCKET_VARIANT_CONFIG',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  setBigPocketVariantConfig: (value: boolean) =>\n    createAction(ActionTypes.SET_BIG_POCKET_VARIANT_CONFIG, value),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.SET_BIG_POCKET_VARIANT_CONFIG: {\n      return action.payload\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport type BigPocketVariantConfigStateSlice = {\n  DraftExpedition: {\n    BigPocketVariantConfig: State\n  }\n}\n\nconst getBigPocketVariantConfig = (state: BigPocketVariantConfigStateSlice) => state.DraftExpedition.BigPocketVariantConfig\n\nexport const selectors = {\n  getBigPocketVariantConfig,\n}\n","import { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { LoopReducer } from 'redux-loop'\n\nimport * as aerTypes from 'aer-types'\nimport { createSelector } from 'reselect'\n\n///////////\n// STATE //\n///////////\n\nexport type State = aerTypes.Barracks\n\nexport const initialState: State = {\n  mageIds: [],\n  supplyIds: [],\n  treasureIds: [],\n}\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  SET_MAGES = 'DraftExpedition/InitialBarracksConfig/SET_MAGES',\n  SET_SUPPLY_CARDS = 'DraftExpedition/InitialBarracksConfig/SET_SUPPLY_CARDS',\n  SET_TREASURES = 'DraftExpedition/InitialBarracksConfig/SET_TREASURES',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  setMages: (mages: string[]) => createAction(ActionTypes.SET_MAGES, mages),\n  setSupplyCards: (supplyCards: string[]) =>\n    createAction(ActionTypes.SET_SUPPLY_CARDS, supplyCards),\n  setTreasures: (treasures: string[]) =>\n    createAction(ActionTypes.SET_TREASURES, treasures),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.SET_MAGES: {\n      return {\n        ...state,\n        mageIds: action.payload,\n      }\n    }\n\n    case ActionTypes.SET_SUPPLY_CARDS: {\n      return {\n        ...state,\n        supplyIds: action.payload,\n      }\n    }\n\n    case ActionTypes.SET_TREASURES: {\n      return {\n        ...state,\n        treasureIds: action.payload,\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport type InitialBarracksConfigStateSlice = {\n  DraftExpedition: {\n    InitialBarracksConfig: State\n  }\n}\n\nconst getInitialBarracksConfig = (state: InitialBarracksConfigStateSlice) =>\n  state.DraftExpedition.InitialBarracksConfig\n\nconst getBarrackMages = createSelector(\n  [getInitialBarracksConfig],\n  (barracks: aerTypes.Barracks) => barracks.mageIds\n)\n\nconst getBarrackSupplyCards = createSelector(\n  [getInitialBarracksConfig],\n  (barracks: aerTypes.Barracks) => barracks.supplyIds\n)\n\nconst getBarrackTreasures = createSelector(\n  [getInitialBarracksConfig],\n  (barracks: aerTypes.Barracks) => barracks.treasureIds\n)\n\nexport const selectors = {\n  getInitialBarracksConfig,\n  getBarrackMages,\n  getBarrackSupplyCards,\n  getBarrackTreasures,\n}\n","import { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { LoopReducer } from 'redux-loop'\n\n///////////\n// STATE //\n///////////\n\nexport type State = string[]\n\nexport const initialState: State = []\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  SET_UBN_CARDS = 'DraftExpedition/InitialUBNCardsConfig/SET_UBN_CARDS',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  setUBNCards: (upgradedBasicNemesisCards: string[]) =>\n    createAction(ActionTypes.SET_UBN_CARDS, upgradedBasicNemesisCards),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.SET_UBN_CARDS: {\n      return action.payload\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport type InitialUBNCardsConfigStateSlice = {\n  DraftExpedition: {\n    InitialUBNCardsConfig: State\n  }\n}\n\nconst getInitialUBNCardsConfig = (state: InitialUBNCardsConfigStateSlice) =>\n  state.DraftExpedition.InitialUBNCardsConfig\n\nexport const selectors = {\n  getInitialUBNCardsConfig,\n}\n","import { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { LoopReducer } from 'redux-loop'\nimport { createSelector } from 'reselect'\n\nimport DATA from 'aer-data'\nimport * as aerTypes from 'aer-types'\nimport shortid from 'shortid'\n\nimport * as types from 'types'\n\n///////////\n// STATE //\n///////////\n\nexport type State = {\n  supplySetup: types.SupplySetup\n  availableMageIds: string[]\n  availableCardIds: string[]\n  availableTreasureIds: string[]\n  availableNemesisIds: string[]\n  availableUpgradedBasicNemesisCardIds: string[]\n}\n\nconst dataMarketSetups = Object.values(DATA.marketsetups.setups)\nconst initialMarketSetup = dataMarketSetups.find(\n  (setup: aerTypes.IMarketSetup) => setup.default\n)\nconst dataMages: aerTypes.Mage[] = Object.values(DATA.normalizedData.ENG.mages)\nconst dataSupply: aerTypes.ICard[] = Object.values(\n  DATA.normalizedData.ENG.cards\n)\nconst dataTreasures: aerTypes.Treasure[] = Object.values(\n  DATA.normalizedData.ENG.treasures\n)\n\nconst dataNemeses: aerTypes.Nemesis[] = Object.values(\n  DATA.normalizedData.ENG.nemeses\n)\n\nconst dataUBNCards: aerTypes.UpgradedBasicNemesisCard[] = Object.values(\n  DATA.normalizedData.ENG.upgradedBasicNemesisCards\n)\n\nexport const initialState: State = {\n  supplySetup: {\n    id: initialMarketSetup?.id ?? '',\n    name: initialMarketSetup?.name ?? '',\n    type: initialMarketSetup?.type ?? 'official',\n    active: initialMarketSetup?.active ?? true,\n    tiles:\n      initialMarketSetup?.tiles.reduce(\n        (tiles: types.Tiles, tile: aerTypes.Slot) => {\n          const tileId = tile.id ?? shortid.generate()\n\n          const newTile = {\n            id: tileId,\n            type: tile.type as types.SupplyCardType,\n            operation: tile.operation,\n          }\n\n          tile.threshold &&\n            Object.assign(newTile, {\n              threshold: tile.threshold,\n            })\n\n          tile.values &&\n            Object.assign(newTile, {\n              values: tile.values,\n            })\n\n          return {\n            ...tiles,\n            [tileId]: newTile,\n          }\n        },\n        {}\n      ) ?? {},\n  },\n  availableMageIds: dataMages.map((mage: aerTypes.Mage) => mage.id),\n  availableCardIds: dataSupply.map((supply: aerTypes.ICard) => supply.id),\n  availableTreasureIds: dataTreasures.map(\n    (treasure: aerTypes.Treasure) => treasure.id\n  ),\n  availableNemesisIds: dataNemeses.map(\n    (nemesis: aerTypes.Nemesis) => nemesis.id\n  ),\n  availableUpgradedBasicNemesisCardIds: dataUBNCards.map(\n    (upgradedBasicNemesisCard: aerTypes.UpgradedBasicNemesisCard) =>\n      upgradedBasicNemesisCard.id\n  ),\n}\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  SET_SUPPLY_SETUP = 'DraftExpedition/SettingsSnapshotConfig/SET_SUPPLY_SETUP',\n  SET_SUPPLY_SETUP_TYPE = 'DraftExpedition/SettingsSnapshotConfig/SET_SUPPLY_SETUP_TYPE',\n  SET_SUPPLY_SETUP_ID = 'DraftExpedition/SettingsSnapshotConfig/SET_SUPPLY_SETUP_ID',\n  SET_SUPPLY_SETUP_NAME = 'DraftExpedition/SettingsSnapshotConfig/SET_SUPPLY_SETUP_NAME',\n  ADD_SUPPLY_TILE = 'DraftExpedition/SettingsSnapshotConfig/ADD_SUPPLY_TILE',\n  UPDATE_SUPPLY_TILE = 'DraftExpedition/SettingsSnapshotConfig/UPDATE_SUPPLY_TILE',\n  DELETE_SUPPLY_TILE = 'DraftExpedition/SettingsSnapshotConfig/DELETE_SUPPLY_TILE',\n  SET_AVAILABLE_MAGES = 'DraftExpedition/SettingsSnapshotConfig/SET_AVAILABLE_MAGES',\n  SET_AVAILABLE_SUPPLY_CARDS = 'DraftExpedition/SettingsSnapshotConfig/SET_AVAILABLE_SUPPLY_CARDS',\n  SET_AVAILABLE_TREASURES = 'DraftExpedition/SettingsSnapshotConfig/SET_AVAILABLE_TREASURES',\n  SET_AVAILABLE_NEMESES = 'DraftExpedition/SettingsSnapshotConfig/SET_AVAILABLE_NEMESES',\n  SET_AVAILABLE_UBN_CARDS = 'DraftExpedition/SettingsSnapshotConfig/SET_AVAILABLE_UBN_CARDS',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  setSupplySetup: (supplySetup: types.SupplySetup) =>\n    createAction(ActionTypes.SET_SUPPLY_SETUP, supplySetup),\n  setSupplySetupType: (type: types.SupplySetupType) =>\n    createAction(ActionTypes.SET_SUPPLY_SETUP_TYPE, type),\n  setSupplySetupId: (id: string) =>\n    createAction(ActionTypes.SET_SUPPLY_SETUP_ID, id),\n  setSupplySetupName: (name: string) =>\n    createAction(ActionTypes.SET_SUPPLY_SETUP_NAME, name),\n  addSupplyTile: () => createAction(ActionTypes.ADD_SUPPLY_TILE),\n  updateSupplyTile: (tile: aerTypes.MarketTile) =>\n    createAction(ActionTypes.UPDATE_SUPPLY_TILE, tile),\n  deleteSupplyTile: (tileId: string) =>\n    createAction(ActionTypes.DELETE_SUPPLY_TILE, tileId),\n  setAvailableMages: (mages: string[]) =>\n    createAction(ActionTypes.SET_AVAILABLE_MAGES, mages),\n  setAvailableSupplyCards: (supplyCards: string[]) =>\n    createAction(ActionTypes.SET_AVAILABLE_SUPPLY_CARDS, supplyCards),\n  setAvailableTreasures: (treasures: string[]) =>\n    createAction(ActionTypes.SET_AVAILABLE_TREASURES, treasures),\n  setAvailableNemeses: (nemeses: string[]) =>\n    createAction(ActionTypes.SET_AVAILABLE_NEMESES, nemeses),\n  setAvailableUBNCards: (upgradedBasicNemesisCards: string[]) =>\n    createAction(\n      ActionTypes.SET_AVAILABLE_UBN_CARDS,\n      upgradedBasicNemesisCards\n    ),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.SET_SUPPLY_SETUP: {\n      return {\n        ...state,\n        supplySetup: action.payload,\n      }\n    }\n\n    case ActionTypes.SET_SUPPLY_SETUP_TYPE: {\n      return {\n        ...state,\n        supplySetup: {\n          ...state.supplySetup,\n          type: action.payload,\n        },\n      }\n    }\n\n    case ActionTypes.SET_SUPPLY_SETUP_ID: {\n      return {\n        ...state,\n        supplySetup: {\n          ...state.supplySetup,\n          id: action.payload,\n        },\n      }\n    }\n\n    case ActionTypes.SET_SUPPLY_SETUP_NAME: {\n      return {\n        ...state,\n        supplySetup: {\n          ...state.supplySetup,\n          name: action.payload,\n        },\n      }\n    }\n\n    case ActionTypes.ADD_SUPPLY_TILE: {\n      const tileId = shortid()\n\n      return {\n        ...state,\n        supplySetup: {\n          ...state.supplySetup,\n          tiles: {\n            ...state.supplySetup.tiles,\n            [tileId]: {\n              id: tileId,\n              type: 'Gem',\n              operation: 'ANY',\n            },\n          },\n        },\n      }\n    }\n\n    case ActionTypes.UPDATE_SUPPLY_TILE: {\n      const { id } = action.payload\n\n      return {\n        ...state,\n        supplySetup: {\n          ...state.supplySetup,\n          tiles: {\n            ...state.supplySetup.tiles,\n            [id]: action.payload,\n          },\n        },\n      }\n    }\n\n    case ActionTypes.DELETE_SUPPLY_TILE: {\n      const tileToDeleteId = action.payload\n      const tiles = Object.values(state.supplySetup.tiles)\n\n      const newTiles = tiles.filter(\n        (tile: aerTypes.MarketTile) => tile.id !== tileToDeleteId\n      )\n\n      const newTilesState = newTiles.reduce(\n        (tiles: types.Tiles, tile: aerTypes.MarketTile) => {\n          return {\n            ...tiles,\n            [tile.id]: tile,\n          }\n        },\n        {}\n      )\n\n      return {\n        ...state,\n        supplySetup: {\n          ...state.supplySetup,\n          tiles: newTilesState,\n        },\n      }\n    }\n\n    case ActionTypes.SET_AVAILABLE_MAGES: {\n      return {\n        ...state,\n        availableMageIds: action.payload,\n      }\n    }\n\n    case ActionTypes.SET_AVAILABLE_SUPPLY_CARDS: {\n      return {\n        ...state,\n        availableCardIds: action.payload,\n      }\n    }\n\n    case ActionTypes.SET_AVAILABLE_TREASURES: {\n      return {\n        ...state,\n        availableTreasureIds: action.payload,\n      }\n    }\n\n    case ActionTypes.SET_AVAILABLE_NEMESES: {\n      return {\n        ...state,\n        availableNemesisIds: action.payload,\n      }\n    }\n\n    case ActionTypes.SET_AVAILABLE_UBN_CARDS: {\n      return {\n        ...state,\n        availableUpgradedBasicNemesisCardIds: action.payload,\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport type SettingsSnapshotConfigStateSlice = {\n  DraftExpedition: {\n    SettingsSnapshotConfig: State\n  }\n}\n\nconst getSettingsSnapshotConfig = (state: SettingsSnapshotConfigStateSlice) =>\n  state.DraftExpedition.SettingsSnapshotConfig\n\nconst getSupplySetupType = createSelector(\n  [getSettingsSnapshotConfig],\n  (settings: State) => settings.supplySetup.type\n)\n\nconst getSupplySetupId = createSelector(\n  [getSettingsSnapshotConfig],\n  (settings: State) => settings.supplySetup.id\n)\n\nconst getSupplySetupName = createSelector(\n  [getSettingsSnapshotConfig],\n  (settings: State) => settings.supplySetup.name\n)\n\nconst getSupplyTiles = createSelector(\n  [getSettingsSnapshotConfig],\n  (settings: State) => settings.supplySetup.tiles\n)\n\nconst getSupplyTileIds = createSelector(\n  [getSupplyTiles],\n  (tiles: types.Tiles) => Object.keys(tiles)\n)\n\nconst getSupplyTilesArray = createSelector(\n  [getSupplyTiles],\n  (tiles: types.Tiles) => Object.values(tiles)\n)\n\nconst getAvailableMages = createSelector(\n  [getSettingsSnapshotConfig],\n  (settings: State) => settings.availableMageIds\n)\n\nconst getAvailableSupplyCards = createSelector(\n  [getSettingsSnapshotConfig],\n  (settings: State) => settings.availableCardIds\n)\n\nconst getAvailableTreasures = createSelector(\n  [getSettingsSnapshotConfig],\n  (settings: State) => settings.availableTreasureIds\n)\n\nconst getAvailableNemeses = createSelector(\n  [getSettingsSnapshotConfig],\n  (settings: State) => settings.availableNemesisIds\n)\n\nconst getAvailableUBNCards = createSelector(\n  [getSettingsSnapshotConfig],\n  (settings: State) => settings.availableUpgradedBasicNemesisCardIds\n)\n\nexport const selectors = {\n  getSettingsSnapshotConfig,\n  getSupplySetupType,\n  getSupplySetupId,\n  getSupplySetupName,\n  getSupplyTileIds,\n  getSupplyTilesArray,\n  getAvailableMages,\n  getAvailableSupplyCards,\n  getAvailableTreasures,\n  getAvailableNemeses,\n  getAvailableUBNCards,\n}\n","import { LoopReducer } from 'redux-loop'\nimport { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { createSelector } from 'reselect'\nimport shortid from 'shortid'\n\nimport * as types from 'types'\n\n///////////\n// STATE //\n///////////\n\nexport type State = {\n  [id: string]: types.BattleRewardConfig\n}\n\nexport const initialState: State = {}\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  DRAFT_ADD_REWARD_CONFIG = 'DraftExpedition/SequenceConfig/DraftRewardConfig/DRAFT_ADD_REWARD_CONFIG',\n  DRAFT_EDIT_REWARD_CONFIG = 'DraftExpedition/SequenceConfig/DraftRewardConfig/DRAFT_EDIT_REWARD_CONFIG',\n  DRAFT_DELETE_REWARD_CONFIG = 'DraftExpedition/SequenceConfig/DraftRewardConfig/DRAFT_DELETE_REWARD_CONFIG',\n  CLEAR_DRAFT_REWARD_CONFIG = 'DraftExpedition/SequenceConfig/DraftRewardConfig/CLEAR_DRAFT_REWARD_CONFIG',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  draftAddRewardConfig: (type: types.BattleRewardConfigType) =>\n    createAction(ActionTypes.DRAFT_ADD_REWARD_CONFIG, type),\n  draftEditRewardConfig: (config: types.BattleRewardConfig) =>\n    createAction(ActionTypes.DRAFT_EDIT_REWARD_CONFIG, config),\n  draftDeleteRewardConfig: (config: types.BattleRewardConfig) =>\n    createAction(ActionTypes.DRAFT_DELETE_REWARD_CONFIG, config),\n  clearDraftRewardConfig: () =>\n    createAction(ActionTypes.CLEAR_DRAFT_REWARD_CONFIG),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.DRAFT_ADD_REWARD_CONFIG: {\n      const id = shortid.generate()\n\n      return {\n        [id]: {\n          _id: id,\n          type: action.payload,\n          rewardType: 'regular',\n        },\n        ...state,\n      }\n    }\n\n    case ActionTypes.DRAFT_EDIT_REWARD_CONFIG: {\n      const { _id } = action.payload\n\n      return {\n        ...state,\n        [_id]: action.payload,\n      }\n    }\n\n    case ActionTypes.DRAFT_DELETE_REWARD_CONFIG: {\n      const { _id } = action.payload\n      const configs = Object.values(state)\n\n      const newConfigs = configs.filter(\n        (config: types.BattleRewardConfig) => config._id !== _id\n      )\n\n      const newState = newConfigs.reduce(\n        (configs: State, config: types.BattleRewardConfig) => {\n          return {\n            ...configs,\n            [config._id]: config,\n          }\n        },\n        {}\n      )\n\n      return newState\n    }\n\n    case ActionTypes.CLEAR_DRAFT_REWARD_CONFIG: {\n      return initialState\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport type DraftRewardConfigStateSlice = {\n  DraftExpedition: {\n    SequenceConfig: {\n      DraftRewardConfig: State\n    }\n  }\n}\n\nconst getDraftRewardConfigState = (state: DraftRewardConfigStateSlice) =>\n  state.DraftExpedition.SequenceConfig.DraftRewardConfig\n\nconst getDraftRewardConfigIds = createSelector(\n  [getDraftRewardConfigState],\n  (configs) => Object.keys(configs)\n)\n\nconst getDraftRewardConfigArray = createSelector(\n  [getDraftRewardConfigState],\n  (configs) => Object.values(configs)\n)\n\nexport const selectors = {\n  getDraftRewardConfigState,\n  getDraftRewardConfigIds,\n  getDraftRewardConfigArray,\n}\n","import { LoopReducer } from 'redux-loop'\nimport { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { createSelector } from 'reselect'\nimport shortid from 'shortid'\n\nimport * as types from 'types'\n\n///////////\n// STATE //\n///////////\n\nexport type State = {\n  [id: string]: types.Blueprint\n}\n\nexport const initialState: State = {}\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  DRAFT_ADD_REWARD_SUPPLY_CARD = 'DraftExpedition/SequenceConfig/DraftRewardSupplyCard/DRAFT_ADD_REWARD_SUPPLY_CARD',\n  DRAFT_ADD_BATTLE_REWARD_SUPPLY_CARD = 'DraftExpedition/SequenceConfig/DraftRewardSupplyCard/DRAFT_ADD_BATTLE_REWARD_SUPPLY_CARD',\n  DRAFT_EDIT_REWARD_SUPPLY_CARD = 'DraftExpedition/SequenceConfig/DraftRewardSupplyCard/DRAFT_EDIT_REWARD_SUPPLY_CARD',\n  DRAFT_DELETE_REWARD_SUPPLY_CARD = 'DraftExpedition/SequenceConfig/DraftRewardSupplyCard/DRAFT_DELETE_REWARD_SUPPLY_CARD',\n  CLEAR_DRAFT_REWARD_SUPPLY_CARD = 'DraftExpedition/SequenceConfig/DraftRewardSupplyCard/CLEAR_DRAFT_REWARD_SUPPLY_CARD',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  draftAddRewardSupplyCard: () =>\n    createAction(ActionTypes.DRAFT_ADD_REWARD_SUPPLY_CARD),\n  draftAddBattleRewardSupplyCard: (configId: string) =>\n    createAction(ActionTypes.DRAFT_ADD_BATTLE_REWARD_SUPPLY_CARD, configId),\n  draftEditRewardSupplyCard: (blueprint: types.Blueprint) =>\n    createAction(ActionTypes.DRAFT_EDIT_REWARD_SUPPLY_CARD, blueprint),\n  draftDeleteRewardSupplyCard: (blueprint: types.Blueprint) =>\n    createAction(ActionTypes.DRAFT_DELETE_REWARD_SUPPLY_CARD, blueprint),\n  clearDraftRewardSupplyCard: () =>\n    createAction(ActionTypes.CLEAR_DRAFT_REWARD_SUPPLY_CARD),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.DRAFT_ADD_REWARD_SUPPLY_CARD: {\n      const id = shortid.generate()\n\n      return {\n        [id]: {\n          _id: id,\n          type: 'Gem',\n          operation: 'ANY',\n        },\n        ...state,\n      }\n    }\n\n    case ActionTypes.DRAFT_ADD_BATTLE_REWARD_SUPPLY_CARD: {\n      const id = shortid.generate()\n\n      return {\n        [id]: {\n          _id: id,\n          configId: action.payload,\n          type: 'Gem',\n          operation: 'ANY',\n        },\n        ...state,\n      }\n    }\n\n    case ActionTypes.DRAFT_EDIT_REWARD_SUPPLY_CARD: {\n      const { _id } = action.payload\n\n      return {\n        ...state,\n        [_id]: action.payload,\n      }\n    }\n\n    case ActionTypes.DRAFT_DELETE_REWARD_SUPPLY_CARD: {\n      const { _id } = action.payload\n      const blueprints = Object.values(state)\n\n      const newBlueprints = blueprints.filter(\n        (blueprint: types.Blueprint) => blueprint._id !== _id\n      )\n\n      const newState = newBlueprints.reduce(\n        (blueprints: State, blueprint: types.Blueprint) => {\n          return {\n            ...blueprints,\n            [blueprint._id]: blueprint,\n          }\n        },\n        {}\n      )\n\n      return newState\n    }\n\n    case ActionTypes.CLEAR_DRAFT_REWARD_SUPPLY_CARD: {\n      return initialState\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport type DraftRewardSupplyCardStateSlice = {\n  DraftExpedition: {\n    SequenceConfig: {\n      DraftRewardSupplyCard: State\n    }\n  }\n}\n\nconst getDraftRewardSupplyCardState = (\n  state: DraftRewardSupplyCardStateSlice\n) => state.DraftExpedition.SequenceConfig.DraftRewardSupplyCard\n\nconst getDraftRewardSupplyCardIds = createSelector(\n  [getDraftRewardSupplyCardState],\n  (blueprints) => Object.keys(blueprints)\n)\n\nconst getDraftRewardSupplyCardArray = createSelector(\n  [getDraftRewardSupplyCardState],\n  (blueprints) => Object.values(blueprints)\n)\n\nexport const selectors = {\n  getDraftRewardSupplyCardState,\n  getDraftRewardSupplyCardIds,\n  getDraftRewardSupplyCardArray,\n}\n","import { LoopReducer } from 'redux-loop'\nimport { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\n\n///////////\n// STATE //\n///////////\n\nexport type State = string | null\n\nexport const initialState: State = null\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  SET_FIRST_BRANCH_ID = 'DraftExpedition/SequenceConfig/FirstBranchId/SET_FIRST_BRANCH_ID',\n  CLEAR_FIRST_BRANCH_ID = 'DraftExpedition/SequenceConfig/FirstBranchId/CLEAR_FIRST_BRANCH_ID',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  setFirstBranchId: (branchId: string) =>\n    createAction(ActionTypes.SET_FIRST_BRANCH_ID, branchId),\n  clearFirstBranchId: () => createAction(ActionTypes.CLEAR_FIRST_BRANCH_ID),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.SET_FIRST_BRANCH_ID: {\n      return action.payload\n    }\n\n    case ActionTypes.CLEAR_FIRST_BRANCH_ID: {\n      return initialState\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport type FirstBranchIdStateSlice = {\n  DraftExpedition: {\n    SequenceConfig: {\n      FirstBranchId: State\n    }\n  }\n}\n\nconst getFirstBranchId = (state: FirstBranchIdStateSlice) =>\n  state.DraftExpedition.SequenceConfig.FirstBranchId\n\nexport const selectors = {\n  getFirstBranchId,\n}\n","import { createSelector } from 'reselect'\nimport { LoopReducer } from 'redux-loop'\nimport { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport shortid from 'shortid'\n\nimport * as types from 'types'\n\n///////////\n// STATE //\n///////////\n\nexport type State = types.Branches | {}\nexport const initialState: State = {}\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  ADD_BRANCH = 'DraftExpedition/SequenceConfig/Branches/ADD_BRANCH',\n  ADD_NARRATIVE_BRANCH = 'DraftExpedition/SequenceConfig/Branches/ADD_NARRATIVE_BRANCH',\n  ADD_BATTLE_BRANCH = 'DraftExpedition/SequenceConfig/Branches/ADD_BATTLE_BRANCH',\n  ADD_REWARD_BRANCH = 'DraftExpedition/SequenceConfig/Branches/ADD_REWARD_BRANCH',\n  UPDATE_BRANCH = 'DraftExpedition/SequenceConfig/Branches/UPDATE_BRANCH',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  addNarrativeBranch: (branch: types.NarrativeBranch) =>\n    createAction(ActionTypes.ADD_NARRATIVE_BRANCH, branch),\n  addBattleBranch: (branch: types.BattleBranch) =>\n    createAction(ActionTypes.ADD_BATTLE_BRANCH, branch),\n  addRewardBranch: (branch: types.RewardBranch) =>\n    createAction(ActionTypes.ADD_REWARD_BRANCH, branch),\n  updateBranch: (\n    branch: types.NarrativeBranch | types.RewardBranch | types.BattleBranch\n  ) => createAction(ActionTypes.UPDATE_BRANCH, branch),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.ADD_NARRATIVE_BRANCH: {\n      const { id } = action.payload\n      const branchId = id !== '' ? id : shortid.generate()\n\n      return {\n        ...state,\n        [branchId]: {\n          ...action.payload,\n          id: branchId,\n        },\n      }\n    }\n\n    case ActionTypes.ADD_BATTLE_BRANCH: {\n      const { id } = action.payload\n      const branchId = id !== '' ? id : shortid.generate()\n\n      return {\n        ...state,\n        [branchId]: {\n          ...action.payload,\n          id: branchId,\n        },\n      }\n    }\n\n    case ActionTypes.ADD_REWARD_BRANCH: {\n      const { id } = action.payload\n      const branchId = id !== '' ? id : shortid.generate()\n\n      return {\n        ...state,\n        [branchId]: {\n          ...action.payload,\n          id: branchId,\n        },\n      }\n    }\n\n    case ActionTypes.UPDATE_BRANCH: {\n      const { id } = action.payload\n\n      return {\n        ...state,\n        [id]: action.payload,\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport type BranchesStateSlice = {\n  DraftExpedition: {\n    SequenceConfig: {\n      Branches: State\n    }\n  }\n}\n\nconst getBranchesState = (state: BranchesStateSlice) =>\n  state.DraftExpedition.SequenceConfig.Branches\n\nconst getBranchIds = createSelector([getBranchesState], (branches) =>\n  Object.keys(branches)\n)\n\nconst getBranches = createSelector([getBranchesState], (branches) =>\n  Object.values(branches)\n)\n\nexport const selectors = {\n  getBranchesState,\n  getBranchIds,\n  getBranches,\n}\n","import { combineReducers } from 'redux-loop'\n\nimport * as DraftRewardConfig from './DraftRewardConfig'\nimport * as DraftRewardSupplyCard from './DraftRewardSupplyCard'\nimport * as FirstBranchId from './FirstBranchId'\nimport * as Branches from './Branches'\n\n///////////\n// STATE //\n///////////\n\nexport type State = {\n  DraftRewardConfig: DraftRewardConfig.State\n  DraftRewardSupplyCard: DraftRewardSupplyCard.State\n  FirstBranchId: FirstBranchId.State\n  Branches: Branches.State\n}\n\nexport const initialState = {\n  DraftRewardConfig: DraftRewardConfig.initialState,\n  DraftRewardSupplyCard: DraftRewardSupplyCard.initialState,\n  FirstBranchId: FirstBranchId.initialState,\n  Branches: Branches.initialState,\n}\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport const actions = {\n  DraftRewardConfig: DraftRewardConfig.actions,\n  DraftRewardSupplyCard: DraftRewardSupplyCard.actions,\n  FirstBranchId: FirstBranchId.actions,\n  Branches: Branches.actions,\n}\n\nexport type Action =\n  | DraftRewardConfig.Action\n  | DraftRewardSupplyCard.Action\n  | FirstBranchId.Action\n  | Branches.Action\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer = combineReducers({\n  DraftRewardConfig: DraftRewardConfig.Reducer,\n  DraftRewardSupplyCard: DraftRewardSupplyCard.Reducer,\n  FirstBranchId: FirstBranchId.Reducer,\n  Branches: Branches.Reducer,\n})\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport const selectors = {\n  DraftRewardConfig: DraftRewardConfig.selectors,\n  DraftRewardSupplyCard: DraftRewardSupplyCard.selectors,\n  FirstBranchId: FirstBranchId.selectors,\n  Branches: Branches.selectors,\n}\n","import { combineReducers } from 'redux-loop'\n\nimport * as Name from './Name'\nimport * as SeedConfig from './SeedConfig'\nimport * as BigPocketVariantConfig from './BigPocketVariantConfig'\nimport * as InitialBarracksConfig from './InitialBarracksConfig'\nimport * as InitialUBNCardsConfig from './InitialUBNCardsConfig'\nimport * as SettingsSnapshotConfig from './SettingsSnapshotConfig'\nimport * as SequenceConfig from './SequenceConfig'\n\n///////////\n// STATE //\n///////////\n\nexport type State = {\n  Name: Name.State\n  SeedConfig: SeedConfig.State\n  BigPocketVariantConfig: BigPocketVariantConfig.State\n  InitialBarracksConfig: InitialBarracksConfig.State\n  InitialUBNCardsConfig: InitialUBNCardsConfig.State\n  SettingsSnapshotConfig: SettingsSnapshotConfig.State\n  SequenceConfig: SequenceConfig.State\n}\n\nexport const initialState = {\n  Name: Name.initialState,\n  SeedConfig: SeedConfig.initialState,\n  BigPocketVariantConfig: BigPocketVariantConfig.initialState,\n  InitialBarracksConfig: InitialBarracksConfig.initialState,\n  InitialUBNCardsConfig: InitialUBNCardsConfig.initialState,\n  SettingsSnapshotConfig: SettingsSnapshotConfig.initialState,\n  SequenceConfig: SequenceConfig.initialState,\n}\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport const actions = {\n  Name: Name.actions,\n  SeedConfig: SeedConfig.actions,\n  BigPocketVariantConfig: BigPocketVariantConfig.actions,\n  InitialBarracksConfig: InitialBarracksConfig.actions,\n  InitialUBNCardsConfig: InitialUBNCardsConfig.actions,\n  SettingsSnapshotConfig: SettingsSnapshotConfig.actions,\n  SequenceConfig: SequenceConfig.actions,\n}\n\nexport type Action =\n  | Name.Action\n  | SeedConfig.Action\n  | BigPocketVariantConfig.Action\n  | InitialBarracksConfig.Action\n  | InitialUBNCardsConfig.Action\n  | SettingsSnapshotConfig.Action\n  | SequenceConfig.Action\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer = combineReducers({\n  Name: Name.Reducer,\n  SeedConfig: SeedConfig.Reducer,\n  BigPocketVariantConfig: BigPocketVariantConfig.Reducer,\n  InitialBarracksConfig: InitialBarracksConfig.Reducer,\n  InitialUBNCardsConfig: InitialUBNCardsConfig.Reducer,\n  SettingsSnapshotConfig: SettingsSnapshotConfig.Reducer,\n  SequenceConfig: SequenceConfig.Reducer,\n})\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport const selectors = {\n  Name: Name.selectors,\n  SeedConfig: SeedConfig.selectors,\n  BigPocketVariantConfig: BigPocketVariantConfig.selectors,\n  InitialBarracksConfig: InitialBarracksConfig.selectors,\n  InitialUBNCardsConfig: InitialUBNCardsConfig.selectors,\n  SettingsSnapshotConfig: SettingsSnapshotConfig.selectors,\n  SequenceConfig: SequenceConfig.selectors,\n}\n","import { combineReducers, reduceReducers } from 'redux-loop'\n\nimport * as DraftExpedition from 'Redux/Store/DraftExpedition'\n\nexport type RootState = {\n  DraftExpedition: DraftExpedition.State\n}\n\nexport const initialState = {\n  DraftExpedition: DraftExpedition.initialState\n}\n\nexport const actions = {\n  DraftExpedition: DraftExpedition.actions,\n}\n\nexport type RootAction =\n  | DraftExpedition.Action\n\nexport const RootReducer = reduceReducers(\n  combineReducers<RootState>({\n    DraftExpedition: DraftExpedition.Reducer,\n  })\n)\n\nexport const selectors = {\n  DraftExpedition: DraftExpedition.selectors\n}\n\n\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { createGlobalStyle } from 'styled-components'\n\nconst GlobalStyle = createGlobalStyle`\n  *,\n  ::after, \n  ::before {\n    box-sizing: border-box;\n  }\n\n  body {\n    font-family: 'Roboto', Arial, sans-serif;\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-font-smoothing: antialiased;\n    text-rendering: optimizeLegibility;\n    margin: 0;\n    padding: 0;\n  }\n`\nexport default GlobalStyle\n","const mainTheme = {\n  colors: {}\n}\n\nexport default mainTheme\n","\n\nimport styled from 'styled-components/macro'\n\nconst H1 = styled('h1')`\n  color: #2196f3;\n  margin-top: 0;\n`\n\nexport default H1\n","import styled from 'styled-components/macro'\n\nconst Wrapper = styled('div')`\n  margin-bottom: 16px;\n`\n\nexport default Wrapper\n","import styled from 'styled-components/macro'\n\nconst Header = styled('h3')`\n  border-bottom: 1px solid #dadada;\n  margin: 0;\n`\n\nexport default Header\n","import styled from 'styled-components/macro'\n\nconst Button = styled('button')`\n  height: 32px;\n  padding: 0 8px;\n  cursor: pointer;\n  font-family: 'Roboto';\n`\n\nexport default Button\n","import styled from 'styled-components/macro'\n\nimport Button from 'components/atoms/Button'\n\nconst Summary = styled(Button)`\n  height: auto;\n  font-size: 1.5rem;\n  font-weight: 100;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 8px 0;\n  position: relative;\n  outline: 0;\n  border: none;\n  background: transparent;\n`\n\nexport default Summary\n","import styled from 'styled-components/macro'\n\nconst Content = styled('div')`\n  padding-top: 16px;\n`\n\nexport default Content\n","import styled from 'styled-components/macro'\n\nconst SummaryIcon = styled('span')`\n  position: absolute;\n  right: 8px;\n`\n\nexport default SummaryIcon\n","import React, { useState } from 'react'\n\nimport Wrapper from './__styled__/Wrapper'\nimport Header from './__styled__/Header'\nimport Summary from './__styled__/Summary'\nimport Content from './__styled__/Content'\nimport SummaryIcon from './__styled__/SummaryIcon'\n\ntype Props = {\n  id: string\n  title: string\n  open?: boolean\n  children: React.ReactNode\n}\n\nconst Accordion = ({\n  id,\n  title,\n  open,\n  children\n}: Props) => {\n  const [isOpen, setIsOpen] = useState<boolean>(open ? open : false)\n\n  const handleClick = () => {\n    setIsOpen(!isOpen)\n  }\n\n  return (\n    <Wrapper>\n      <Header>\n        <Summary\n          id={`${id}Summary`}\n          type=\"button\"\n          aria-expanded={isOpen ? 'true' : 'false'}\n          aria-controls={`${id}Content`}\n          onClick={handleClick}\n        >\n          {title}\n          <SummaryIcon className=\"material-icons\">\n            {isOpen ? 'expand_less' : 'expand_more'}\n          </SummaryIcon>\n        </Summary>\n      </Header>\n      <Content\n        id={`${id}Content`}\n        role=\"region\"\n        aria-labelledby={`${id}Summary`}\n        hidden={isOpen ? false : true}\n      >\n        { children }\n      </Content>\n    </Wrapper>\n  )\n}\n\nexport default React.memo(Accordion)\n","import styled from 'styled-components/macro'\n\nconst ScreenReaderOnlyText = styled('span')`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n`\n\nexport default ScreenReaderOnlyText\n","import styled from 'styled-components/macro'\n\nconst Wrapper = styled('fieldset')`\n  padding: 0;\n  border: none;\n`\n\nexport default Wrapper\n","import styled from 'styled-components/macro'\n\nconst Legend = styled('legend')`\n  padding: 0;\n`\n\nexport default Legend\n","import React from 'react'\n\nimport ScreenReaderOnlyText from 'components/atoms/ScreenReaderOnlyText'\nimport Wrapper from './__styled__/Wrapper'\nimport Legend from './__styled__/Legend'\n\ntype Props = {\n  legend: string\n  legendVisible?: boolean\n  children: React.ReactNode\n}\n\nconst Fieldset = ({\n  legend,\n  legendVisible,\n  children,\n}: Props) => {\n  return (\n    <Wrapper>\n      <Legend>\n        {\n          legendVisible \n            ? (legend) \n            : (<ScreenReaderOnlyText>{legend}</ScreenReaderOnlyText>)\n        }\n      </Legend>\n      {children}\n    </Wrapper>\n  )\n}\n\nexport default React.memo(Fieldset)\n","import styled from 'styled-components/macro'\n\nconst Label = styled('label')`\n  display: block;\n  font-family: 'Roboto';\n  font-size: 12px;\n  margin-bottom: 4px;\n`\n\nexport default Label\n","import styled from 'styled-components/macro'\n\nconst Input = styled('input')`\n  height: 32px;\n  width: 100%;\n  padding: 0 8px;\n  font-family: 'Roboto';\n  border: 1px solid #dadada;\n`\n\nexport default Input\n","import styled from 'styled-components/macro'\n\nconst Wrapper = styled('div')`\n  margin-bottom: 16px;\n`\n\nexport default Wrapper\n","import React from 'react'\n\nimport ScreenReaderOnlyText from 'components/atoms/ScreenReaderOnlyText'\nimport Label from 'components/atoms/Label'\nimport Input from 'components/atoms/Input'\nimport Wrapper from './__styled__/Wrapper'\n\ntype Props = {\n  id: string\n  label: string\n  labelHidden?: boolean\n  name?: string\n  onChange: (event: any) => void\n  defaultValue?: any\n  required?: boolean\n}\n\nconst FormGroupInputText = ({\n  id,\n  label,\n  labelHidden,\n  name,\n  onChange,\n  defaultValue,\n  required,\n}: Props) => {\n  return (\n    <Wrapper>\n      <Label htmlFor={id}>\n        {labelHidden ? (\n          <ScreenReaderOnlyText>{label}</ScreenReaderOnlyText>\n        ) : (\n          label\n        )}\n      </Label>\n      <Input\n        id={id}\n        name={name ? name : id}\n        type=\"text\"\n        onChange={onChange}\n        defaultValue={defaultValue}\n        required={required}\n      />\n    </Wrapper>\n  )\n}\n\nexport default React.memo(FormGroupInputText)\n","import styled from 'styled-components/macro'\n\nimport Label from 'components/atoms/Label'\n\nconst Wrapper = styled('div')`\n  margin-bottom: 16px;\n\n  ${Label} {\n    font-size: 16px;\n    margin-bottom: 0;\n  }\n\n  input {\n    margin: 0 8px 0 0;\n  }\n`\n\nexport default Wrapper\n","import React from 'react'\n\nimport ScreenReaderOnlyText from 'components/atoms/ScreenReaderOnlyText'\nimport Label from 'components/atoms/Label'\nimport Wrapper from './__styled__/Wrapper'\n\ntype Props = {\n  id: string\n  label: string\n  labelHidden?: boolean\n  name?: string\n  onChange: (event: any) => void\n  defaultChecked: boolean\n}\n\nconst FormGroupCheckbox = ({\n  id,\n  label,\n  labelHidden,\n  name,\n  onChange,\n  defaultChecked,\n}: Props) => {\n  return (\n    <Wrapper>\n      <Label htmlFor={id}>\n        <input\n          id={id}\n          type=\"checkbox\"\n          name={name ? name : id}\n          onChange={onChange}\n          defaultChecked={defaultChecked}\n        />\n        {labelHidden ? (\n          <ScreenReaderOnlyText>{label}</ScreenReaderOnlyText>\n        ) : (\n          label\n        )}\n      </Label>\n    </Wrapper>\n  )\n}\n\nexport default React.memo(FormGroupCheckbox)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport { RootState, selectors, actions } from 'Redux/Store'\n\nimport Accordion from 'components/organisms/Accordion'\nimport Fieldset from 'components/molecules/Fieldset'\nimport FormGroupInputText from 'components/molecules/FormGroupInputText'\nimport FormGroupCheckbox from 'components/molecules/FormGroupCheckbox'\n\nconst mapStateToProps = (state: RootState) => ({\n  expeditionName: selectors.DraftExpedition.Name.getExpeditionName(state),\n  seed: selectors.DraftExpedition.SeedConfig.getSeed(state),\n  bigPocketVariantConfig: selectors.DraftExpedition.BigPocketVariantConfig.getBigPocketVariantConfig(\n    state\n  ),\n})\n\nconst mapDispatchToProps = {\n  setExpeditionName: actions.DraftExpedition.Name.setExpeditionName,\n  setSeed: actions.DraftExpedition.SeedConfig.setSeed,\n  setBigPocketVariantConfig:\n    actions.DraftExpedition.BigPocketVariantConfig.setBigPocketVariantConfig,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> & typeof mapDispatchToProps & {}\n\nconst BasicInformation = ({\n  expeditionName,\n  seed,\n  bigPocketVariantConfig,\n  setExpeditionName,\n  setSeed,\n  setBigPocketVariantConfig,\n}: Props) => {\n  const handleNameChange = (event: any) => {\n    setExpeditionName(event.target.value)\n  }\n\n  const handleBigPocketChange = (event: any) => {\n    setBigPocketVariantConfig(event.currentTarget.checked)\n  }\n\n  const handleSeedChange = (event: any) => {\n    setSeed(event.target.value)\n  }\n\n  return (\n    <Accordion id=\"basicInformation\" title=\"Basic Information\" open>\n      <Fieldset legend=\"Basic Information\">\n        <FormGroupInputText\n          id=\"expeditionName\"\n          label=\"Expedition Name\"\n          onChange={handleNameChange}\n          defaultValue={expeditionName}\n        />\n        <FormGroupCheckbox\n          id=\"bigPocketVariantConfig\"\n          label=\"Big Pocket Mode\"\n          onChange={handleBigPocketChange}\n          defaultChecked={bigPocketVariantConfig}\n        />\n        <FormGroupInputText\n          id=\"seed\"\n          label=\"Seed\"\n          onChange={handleSeedChange}\n          defaultValue={seed}\n        />\n      </Fieldset>\n    </Accordion>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BasicInformation)\n","import styled from 'styled-components'\n\nconst Wrapper = styled('div')`\n  height: 100%;\n  width: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 10000;\n  padding: 24px;\n`\n\nexport default Wrapper\n","import styled from 'styled-components'\n\nconst Backdrop = styled('div')`\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  background: rgb(0, 0, 0, 0.3);\n`\n\nexport default Backdrop\n","import styled from 'styled-components'\n\nconst Content = styled('div')`\n  margin: auto;\n  height: 100%;\n  width: 100%;\n  background: #fff;\n  box-shadow: 0 0 10px 2px rgba(0, 0, 0, 0.2);\n  border-radius: 8px;\n  position: relative;\n`\n\nexport default Content\n","import styled from 'styled-components'\n\nconst Header = styled('div')`\n  margin: auto;\n  height: 64px;\n  width: 100%;\n  padding: 0 24px;\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n`\n\nexport default Header\n","import styled from 'styled-components'\n\ntype Props = {\n  hasFooter?: boolean\n}\n\nconst Body = styled('div')<Props>`\n  height: ${props => props.hasFooter ? 'calc(100% - (64px * 2))' : 'calc(100% - 64px)'};\n`\n\nexport default Body\n","import styled from 'styled-components/macro'\n\nconst H2 = styled('h2')`\n  color: #2196f3;\n`\n\nexport default H2\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport H2 from 'components/atoms/H2'\n\ntype Props = {\n  themeColor: string\n}\n\n// NOTE: we need to take away additional props, so that they are not passed\n// to DOM elements by MUI Components (we really should get rid of MUI...)\nconst Title = styled(({ themeColor, ...rest }) => <H2 {...rest} />)<Props>`\n  color: ${props => props.themeColor};\n  margin: 0;\n`\n\nexport default Title\n","import styled from 'styled-components'\n\nconst CloseButton = styled('button')`\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  width: 48px;\n  height: 48px;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  transition: color .2s ease;\n\n  &:hover {\n    color: #2196f3;\n  }\n`\n\nexport default CloseButton\n","import styled from 'styled-components'\n\nconst Footer = styled('div')`\n  margin: auto;\n  height: 64px;\n  width: 100%;\n  padding: 0 24px;\n  position: relative;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  margin-top: -1px;\n`\n\nexport default Footer\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport Wrapper from './Wrapper'\nimport Backdrop from './Backdrop'\nimport Content from './Content'\nimport Header from './Header'\nimport Body from './Body'\nimport Title from './Title'\nimport CloseButton from './CloseButton'\nimport Footer from './Footer'\n\ntype Props = {\n  titleLabel: string\n  titleColor?: string\n  children: React.ReactChild\n  closeModal: () => void\n  footer?: React.ReactNode\n}\n\nconst Modal = ({ titleColor, titleLabel, children, closeModal, footer }: Props) => {\n  const domEl = document.getElementById('modal-root')\n\n  if (!domEl) return null\n\n  return ReactDOM.createPortal(\n    <React.Fragment>\n      <Wrapper>\n        <Backdrop onClick={closeModal} />\n        <Content>\n          <Header>\n            <Title variant=\"h2\" themeColor={titleColor}>\n              {titleLabel}\n            </Title>\n            <CloseButton onClick={closeModal}>\n              <span className=\"material-icons\">close</span>\n            </CloseButton>\n          </Header>\n          <Body hasFooter={footer ? true : false}>{children}</Body>\n          {footer && (\n            <Footer>{footer}</Footer>\n          )}\n        </Content>\n      </Wrapper>\n    </React.Fragment>,\n    domEl\n  )\n}\n\nexport default React.memo(Modal)\n","import styled from 'styled-components/macro'\n\ntype Props = {\n  hasFooter?: boolean\n}\n\nconst ModalBodyWrapper = styled('div')<Props>`\n  margin: auto;\n  height: ${props => (props.hasFooter ? 'calc(100% - 64px)' : '100%')};\n  width: 100%;\n  padding: 24px;\n  position: relative;\n  overflow-y: auto;\n\n  > *:first-child {\n    margin-top: 0;\n  }\n`\n\nexport default ModalBodyWrapper\n","import styled from 'styled-components/macro'\n\nconst ModalFooterWrapper = styled('div')`\n  margin: auto;\n  height: 64px;\n  width: 100%;\n  padding: 0 24px;\n  position: relative;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  margin-top: -1px;\n\n  button {\n    width: 100%;\n  }\n\n  button + button {\n    margin-left: 16px;\n  }\n`\n\nexport default ModalFooterWrapper\n","import React, { useState } from 'react'\n\nimport Modal from 'components/organisms/Modal'\nimport Prompt from 'components/organisms/Prompt'\n\ntype ModalProps = {\n  titleColor?: string\n  titleLabel: string\n  children: React.ReactChild\n  closeCallback?: () => void\n  footer?: React.ReactNode\n}\n\nexport type RenderModalType = (props: ModalProps) => JSX.Element\n\n// Renders a modal to the modal root and handles the visibility state\n// of this modal.\n//\n// NOTE: Each modal you want to render should use a separate hook!!!\n// Otherwise your modals will share their visibility state which might lead\n// to overlapping and unclosable elements.\nexport const useModal = () => {\n  const [isVisible, setIsVisible] = useState(false)\n  const show = () => setIsVisible(true)\n  const hide = () => setIsVisible(false)\n  const RenderModal: RenderModalType = ({\n    titleColor,\n    titleLabel,\n    children,\n    closeCallback,\n    footer,\n  }) => {\n    const handleClose = () => {\n      hide()\n      if (closeCallback) {\n        closeCallback()\n      }\n    }\n\n    return (\n      <React.Fragment>\n        {isVisible && (\n          <Modal\n            titleColor={titleColor}\n            titleLabel={titleLabel}\n            closeModal={handleClose}\n            footer={footer}\n          >\n            {children}\n          </Modal>\n        )}\n      </React.Fragment>\n    )\n  }\n\n  return {\n    show,\n    hide,\n    RenderModal,\n  }\n}\n\ntype PromptProps = {\n  closeCallback?: () => void\n  children?: React.ReactChild\n  noHandler: () => void\n  titleColor: string\n  titleLabel: string\n  yesHandler: () => void\n}\n\nexport type RenderPromptType = (props: PromptProps) => JSX.Element\n\nexport const usePrompt = () => {\n  const { show, hide, RenderModal } = useModal()\n\n  const RenderPrompt: RenderPromptType = ({\n    children,\n    noHandler,\n    titleColor,\n    titleLabel,\n    yesHandler,\n  }) => (\n    <RenderModal\n      titleColor={titleColor}\n      titleLabel={titleLabel}\n      closeCallback={noHandler}\n    >\n      <Prompt yesHandler={yesHandler} noHandler={noHandler}>\n        {children}\n      </Prompt>\n    </RenderModal>\n  )\n\n  return {\n    show,\n    hide,\n    RenderPrompt,\n  }\n}\n","import React from 'react'\n\nimport ModalBodyWrapper from 'components/atoms/ModalBodyWrapper'\nimport ModalFooterWrapper from 'components/atoms/ModalFooterWrapper'\nimport Button from 'components/atoms/Button'\n\nconst Prompt = ({\n  yesHandler,\n  noHandler,\n  children,\n}: {\n  yesHandler: () => void\n  noHandler: () => void\n  children?: React.ReactChild\n}) => {\n  return (\n    <React.Fragment>\n      <ModalBodyWrapper hasFooter={true}>{children}</ModalBodyWrapper>\n      <ModalFooterWrapper>\n        <Button\n          onClick={noHandler}\n        >\n          No\n        </Button>\n        <Button\n          onClick={yesHandler}\n        >\n          Yes\n        </Button>\n      </ModalFooterWrapper>\n    </React.Fragment>\n  )\n}\n\nexport default React.memo(Prompt)\n","import styled from 'styled-components/macro'\n\nconst Textarea = styled('textarea')`\n  min-height: 64px;\n  width: 100%;\n  padding: 8px;\n  font-family: 'Roboto';\n  border: 1px solid #dadada;\n  resize: vertical;\n`\n\nexport default Textarea\n","import styled from 'styled-components/macro'\n\nconst Wrapper = styled('div')`\n  margin-bottom: 16px;\n`\n\nexport default Wrapper\n","import React from 'react'\n\nimport ScreenReaderOnlyText from 'components/atoms/ScreenReaderOnlyText'\nimport Label from 'components/atoms/Label'\nimport Textarea from 'components/atoms/Textarea'\nimport Wrapper from './__styled__/Wrapper'\n\ntype Props = {\n  id: string\n  label: string\n  labelHidden?: boolean\n  name?: string\n  onChange: (event: any) => void\n  defaultValue: any\n  required?: boolean\n}\n\nconst FormGroupTextarea = ({\n  id,\n  label,\n  labelHidden,\n  name,\n  onChange,\n  defaultValue,\n  required\n}: Props) => {\n  \n  return (\n    <Wrapper>\n      <Label htmlFor={id}>\n        {\n          labelHidden ? (\n            <ScreenReaderOnlyText>{label}</ScreenReaderOnlyText>\n          ) : (\n            label\n          )\n        }\n      </Label>\n      <Textarea\n        id={id}\n        name={name ? name : id}\n        onChange={onChange}\n        defaultValue={defaultValue}\n        required={required}\n      />\n    </Wrapper>\n  )\n}\n\nexport default React.memo(FormGroupTextarea)\n","import React from 'react'\nimport shortid from 'shortid'\n\nimport * as types from 'types'\n\nimport Fieldset from 'components/molecules/Fieldset'\nimport ModalBodyWrapper from 'components/atoms/ModalBodyWrapper'\nimport FormGroupTextarea from 'components/molecules/FormGroupTextarea'\nimport FormGroupInputText from 'components/molecules/FormGroupInputText'\n\ntype Props = {\n  branch: types.NarrativeBranch\n  setBranch: (branch: types.NarrativeBranch) => void\n}\n\nconst Body = ({ branch, setBranch }: Props) => {\n  const handleBranchIdChange = (event: any) => {\n    setBranch({\n      ...branch,\n      id: event.target.value,\n    })\n  }\n\n  const handleBranchTextChange = (event: any) => {\n    setBranch({\n      ...branch,\n      text: event.target.value,\n    })\n  }\n\n  const handleBranchDecisionsChange = (event: any) => {\n    const decisions =\n      (event.target.value && event.target.value.split('; ')) ?? []\n    setBranch({\n      ...branch,\n      decisions: decisions.map((decision: string) => {\n        return {\n          _id: shortid.generate(),\n          text: decision,\n        }\n      }),\n    })\n  }\n\n  return (\n    <ModalBodyWrapper>\n      <Fieldset legend=\"Narrative Branch\">\n        <FormGroupInputText\n          id=\"branchId\"\n          label=\"Branch id\"\n          onChange={handleBranchIdChange}\n          defaultValue={branch.id}\n          required={true}\n        />\n        <FormGroupTextarea\n          id=\"description\"\n          label=\"Text\"\n          onChange={handleBranchTextChange}\n          defaultValue={branch.text}\n        />\n        <p>\n          Add multiple decisions by separating them with ';' followed by a SPACE\n        </p>\n        <FormGroupInputText\n          id=\"decisions\"\n          label=\"Decisions\"\n          onChange={handleBranchDecisionsChange}\n          defaultValue={\n            branch.decisions\n              ? branch.decisions.map((decision) => decision.text)\n              : ''\n          }\n        />\n      </Fieldset>\n    </ModalBodyWrapper>\n  )\n}\n\nexport default React.memo(Body)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport { actions } from 'Redux/Store'\n\nimport * as types from 'types'\n\nimport Button from 'components/atoms/Button'\n\nconst mapDispatchToProps = {\n  addNarrativeBranch:\n    actions.DraftExpedition.SequenceConfig.Branches.addNarrativeBranch,\n}\n\ntype Props = typeof mapDispatchToProps & {\n  modal: any\n  branch: types.NarrativeBranch\n  initialBranch: types.NarrativeBranch\n  setBranch: (branch: types.NarrativeBranch) => void\n}\n\nconst Footer = ({\n  modal,\n  branch,\n  initialBranch,\n  setBranch,\n  addNarrativeBranch,\n}: Props) => {\n  const handleAddBranch = () => {\n    addNarrativeBranch(branch)\n    setBranch(initialBranch)\n    modal.hide()\n  }\n\n  const handleCancel = () => {\n    setBranch(initialBranch)\n    modal.hide()\n  }\n\n  return (\n    <>\n      <Button onClick={handleCancel}>Cancel</Button>\n      <Button onClick={handleAddBranch}>Add branch</Button>\n    </>\n  )\n}\n\nexport default connect(null, mapDispatchToProps)(React.memo(Footer))\n","import React, { useState } from 'react'\n\nimport * as types from 'types'\n\nimport Body from './Body'\nimport Footer from './Footer'\n\ntype Props = {\n  modal: types.Modal\n}\n\nconst initialBranch: types.NarrativeBranch = {\n  id: '',\n  type: 'narrative',\n  text: '',\n  decisions: false,\n}\n\nconst NarrativeBranchModal = ({ modal }: Props) => {\n  const [branch, setBranch] = useState<types.NarrativeBranch>(initialBranch)\n\n  return (\n    <modal.RenderModal\n      titleLabel=\"Add narrative branch\"\n      footer={\n        <Footer\n          modal={modal}\n          branch={branch}\n          setBranch={setBranch}\n          initialBranch={initialBranch}\n        />\n      }\n    >\n      <Body branch={branch} setBranch={setBranch} />\n    </modal.RenderModal>\n  )\n}\n\nexport default React.memo(NarrativeBranchModal)\n","import styled from 'styled-components/macro'\nimport ReactSelect from 'react-select'\n\nconst Select = styled(ReactSelect)`\n\n`\n\nexport default Select\n","import styled from 'styled-components/macro'\n\nconst Wrapper = styled('div')`\n  margin-bottom: 16px;\n`\n\nexport default Wrapper\n","import React from 'react'\n\nimport * as types from 'types'\n\nimport ScreenReaderOnlyText from 'components/atoms/ScreenReaderOnlyText'\nimport Label from 'components/atoms/Label'\nimport Select from 'components/atoms/Select'\nimport Wrapper from './__styled__/Wrapper'\n\ntype Props = {\n  id: string\n  options: types.SelectOptions\n  label: string\n  labelHidden?: boolean\n  name?: string\n  onChange: (event: any) => void\n  defaultValue?: any\n  required?: boolean\n  isMulti?: boolean\n}\n\nconst FormGroupInputText = ({\n  id,\n  options,\n  label,\n  labelHidden,\n  name,\n  onChange,\n  defaultValue,\n  required,\n  isMulti,\n}: Props) => {\n  return (\n    <Wrapper>\n      <Label htmlFor={id}>\n        {labelHidden ? (\n          <ScreenReaderOnlyText>{label}</ScreenReaderOnlyText>\n        ) : (\n          label\n        )}\n      </Label>\n      <Select\n        options={options}\n        classNamePrefix=\"ReactSelect\"\n        id={id}\n        name={name ? name : id}\n        onChange={onChange}\n        defaultValue={defaultValue}\n        required={required}\n        isMulti={isMulti}\n      />\n    </Wrapper>\n  )\n}\n\nexport default React.memo(FormGroupInputText)\n","import React from 'react'\n\nimport DATA from 'aer-data'\nimport * as aerTypes from 'aer-types'\n\nimport * as types from 'types'\n\nimport Accordion from 'components/organisms/Accordion'\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\nimport FormGroupInputText from 'components/molecules/FormGroupInputText'\n\ntype Props = {\n  branch: types.RewardBranch\n  setBranch: (branch: types.RewardBranch) => void\n}\n\nconst Treasures = ({ branch, setBranch }: Props) => {\n  const dataTreasures: aerTypes.Treasure[] = Object.values(\n    DATA.normalizedData.ENG.treasures\n  )\n\n  const treasureOptions = dataTreasures.map((treasure: aerTypes.Treasure) => {\n    return {\n      value: treasure.id,\n      label: `${treasure.name} (Level: ${treasure.level})`,\n    }\n  })\n\n  const handleTreasureChange = (selectOptions: types.SelectOptions) => {\n    const selectedTreasureIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    setBranch({\n      ...branch,\n      treasure: {\n        ...branch.treasure,\n        ids: [...selectedTreasureIds],\n      },\n    })\n  }\n\n  const handleTreasureAmountTier1Change = (event: React.ChangeEvent) => {\n    setBranch({\n      ...branch,\n      treasure: {\n        ...branch.treasure,\n        tier1: parseInt((event.target as HTMLInputElement).value),\n      },\n    })\n  }\n\n  const handleTreasureAmountTier2Change = (event: React.ChangeEvent) => {\n    setBranch({\n      ...branch,\n      treasure: {\n        ...branch.treasure,\n        tier2: parseInt((event.target as HTMLInputElement).value),\n      },\n    })\n  }\n\n  const handleTreasureAmountTier3Change = (event: React.ChangeEvent) => {\n    setBranch({\n      ...branch,\n      treasure: {\n        ...branch.treasure,\n        tier3: parseInt((event.target as HTMLInputElement).value),\n      },\n    })\n  }\n\n  return (\n    <Accordion id=\"treasures\" title=\"Treasures\" open>\n      <FormGroupSelect\n        options={treasureOptions}\n        id=\"selectTreasures\"\n        label=\"Select Treasures\"\n        onChange={handleTreasureChange}\n        isMulti\n      />\n      <h3>Random Treasures</h3>\n      <p>Enter the amount of random treasures per tier.</p>\n      <FormGroupInputText\n        id=\"treasuresTier1\"\n        label=\"Tier 1\"\n        onChange={handleTreasureAmountTier1Change}\n        defaultValue={0}\n      />\n      <FormGroupInputText\n        id=\"treasuresTier2\"\n        label=\"Tier 2\"\n        onChange={handleTreasureAmountTier2Change}\n        defaultValue={0}\n      />\n      <FormGroupInputText\n        id=\"treasuresTier3\"\n        label=\"Tier 3\"\n        onChange={handleTreasureAmountTier3Change}\n        defaultValue={0}\n      />\n    </Accordion>\n  )\n}\n\nexport default React.memo(Treasures)\n","import React from 'react'\n\nimport DATA from 'aer-data'\nimport * as aerTypes from 'aer-types'\n\nimport * as types from 'types'\n\nimport Accordion from 'components/organisms/Accordion'\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\nimport FormGroupInputText from 'components/molecules/FormGroupInputText'\n\ntype Props = {\n  branch: types.RewardBranch\n  setBranch: (branch: types.RewardBranch) => void\n}\n\nconst Mages = ({ branch, setBranch }: Props) => {\n  const dataMages: aerTypes.Mage[] = Object.values(\n    DATA.normalizedData.ENG.mages\n  )\n\n  const mageOptions = dataMages.map((mage: aerTypes.Mage) => {\n    return {\n      value: mage.id,\n      label: mage.name,\n    }\n  })\n\n  const handleMageChange = (selectOptions: types.SelectOptions) => {\n    const selectedMageIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    setBranch({\n      ...branch,\n      mage: {\n        ...branch.mage,\n        ids: [...selectedMageIds],\n      },\n    })\n  }\n\n  const handleMageRandomAmountChange = (event: React.ChangeEvent) => {\n    setBranch({\n      ...branch,\n      mage: {\n        ...branch.mage,\n        randomAmount: parseInt((event.target as HTMLInputElement).value),\n      },\n    })\n  }\n\n  return (\n    <Accordion id=\"mages\" title=\"Mages\" open>\n      <FormGroupSelect\n        options={mageOptions}\n        id=\"selectMages\"\n        label=\"Select Mages\"\n        onChange={handleMageChange}\n        isMulti\n      />\n      <h3>Random Mages</h3>\n      <p>Enter the amount of random mages.</p>\n      <FormGroupInputText\n        id=\"randomMagesAmount\"\n        label=\"Amount of random mages\"\n        onChange={handleMageRandomAmountChange}\n        defaultValue={0}\n      />\n    </Accordion>\n  )\n}\n\nexport default React.memo(Mages)\n","import styled from 'styled-components/macro'\n\nconst Wrapper = styled('div')`\n  margin-bottom: 16px;\n`\n\nexport default Wrapper\n","import React from 'react'\n\nimport ScreenReaderOnlyText from 'components/atoms/ScreenReaderOnlyText'\nimport Label from 'components/atoms/Label'\nimport Input from 'components/atoms/Input'\nimport Wrapper from './__styled__/Wrapper'\n\ntype Props = {\n  id: string\n  label: string\n  labelHidden?: boolean\n  name?: string\n  onChange: (event: any) => void\n  defaultValue?: any\n  required?: boolean\n}\n\nconst FormGroupInputNumber = ({\n  id,\n  label,\n  labelHidden,\n  name,\n  onChange,\n  defaultValue,\n  required,\n}: Props) => {\n  return (\n    <Wrapper>\n      <Label htmlFor={id}>\n        {labelHidden ? (\n          <ScreenReaderOnlyText>{label}</ScreenReaderOnlyText>\n        ) : (\n          label\n        )}\n      </Label>\n      <Input\n        id={id}\n        name={name ? name : id}\n        type=\"number\"\n        onChange={onChange}\n        defaultValue={defaultValue}\n        required={required}\n      />\n    </Wrapper>\n  )\n}\n\nexport default React.memo(FormGroupInputNumber)\n","import React from 'react'\n\nimport * as types from 'types'\n\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\nimport FormGroupInputNumber from 'components/molecules/FormGroupInputNumber'\nimport Button from 'components/atoms/Button'\n\ntype Props = {\n  blueprint: types.Blueprint\n  handleChange: (blueprint: types.Blueprint) => void\n  handleDelete: (blueprint: types.Blueprint) => void\n}\n\nconst SupplyCardBlueprint = ({\n  blueprint,\n  handleChange,\n  handleDelete,\n}: Props) => {\n  const cardTypeOptions: types.CardTypeOptions = [\n    { value: 'Gem', label: 'Gem' },\n    { value: 'Relic', label: 'Relic' },\n    { value: 'Spell', label: 'Spell' },\n  ]\n\n  const cardTypeDefaultValue = cardTypeOptions.find(\n    (option) => option.value === blueprint.type\n  )\n\n  const cardOperationOptions: types.CardOperationOptions = [\n    { value: '<', label: '>' },\n    { value: '>', label: '<' },\n    { value: '=', label: '=' },\n    { value: '<=', label: '<=' },\n    { value: '>=', label: '>=' },\n    { value: 'ANY', label: 'ANY' },\n    { value: 'OR', label: 'OR' },\n  ]\n\n  const cardOperationDefaultValue = cardOperationOptions.find(\n    (option) => option.value === blueprint.operation\n  )\n\n  const cardCostsOptions: types.CardCostsOptions = [\n    { value: '0', label: 'Cost: 0' },\n    { value: '1', label: 'Cost: 1' },\n    { value: '2', label: 'Cost: 2' },\n    { value: '3', label: 'Cost: 3' },\n    { value: '4', label: 'Cost: 4' },\n    { value: '5', label: 'Cost: 5' },\n    { value: '6', label: 'Cost: 6' },\n    { value: '7', label: 'Cost: 7' },\n    { value: '8', label: 'Cost: 8' },\n    { value: '9', label: 'Cost: 9' },\n  ]\n\n  const handleCardTypeChange = (selectOption: types.CardTypeOption) => {\n    handleChange({\n      ...blueprint,\n      type: selectOption.value,\n    })\n  }\n\n  const handleCardOperationChange = (\n    selectOption: types.CardOperationOption\n  ) => {\n    handleChange({\n      ...blueprint,\n      operation: selectOption.value,\n    })\n  }\n\n  const handleCardThresholdChange = (event: React.ChangeEvent) => {\n    handleChange({\n      ...blueprint,\n      threshold: parseInt((event.target as HTMLInputElement).value),\n    })\n  }\n\n  const handleCardCostsChange = (selectOptions: types.CardCostsOptions) => {\n    const costValues: number[] = selectOptions.map(\n      (option: types.CardCostsOption) => parseInt(option.value)\n    )\n\n    handleChange({\n      ...blueprint,\n      values: [...costValues],\n    })\n  }\n\n  const handleDeleteBlueprint = () => {\n    handleDelete(blueprint)\n  }\n\n  return (\n    <div>\n      <FormGroupSelect\n        options={cardTypeOptions}\n        id={`selectCardType${blueprint._id}`}\n        label=\"Type\"\n        onChange={handleCardTypeChange}\n        defaultValue={cardTypeDefaultValue}\n      />\n      <FormGroupSelect\n        options={cardOperationOptions}\n        id={`selectCardOperation${blueprint._id}`}\n        label=\"Operation\"\n        onChange={handleCardOperationChange}\n        defaultValue={cardOperationDefaultValue}\n      />\n      {blueprint.operation !== 'OR' && blueprint.operation !== 'ANY' && (\n        <FormGroupInputNumber\n          id={`threshold${blueprint._id}`}\n          label=\"Threshold\"\n          onChange={handleCardThresholdChange}\n        />\n      )}\n      {blueprint.operation === 'OR' && (\n        <FormGroupSelect\n          options={cardCostsOptions}\n          id={`selectCosts${blueprint._id}`}\n          label=\"Card costs (values)\"\n          onChange={handleCardCostsChange}\n          isMulti\n        />\n      )}\n      <Button onClick={handleDeleteBlueprint}>Delete</Button>\n    </div>\n  )\n}\n\nexport default SupplyCardBlueprint\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport DATA from 'aer-data'\nimport * as aerTypes from 'aer-types'\n\nimport { RootState, selectors, actions } from 'Redux/Store'\n\nimport * as types from 'types'\n\nimport Accordion from 'components/organisms/Accordion'\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\nimport Button from 'components/atoms/Button'\nimport SupplyCardBlueprint from 'components/molecules/SupplyCardBlueprint'\nimport FormGroupCheckbox from 'components/molecules/FormGroupCheckbox'\n\nconst mapStateToProps = (state: RootState) => ({\n  blueprints: selectors.DraftExpedition.SequenceConfig.DraftRewardSupplyCard.getDraftRewardSupplyCardArray(\n    state\n  ),\n})\n\nconst mapDispatchToProps = {\n  addSupplyCard:\n    actions.DraftExpedition.SequenceConfig.DraftRewardSupplyCard\n      .draftAddRewardSupplyCard,\n  editSupplyCard:\n    actions.DraftExpedition.SequenceConfig.DraftRewardSupplyCard\n      .draftEditRewardSupplyCard,\n  deleteSupplyCard:\n    actions.DraftExpedition.SequenceConfig.DraftRewardSupplyCard\n      .draftDeleteRewardSupplyCard,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> &\n  typeof mapDispatchToProps & {\n    branch: types.RewardBranch\n    setBranch: (branch: types.RewardBranch) => void\n  }\n\nconst Supply = ({\n  branch,\n  setBranch,\n  blueprints,\n  addSupplyCard,\n  editSupplyCard,\n  deleteSupplyCard,\n}: Props) => {\n  const dataSupply: aerTypes.ICard[] = Object.values(\n    DATA.normalizedData.ENG.cards\n  )\n\n  const supplyOptions = dataSupply.map((supply: aerTypes.ICard) => {\n    return {\n      value: supply.id,\n      label: `${supply.name} (${supply.type})`,\n    }\n  })\n\n  const handleSupplyChange = (selectOptions: types.SelectOptions) => {\n    const selectedSupplyIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    setBranch({\n      ...branch,\n      supply: {\n        ...branch.supply,\n        ids: [...selectedSupplyIds],\n      },\n    })\n  }\n\n  const handleBigPocketChange = (event: React.ChangeEvent) => {\n    setBranch({\n      ...branch,\n      supply: {\n        ...branch.supply,\n        bigPocket: (event.currentTarget as HTMLInputElement).checked,\n      },\n    })\n  }\n\n  const handleAddSupplyCard = () => {\n    addSupplyCard()\n  }\n\n  const handleEditSupplyCard = (blueprint: types.Blueprint) => {\n    editSupplyCard(blueprint)\n  }\n\n  const handleDeleteSupplyCard = (blueprint: types.Blueprint) => {\n    deleteSupplyCard(blueprint)\n  }\n\n  const renderSupplyBlueprints = (blueprints: types.Blueprint[]) => {\n    return blueprints.map((blueprint: types.Blueprint) => {\n      return (\n        <SupplyCardBlueprint\n          key={blueprint._id}\n          blueprint={blueprint}\n          handleChange={handleEditSupplyCard}\n          handleDelete={handleDeleteSupplyCard}\n        />\n      )\n    })\n  }\n\n  return (\n    <Accordion id=\"supply\" title=\"Supply\" open>\n      <FormGroupCheckbox\n        id=\"rewardSupplyBigPocket\"\n        label=\"Big Pocket Mode\"\n        onChange={handleBigPocketChange}\n        defaultChecked={branch?.supply?.bigPocket ?? false}\n      />\n      <FormGroupSelect\n        options={supplyOptions}\n        id=\"selectSupplyCards\"\n        label=\"Select Supply Cards\"\n        onChange={handleSupplyChange}\n        isMulti\n      />\n      <h3>Random supply cards</h3>\n      <Button onClick={handleAddSupplyCard}>Add random supply card</Button>\n      {blueprints ? (\n        renderSupplyBlueprints(blueprints)\n      ) : (\n        <p>No supply cards added</p>\n      )}\n    </Accordion>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Supply))\n","import React from 'react'\n\nimport * as types from 'types'\n\nimport Fieldset from 'components/molecules/Fieldset'\nimport ModalBodyWrapper from 'components/atoms/ModalBodyWrapper'\nimport FormGroupInputText from 'components/molecules/FormGroupInputText'\nimport Treasures from './Treasures'\nimport Mages from './Mages'\nimport Supply from './Supply'\n\ntype Props = {\n  branch: types.RewardBranch\n  setBranch: (branch: types.RewardBranch) => void\n}\n\nconst Body = ({ branch, setBranch }: Props) => {\n  const handleBranchIdChange = (event: any) => {\n    setBranch({\n      ...branch,\n      id: event.target.value,\n    })\n  }\n\n  const handleRewardTypeChange = (event: React.ChangeEvent) => {\n    setBranch({\n      ...branch,\n      rewardType: (event.target as HTMLInputElement).value as types.RewardType,\n    })\n  }\n\n  return (\n    <ModalBodyWrapper>\n      <Fieldset legend=\"Reward Branch\">\n        <FormGroupInputText\n          id=\"branchId\"\n          label=\"Branch id\"\n          onChange={handleBranchIdChange}\n          defaultValue={branch.id}\n          required={true}\n        />\n      </Fieldset>\n      <Fieldset legend=\"Reward type\" legendVisible>\n        <div className=\"radio-wrapper\">\n          <input\n            type=\"radio\"\n            name=\"rewardType\"\n            id=\"rewardTypeRegular\"\n            defaultChecked\n            value=\"regular\"\n            onChange={handleRewardTypeChange}\n          />\n          <label htmlFor=\"rewardTypeRegular\">regular</label>\n        </div>\n        <div className=\"radio-wrapper\">\n          <input\n            type=\"radio\"\n            name=\"rewardType\"\n            id=\"rewardTypeCustom\"\n            value=\"custom\"\n            onChange={handleRewardTypeChange}\n          />\n          <label htmlFor=\"rewardTypeCustom\">custom</label>\n        </div>\n      </Fieldset>\n      {branch.rewardType === 'custom' && (\n        <>\n          <Treasures branch={branch} setBranch={setBranch} />\n          <Mages branch={branch} setBranch={setBranch} />\n          <Supply branch={branch} setBranch={setBranch} />\n        </>\n      )}\n    </ModalBodyWrapper>\n  )\n}\n\nexport default React.memo(Body)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport { RootState, selectors, actions } from 'Redux/Store'\n\nimport * as types from 'types'\n\nimport Button from 'components/atoms/Button'\n\nconst mapStateToProps = (state: RootState) => ({\n  blueprints: selectors.DraftExpedition.SequenceConfig.DraftRewardSupplyCard.getDraftRewardSupplyCardArray(\n    state\n  ),\n})\n\nconst mapDispatchToProps = {\n  addRewardBranch:\n    actions.DraftExpedition.SequenceConfig.Branches.addRewardBranch,\n  clearDraftRewardSupplyCard:\n    actions.DraftExpedition.SequenceConfig.DraftRewardSupplyCard\n      .clearDraftRewardSupplyCard,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> &\n  typeof mapDispatchToProps & {\n    modal: any\n    branch: types.RewardBranch\n    initialBranch: types.RewardBranch\n    setBranch: (branch: types.RewardBranch) => void\n  }\n\nconst Footer = ({\n  modal,\n  blueprints,\n  branch,\n  initialBranch,\n  setBranch,\n  addRewardBranch,\n  clearDraftRewardSupplyCard,\n}: Props) => {\n  const handleAddBranch = () => {\n    addRewardBranch({\n      ...branch,\n      supply: {\n        ...branch.supply,\n        blueprints: blueprints,\n      },\n    })\n\n    clearDraftRewardSupplyCard()\n    setBranch(initialBranch)\n    modal.hide()\n  }\n\n  const handleCancel = () => {\n    clearDraftRewardSupplyCard()\n    setBranch(initialBranch)\n    modal.hide()\n  }\n\n  return (\n    <>\n      <Button onClick={handleCancel}>Cancel</Button>\n      <Button onClick={handleAddBranch}>Add branch</Button>\n    </>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Footer))\n","import React, { useState } from 'react'\n\nimport * as types from 'types'\n\nimport Body from './Body'\nimport Footer from './Footer'\n\ntype Props = {\n  modal: types.Modal\n}\n\nconst initialBranch: types.RewardBranch = {\n  id: '',\n  type: 'reward',\n  rewardType: 'regular',\n  treasure: {\n    ids: [],\n    tier1: 0,\n    tier2: 0,\n    tier3: 0,\n  },\n  mage: {\n    ids: [],\n    randomAmount: 0,\n  },\n  supply: {\n    ids: [],\n    blueprints: [],\n  },\n}\n\nconst RewardBranchModal = ({ modal }: Props) => {\n  const [branch, setBranch] = useState<types.RewardBranch>(initialBranch)\n\n  return (\n    <modal.RenderModal\n      titleLabel=\"Add reward branch\"\n      footer={\n        <Footer\n          modal={modal}\n          branch={branch}\n          setBranch={setBranch}\n          initialBranch={initialBranch}\n        />\n      }\n    >\n      <Body branch={branch} setBranch={setBranch} />\n    </modal.RenderModal>\n  )\n}\n\nexport default React.memo(RewardBranchModal)\n","import React from 'react'\n\nimport DATA from 'aer-data'\nimport * as aerTypes from 'aer-types'\n\nimport * as types from 'types'\n\nimport Accordion from 'components/organisms/Accordion'\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\nimport FormGroupInputText from 'components/molecules/FormGroupInputText'\n\ntype Props = {\n  config: types.BattleRewardConfig\n  updateDraftRewardConfig: (config: types.BattleRewardConfig) => void\n}\n\nconst Treasures = ({ config, updateDraftRewardConfig }: Props) => {\n  const dataTreasures: aerTypes.Treasure[] = Object.values(\n    DATA.normalizedData.ENG.treasures\n  )\n\n  const treasureOptions = dataTreasures.map((treasure: aerTypes.Treasure) => {\n    return {\n      value: treasure.id,\n      label: `${treasure.name} (Level: ${treasure.level})`,\n    }\n  })\n\n  const handleTreasureChange = (selectOptions: types.SelectOptions) => {\n    const selectedTreasureIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    updateDraftRewardConfig({\n      ...config,\n      ...Object.assign({\n        treasure: {\n          ...config.treasure,\n          ids: [...selectedTreasureIds],\n        },\n      }),\n    })\n  }\n\n  const handleTreasureAmountTier1Change = (event: React.ChangeEvent) => {\n    updateDraftRewardConfig({\n      ...config,\n      ...Object.assign({\n        treasure: {\n          ...config.treasure,\n          tier1: parseInt((event.target as HTMLInputElement).value),\n        },\n      }),\n    })\n  }\n\n  const handleTreasureAmountTier2Change = (event: React.ChangeEvent) => {\n    updateDraftRewardConfig({\n      ...config,\n      ...Object.assign({\n        treasure: {\n          ...config.treasure,\n          tier2: parseInt((event.target as HTMLInputElement).value),\n        },\n      }),\n    })\n  }\n\n  const handleTreasureAmountTier3Change = (event: React.ChangeEvent) => {\n    updateDraftRewardConfig({\n      ...config,\n      ...Object.assign({\n        treasure: {\n          ...config.treasure,\n          tier3: parseInt((event.target as HTMLInputElement).value),\n        },\n      }),\n    })\n  }\n\n  return (\n    <Accordion id=\"treasures\" title=\"Treasures\" open>\n      <FormGroupSelect\n        options={treasureOptions}\n        id=\"selectTreasures\"\n        label=\"Select Treasures\"\n        onChange={handleTreasureChange}\n        isMulti\n      />\n      <h3>Random Treasures</h3>\n      <p>Enter the amount of random treasures per tier.</p>\n      <FormGroupInputText\n        id=\"treasuresTier1\"\n        label=\"Tier 1\"\n        onChange={handleTreasureAmountTier1Change}\n        defaultValue={0}\n      />\n      <FormGroupInputText\n        id=\"treasuresTier2\"\n        label=\"Tier 2\"\n        onChange={handleTreasureAmountTier2Change}\n        defaultValue={0}\n      />\n      <FormGroupInputText\n        id=\"treasuresTier3\"\n        label=\"Tier 3\"\n        onChange={handleTreasureAmountTier3Change}\n        defaultValue={0}\n      />\n    </Accordion>\n  )\n}\n\nexport default React.memo(Treasures)\n","import React from 'react'\n\nimport DATA from 'aer-data'\nimport * as aerTypes from 'aer-types'\n\nimport * as types from 'types'\n\nimport Accordion from 'components/organisms/Accordion'\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\nimport FormGroupInputText from 'components/molecules/FormGroupInputText'\n\ntype Props = {\n  config: types.BattleRewardConfig\n  updateDraftRewardConfig: (config: types.BattleRewardConfig) => void\n}\n\nconst Mages = ({ config, updateDraftRewardConfig }: Props) => {\n  const dataMages: aerTypes.Mage[] = Object.values(\n    DATA.normalizedData.ENG.mages\n  )\n\n  const mageOptions = dataMages.map((mage: aerTypes.Mage) => {\n    return {\n      value: mage.id,\n      label: mage.name,\n    }\n  })\n\n  const handleMageChange = (selectOptions: types.SelectOptions) => {\n    const selectedMageIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    updateDraftRewardConfig({\n      ...config,\n      ...Object.assign({\n        mage: {\n          ...config.mage,\n          ids: [...selectedMageIds],\n        },\n      }),\n    })\n  }\n\n  const handleMageRandomAmountChange = (event: React.ChangeEvent) => {\n    updateDraftRewardConfig({\n      ...config,\n      ...Object.assign({\n        mage: {\n          ...config.mage,\n          randomAmount: parseInt((event.target as HTMLInputElement).value),\n        },\n      }),\n    })\n  }\n\n  return (\n    <Accordion id=\"mages\" title=\"Mages\" open>\n      <FormGroupSelect\n        options={mageOptions}\n        id=\"selectMages\"\n        label=\"Select Mages\"\n        onChange={handleMageChange}\n        isMulti\n      />\n      <h3>Random Mages</h3>\n      <p>Enter the amount of random mages.</p>\n      <FormGroupInputText\n        id=\"randomMagesAmount\"\n        label=\"Amount of random mages\"\n        onChange={handleMageRandomAmountChange}\n        defaultValue={0}\n      />\n    </Accordion>\n  )\n}\n\nexport default React.memo(Mages)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport DATA from 'aer-data'\nimport * as aerTypes from 'aer-types'\n\nimport { RootState, selectors, actions } from 'Redux/Store'\n\nimport * as types from 'types'\n\nimport Accordion from 'components/organisms/Accordion'\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\nimport Button from 'components/atoms/Button'\nimport SupplyCardBlueprint from 'components/molecules/SupplyCardBlueprint'\nimport FormGroupCheckbox from 'components/molecules/FormGroupCheckbox'\n\nconst mapStateToProps = (state: RootState) => ({\n  blueprints: selectors.DraftExpedition.SequenceConfig.DraftRewardSupplyCard.getDraftRewardSupplyCardArray(\n    state\n  ),\n})\n\nconst mapDispatchToProps = {\n  addSupplyCard:\n    actions.DraftExpedition.SequenceConfig.DraftRewardSupplyCard\n      .draftAddBattleRewardSupplyCard,\n  editSupplyCard:\n    actions.DraftExpedition.SequenceConfig.DraftRewardSupplyCard\n      .draftEditRewardSupplyCard,\n  deleteSupplyCard:\n    actions.DraftExpedition.SequenceConfig.DraftRewardSupplyCard\n      .draftDeleteRewardSupplyCard,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> &\n  typeof mapDispatchToProps & {\n    config: types.BattleRewardConfig\n    updateDraftRewardConfig: (config: types.BattleRewardConfig) => void\n  }\n\nconst Supply = ({\n  config,\n  updateDraftRewardConfig,\n  blueprints,\n  addSupplyCard,\n  editSupplyCard,\n  deleteSupplyCard,\n}: Props) => {\n  const dataSupply: aerTypes.ICard[] = Object.values(\n    DATA.normalizedData.ENG.cards\n  )\n\n  const supplyOptions = dataSupply.map((supply: aerTypes.ICard) => {\n    return {\n      value: supply.id,\n      label: `${supply.name} (${supply.type})`,\n    }\n  })\n\n  const handleSupplyChange = (selectOptions: types.SelectOptions) => {\n    const selectedSupplyIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    updateDraftRewardConfig({\n      ...config,\n      ...Object.assign({\n        supply: {\n          ...config.supply,\n          ids: [...selectedSupplyIds],\n        },\n      }),\n    })\n  }\n\n  const handleBigPocketChange = (event: React.ChangeEvent) => {\n    updateDraftRewardConfig({\n      ...config,\n      ...Object.assign({\n        supply: {\n          ...config.supply,\n          bigPocket: (event.currentTarget as HTMLInputElement).checked,\n        },\n      }),\n    })\n  }\n\n  const handleAddSupplyCard = () => {\n    addSupplyCard(config._id)\n  }\n\n  const handleEditSupplyCard = (blueprint: types.Blueprint) => {\n    editSupplyCard(blueprint)\n  }\n\n  const handleDeleteSupplyCard = (blueprint: types.Blueprint) => {\n    deleteSupplyCard(blueprint)\n  }\n\n  const renderSupplyBlueprints = (\n    blueprints: types.Blueprint[],\n    configId: string\n  ) => {\n    return blueprints\n      .filter((blueprint: types.Blueprint) => blueprint.configId === configId)\n      .map((blueprint: types.Blueprint) => {\n        return (\n          <SupplyCardBlueprint\n            key={blueprint._id}\n            blueprint={blueprint}\n            handleChange={handleEditSupplyCard}\n            handleDelete={handleDeleteSupplyCard}\n          />\n        )\n      })\n  }\n\n  return (\n    <Accordion id=\"supply\" title=\"Supply\" open>\n      <FormGroupCheckbox\n        id=\"rewardSupplyBigPocket\"\n        label=\"Big Pocket Mode\"\n        onChange={handleBigPocketChange}\n        defaultChecked={config?.supply?.bigPocket ?? false}\n      />\n      <FormGroupSelect\n        options={supplyOptions}\n        id=\"selectSupplyCards\"\n        label=\"Select Supply Cards\"\n        onChange={handleSupplyChange}\n        isMulti\n      />\n      <h3>Random supply cards</h3>\n      <Button onClick={handleAddSupplyCard}>Add random supply card</Button>\n      {blueprints ? (\n        renderSupplyBlueprints(blueprints, config._id)\n      ) : (\n        <p>No supply cards added</p>\n      )}\n    </Accordion>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Supply))\n","import React from 'react'\n\nimport * as types from 'types'\n\nimport Fieldset from 'components/molecules/Fieldset'\nimport Button from 'components/atoms/Button'\nimport Treasures from './Treasures'\nimport Mages from './Mages'\nimport Supply from './Supply'\n\ntype Props = {\n  config: types.BattleRewardConfig\n  handleChange: (config: types.BattleRewardConfig) => void\n  handleDelete: (config: types.BattleRewardConfig) => void\n}\n\nconst RewardConfig = ({ config, handleChange, handleDelete }: Props) => {\n  const handleDeleteRewardConfig = () => {\n    handleDelete(config)\n  }\n\n  const handleRewardTypeChange = (event: React.ChangeEvent) => {\n    const rewardType = (event.target as HTMLInputElement)\n      .value as types.RewardType\n\n    handleChange({\n      ...config,\n      rewardType: rewardType,\n      treasure: rewardType === 'custom' ? config.treasure : undefined,\n      mage: rewardType === 'custom' ? config.mage : undefined,\n      supply: rewardType === 'custom' ? config.supply : undefined,\n    })\n  }\n\n  return (\n    <>\n      <Fieldset legend=\"Reward type\" legendVisible>\n        <div className=\"radio-wrapper\">\n          <input\n            type=\"radio\"\n            name={`rewardType-${config._id}`}\n            id={`regular-${config._id}`}\n            defaultChecked\n            value=\"regular\"\n            onChange={handleRewardTypeChange}\n          />\n          <label htmlFor={`regular-${config._id}`}>regular</label>\n        </div>\n        <div className=\"radio-wrapper\">\n          <input\n            type=\"radio\"\n            name={`rewardType-${config._id}`}\n            id={`custom-${config._id}`}\n            value=\"custom\"\n            onChange={handleRewardTypeChange}\n          />\n          <label htmlFor={`custom-${config._id}`}>custom</label>\n        </div>\n      </Fieldset>\n      {config.rewardType === 'custom' && (\n        <>\n          <Treasures config={config} updateDraftRewardConfig={handleChange} />\n          <Mages config={config} updateDraftRewardConfig={handleChange} />\n          <Supply config={config} updateDraftRewardConfig={handleChange} />\n        </>\n      )}\n\n      <Button onClick={handleDeleteRewardConfig}>Delete Config</Button>\n    </>\n  )\n}\n\nexport default React.memo(RewardConfig)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport DATA from 'aer-data'\nimport * as aerTypes from 'aer-types'\n\nimport { RootState, selectors, actions } from 'Redux/Store'\n\nimport * as types from 'types'\n\nimport Fieldset from 'components/molecules/Fieldset'\nimport ModalBodyWrapper from 'components/atoms/ModalBodyWrapper'\nimport FormGroupInputText from 'components/molecules/FormGroupInputText'\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\nimport FormGroupCheckbox from 'components/molecules/FormGroupCheckbox'\nimport FormGroupTextarea from 'components/molecules/FormGroupTextarea'\nimport Button from 'components/atoms/Button'\nimport RewardConfig from './RewardConfig'\n\nconst mapStateToProps = (state: RootState) => ({\n  rewardConfigs: selectors.DraftExpedition.SequenceConfig.DraftRewardConfig.getDraftRewardConfigArray(\n    state\n  ),\n})\n\nconst mapDispatchToProps = {\n  addRewardConfig:\n    actions.DraftExpedition.SequenceConfig.DraftRewardConfig\n      .draftAddRewardConfig,\n  editRewardConfig:\n    actions.DraftExpedition.SequenceConfig.DraftRewardConfig\n      .draftEditRewardConfig,\n  deleteRewardConfig:\n    actions.DraftExpedition.SequenceConfig.DraftRewardConfig\n      .draftDeleteRewardConfig,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> &\n  typeof mapDispatchToProps & {\n    branch: types.BattleBranch\n    setBranch: (branch: types.BattleBranch) => void\n  }\n\nconst Body = ({\n  branch,\n  rewardConfigs,\n  setBranch,\n  addRewardConfig,\n  editRewardConfig,\n  deleteRewardConfig,\n}: Props) => {\n  const dataNemeses: aerTypes.Nemesis[] = Object.values(\n    DATA.normalizedData.ENG.nemeses\n  )\n\n  const nemesisOptions = dataNemeses.map((nemesis: aerTypes.Nemesis) => {\n    return {\n      value: nemesis.id,\n      label: nemesis.name,\n    }\n  })\n\n  const dataUpgradedBasicNemesisCardsCards: aerTypes.UpgradedBasicNemesisCard[] = Object.values(\n    DATA.normalizedData.ENG.upgradedBasicNemesisCards\n  )\n\n  const upgradedBasicNemesisCardsOptions = dataUpgradedBasicNemesisCardsCards.map(\n    (upgradedBasicNemesisCard: aerTypes.UpgradedBasicNemesisCard) => {\n      return {\n        value: upgradedBasicNemesisCard.id,\n        label: upgradedBasicNemesisCard.name,\n      }\n    }\n  )\n\n  const treasureLevelOptions: types.TreasureLevelOptions = [\n    { value: '1', label: 'Level 1' },\n    { value: '2', label: 'Level 2' },\n    { value: '3', label: 'Level 3' },\n  ]\n\n  const treasureLevelDefaultValue =\n    treasureLevelOptions.find(\n      (option) => option.value === branch?.treasure?.level.toString()\n    ) ?? treasureLevelOptions.find((option) => option.value === '1')\n\n  const winConfigs = rewardConfigs.filter(\n    (config: types.BattleRewardConfig) => config.type === 'win'\n  )\n\n  const lossConfigs = rewardConfigs.filter(\n    (config: types.BattleRewardConfig) => config.type === 'loss'\n  )\n\n  const handleBranchIdChange = (event: any) => {\n    setBranch({\n      ...branch,\n      id: event.target.value,\n    })\n  }\n\n  const handleBattleTierChange = (event: React.ChangeEvent) => {\n    setBranch({\n      ...branch,\n      tier: parseInt(\n        (event.target as HTMLInputElement).value\n      ) as aerTypes.NemesisTier,\n    })\n  }\n\n  const handleNemesisIdChange = (selectOption: types.SelectOption) => {\n    setBranch({\n      ...branch,\n      nemesisId: selectOption.value,\n    })\n  }\n\n  const handleOnLossChange = (event: React.ChangeEvent) => {\n    setBranch({\n      ...branch,\n      onLoss: (event.currentTarget as HTMLInputElement).checked\n        ? 'skip'\n        : false,\n    })\n  }\n\n  const handleSpecialRulesChange = (event: any) => {\n    setBranch({\n      ...branch,\n      specialRules: event.target.value,\n    })\n  }\n\n  const handleNewUBNCardsTypeChange = (event: React.ChangeEvent) => {\n    setBranch({\n      ...branch,\n      newUBNCards: {\n        type: (event.target as HTMLInputElement)\n          .value as types.NewUBNCardsTypes,\n      },\n    })\n  }\n\n  const handleUBNCardIdChange = (selectOptions: types.SelectOptions) => {\n    const selectedUBNCardIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    setBranch({\n      ...branch,\n      newUBNCards: {\n        ...branch.newUBNCards,\n        ids: [...selectedUBNCardIds],\n      } as types.NewUBNCardsCustomTyp,\n    })\n  }\n\n  const handleAddRandomChange = (event: React.ChangeEvent) => {\n    setBranch({\n      ...branch,\n      newUBNCards: {\n        ...branch.newUBNCards,\n        addRandom: (event.currentTarget as HTMLInputElement).checked,\n      } as types.NewUBNCardsRegularTyp,\n    })\n  }\n\n  const handleHasTreasureChange = (event: React.ChangeEvent) => {\n    setBranch({\n      ...branch,\n      treasure: {\n        ...branch.treasure,\n        hasTreasure: (event.currentTarget as HTMLInputElement).checked,\n        level: (event.currentTarget as HTMLInputElement).checked\n          ? branch.treasure.level\n          : 1,\n      },\n    })\n  }\n\n  const handleTreasureLevelChange = (\n    selectOption: types.TreasureLevelOption\n  ) => {\n    setBranch({\n      ...branch,\n      treasure: {\n        ...branch.treasure,\n        level: parseInt(selectOption.value) as aerTypes.TreasureLevel,\n      },\n    })\n  }\n\n  const handleAddRewardConfig = (type: types.BattleRewardConfigType) => {\n    addRewardConfig(type)\n  }\n\n  const handleEditRewardConfig = (config: types.BattleRewardConfig) => {\n    editRewardConfig(config)\n  }\n\n  const handleDeleteRewardConfig = (config: types.BattleRewardConfig) => {\n    deleteRewardConfig(config)\n  }\n\n  const renderRewardConfigs = (configs: types.BattleRewardConfig[]) => {\n    return configs.map((config: types.BattleRewardConfig) => {\n      return (\n        <RewardConfig\n          key={config._id}\n          config={config}\n          handleChange={handleEditRewardConfig}\n          handleDelete={handleDeleteRewardConfig}\n        />\n      )\n    })\n  }\n\n  return (\n    <ModalBodyWrapper>\n      <Fieldset legend=\"Battle Branch\">\n        <FormGroupInputText\n          id=\"branchId\"\n          label=\"Branch id\"\n          onChange={handleBranchIdChange}\n          defaultValue={branch.id}\n          required={true}\n        />\n      </Fieldset>\n      <Fieldset legend=\"Battle Tier\" legendVisible>\n        <div className=\"radio-wrapper\">\n          <input\n            type=\"radio\"\n            name=\"battleTier\"\n            id=\"battleTier1\"\n            defaultChecked\n            value=\"1\"\n            onChange={handleBattleTierChange}\n          />\n          <label htmlFor=\"battleTier1\">1</label>\n        </div>\n        <div className=\"radio-wrapper\">\n          <input\n            type=\"radio\"\n            name=\"battleTier\"\n            id=\"battleTier2\"\n            value=\"2\"\n            onChange={handleBattleTierChange}\n          />\n          <label htmlFor=\"battleTier2\">2</label>\n        </div>\n        <div className=\"radio-wrapper\">\n          <input\n            type=\"radio\"\n            name=\"battleTier\"\n            id=\"battleTier3\"\n            value=\"3\"\n            onChange={handleBattleTierChange}\n          />\n          <label htmlFor=\"battleTier3\">3</label>\n        </div>\n        <div className=\"radio-wrapper\">\n          <input\n            type=\"radio\"\n            name=\"battleTier\"\n            id=\"battleTier4\"\n            value=\"4\"\n            onChange={handleBattleTierChange}\n          />\n          <label htmlFor=\"battleTier4\">4</label>\n        </div>\n      </Fieldset>\n      <FormGroupSelect\n        options={nemesisOptions}\n        id=\"selectNemesis\"\n        label=\"Select Nemesis\"\n        onChange={handleNemesisIdChange}\n      />\n      <FormGroupCheckbox\n        id=\"onLoss\"\n        label=\"Skip on loss\"\n        onChange={handleOnLossChange}\n        defaultChecked={branch?.onLoss === 'skip' ?? false}\n      />\n      <FormGroupTextarea\n        id=\"specialRules\"\n        label=\"Special rules\"\n        onChange={handleSpecialRulesChange}\n        defaultValue={branch.specialRules}\n      />\n      <h2>New UBN Cards</h2>\n      <Fieldset legend=\"New UBN Cards\" legendVisible>\n        <div className=\"radio-wrapper\">\n          <input\n            type=\"radio\"\n            name=\"newUBNCardsType\"\n            id=\"newUBNCardsRegular\"\n            defaultChecked\n            value=\"regular\"\n            onChange={handleNewUBNCardsTypeChange}\n          />\n          <label htmlFor=\"newUBNCardsRegular\">regular</label>\n        </div>\n        <div className=\"radio-wrapper\">\n          <input\n            type=\"radio\"\n            name=\"newUBNCardsType\"\n            id=\"newUBNCardsCustom\"\n            value=\"custom\"\n            onChange={handleNewUBNCardsTypeChange}\n          />\n          <label htmlFor=\"newUBNCardsCustom\">custom</label>\n        </div>\n      </Fieldset>\n      {branch?.newUBNCards?.type === 'custom' ? (\n        <FormGroupSelect\n          options={upgradedBasicNemesisCardsOptions}\n          id=\"selectUpgradedBasicNemesisCards\"\n          label=\"Select Upgraded Basic Nemesis Cards\"\n          onChange={handleUBNCardIdChange}\n          isMulti\n        />\n      ) : (\n        <FormGroupCheckbox\n          id=\"addRandom\"\n          label=\"Add random\"\n          onChange={handleAddRandomChange}\n          defaultChecked={branch.newUBNCards?.addRandom ?? true}\n        />\n      )}\n      <h2>Treasure</h2>\n      <FormGroupCheckbox\n        id=\"hasTreasure\"\n        label=\"Has treasure\"\n        onChange={handleHasTreasureChange}\n        defaultChecked={branch?.treasure?.hasTreasure ?? false}\n      />\n\n      {branch?.treasure?.hasTreasure && (\n        <FormGroupSelect\n          options={treasureLevelOptions}\n          id=\"selectTreasureLevel\"\n          label=\"TreasureLevel\"\n          onChange={handleTreasureLevelChange}\n          defaultValue={treasureLevelDefaultValue}\n        />\n      )}\n      <h2>Win rewards</h2>\n      {winConfigs.length !== 0 ? (\n        renderRewardConfigs(winConfigs)\n      ) : (\n        <Button onClick={() => handleAddRewardConfig('win')}>\n          Add reward config\n        </Button>\n      )}\n\n      <h2>Loss rewards</h2>\n      <Button onClick={() => handleAddRewardConfig('loss')}>\n        Add reward config\n      </Button>\n\n      {lossConfigs ? (\n        renderRewardConfigs(lossConfigs)\n      ) : (\n        <p>No loss configs added</p>\n      )}\n    </ModalBodyWrapper>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Body))\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport { RootState, selectors, actions } from 'Redux/Store'\n\nimport * as types from 'types'\n\nimport Button from 'components/atoms/Button'\n\nconst mapStateToProps = (state: RootState) => ({\n  rewardConfigs: selectors.DraftExpedition.SequenceConfig.DraftRewardConfig.getDraftRewardConfigArray(\n    state\n  ),\n  rewardSupplyCards: selectors.DraftExpedition.SequenceConfig.DraftRewardSupplyCard.getDraftRewardSupplyCardArray(\n    state\n  ),\n})\n\nconst mapDispatchToProps = {\n  addBattleBranch:\n    actions.DraftExpedition.SequenceConfig.Branches.addBattleBranch,\n  clearDraftRewardConfig:\n    actions.DraftExpedition.SequenceConfig.DraftRewardConfig\n      .clearDraftRewardConfig,\n  clearDraftRewardSupplyCard:\n    actions.DraftExpedition.SequenceConfig.DraftRewardSupplyCard\n      .clearDraftRewardSupplyCard,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> &\n  typeof mapDispatchToProps & {\n    modal: any\n    branch: types.BattleBranch\n    initialBranch: types.BattleBranch\n    setBranch: (branch: types.BattleBranch) => void\n  }\n\nconst Footer = ({\n  modal,\n  branch,\n  initialBranch,\n  rewardConfigs,\n  rewardSupplyCards,\n  setBranch,\n  addBattleBranch,\n  clearDraftRewardConfig,\n  clearDraftRewardSupplyCard,\n}: Props) => {\n  const winRewards = rewardConfigs.find(\n    (config: types.BattleRewardConfig) => config.type === 'win'\n  )\n\n  const lossRewards = rewardConfigs.filter(\n    (config: types.BattleRewardConfig) => config.type === 'loss'\n  )\n\n  const handleAddBranch = () => {\n    const newBranch = branch\n\n    if (winRewards) {\n      Object.assign(newBranch, {\n        winRewards: {\n          ...(winRewards as types.RewardConfig),\n          supply: {\n            ...winRewards?.supply,\n            blueprints: [\n              ...rewardSupplyCards.filter((card: types.Blueprint) => {\n                return card.configId === winRewards?._id\n              }),\n            ],\n          },\n        },\n      })\n    }\n\n    if (lossRewards.length > 0) {\n      Object.assign(newBranch, {\n        lossRewards: [\n          ...lossRewards.map((reward: types.BattleRewardConfig) => {\n            return {\n              ...reward,\n              supply: {\n                ...reward?.supply,\n                blueprints: [\n                  ...rewardSupplyCards.filter((card: types.Blueprint) => {\n                    return card.configId === reward?._id\n                  }),\n                ],\n              },\n            }\n          }),\n        ],\n      })\n    }\n\n    addBattleBranch(newBranch)\n\n    clearDraftRewardConfig()\n    clearDraftRewardSupplyCard()\n    setBranch(initialBranch)\n    modal.hide()\n  }\n\n  const handleCancel = () => {\n    clearDraftRewardConfig()\n    clearDraftRewardSupplyCard()\n    setBranch(initialBranch)\n    modal.hide()\n  }\n\n  return (\n    <>\n      <Button onClick={handleCancel}>Cancel</Button>\n      <Button onClick={handleAddBranch}>Add branch</Button>\n    </>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Footer))\n","import React, { useState } from 'react'\n\nimport * as types from 'types'\n\nimport Body from './Body'\nimport Footer from './Footer'\n\ntype Props = {\n  modal: types.Modal\n}\n\nconst initialBranch: types.BattleBranch = {\n  id: '',\n  type: 'battle',\n  tier: 1,\n  treasure: {\n    level: 1,\n    hasTreasure: false,\n  },\n  newUBNCards: {\n    type: 'regular',\n  },\n}\n\nconst BattleBranchModal = ({ modal }: Props) => {\n  const [branch, setBranch] = useState<types.BattleBranch>(initialBranch)\n\n  return (\n    <modal.RenderModal\n      titleLabel=\"Add battle branch\"\n      footer={\n        <Footer\n          modal={modal}\n          branch={branch}\n          setBranch={setBranch}\n          initialBranch={initialBranch}\n        />\n      }\n    >\n      <Body branch={branch} setBranch={setBranch} />\n    </modal.RenderModal>\n  )\n}\n\nexport default React.memo(BattleBranchModal)\n","import React from 'react'\n\nimport { useModal } from 'hooks/useModal'\n\nimport Accordion from 'components/organisms/Accordion'\nimport Button from 'components/atoms/Button'\nimport NarrativeBranchModal from './NarrativeBranchModal'\nimport RewardBranchModal from './RewardBranchModal'\nimport BattleBranchModal from './BattleBranchModal'\n\nconst Branches = () => {\n  const narrativeBranchModal = useModal()\n  const rewardBranchModal = useModal()\n  const battleBranchModal = useModal()\n\n  const handleShowNarrativeBranchModal = () => {\n    narrativeBranchModal.show()\n  }\n\n  const handleShowRewardBranchModal = () => {\n    rewardBranchModal.show()\n  }\n\n  const handleShowBattleBranchModal = () => {\n    battleBranchModal.show()\n  }\n\n  return (\n    <Accordion id=\"branches\" title=\"Branches\" open>\n      <Button\n        type=\"button\"\n        style={{ display: 'block' }}\n        onClick={handleShowNarrativeBranchModal}\n      >\n        Add narrative branch\n      </Button>\n      <Button\n        type=\"button\"\n        style={{ display: 'block' }}\n        onClick={handleShowRewardBranchModal}\n      >\n        Add reward branch\n      </Button>\n      <Button\n        type=\"button\"\n        style={{ display: 'block' }}\n        onClick={handleShowBattleBranchModal}\n      >\n        Add battle branch\n      </Button>\n\n      <NarrativeBranchModal modal={narrativeBranchModal} />\n      <RewardBranchModal modal={rewardBranchModal} />\n      <BattleBranchModal modal={battleBranchModal} />\n    </Accordion>\n  )\n}\n\nexport default React.memo(Branches)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as types from 'types'\n\nimport { RootState, actions, selectors } from 'Redux/Store'\n\nimport Accordion from 'components/organisms/Accordion'\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\n\nconst mapStateToProps = (state: RootState) => ({\n  branches: selectors.DraftExpedition.SequenceConfig.Branches.getBranches(\n    state\n  ),\n  firstBranchId: selectors.DraftExpedition.SequenceConfig.FirstBranchId.getFirstBranchId(\n    state\n  ),\n})\n\nconst mapDispatchToProps = {\n  updateBranch: actions.DraftExpedition.SequenceConfig.Branches.updateBranch,\n  setFirstBranchId:\n    actions.DraftExpedition.SequenceConfig.FirstBranchId.setFirstBranchId,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> & typeof mapDispatchToProps & {}\n\nconst ConnectBranches = ({\n  branches,\n  firstBranchId,\n  updateBranch,\n  setFirstBranchId,\n}: Props) => {\n  const availableBranchesOptions = branches.map((branch: types.Branch) => {\n    return {\n      value: branch.id,\n      label: `${branch.id} (${branch.type})`,\n    }\n  })\n\n  const handleFirstBranchIdChange = (selectOption: types.SelectOption) => {\n    setFirstBranchId(selectOption.value)\n  }\n\n  const handleNarrativNextBranchIdChange = (\n    selectOption: types.SelectOption & {\n      currentBranchId: string\n      decisionId: string\n    }\n  ) => {\n    const branchToUpdate = branches.find(\n      (branch) => branch.id === selectOption.currentBranchId\n    ) as types.NarrativeBranch\n\n    const newDecisions =\n      branchToUpdate?.decisions &&\n      branchToUpdate?.decisions.map((decision: types.Decision) => {\n        if (decision._id === selectOption.decisionId) {\n          return {\n            ...decision,\n            nextBranchId: selectOption.value,\n          }\n        } else {\n          return decision\n        }\n      })\n\n    updateBranch({\n      ...branchToUpdate,\n      decisions: newDecisions,\n      nextBranchId:\n        newDecisions &&\n        newDecisions.map((decision: types.Decision) => decision.nextBranchId),\n    } as types.NarrativeBranch)\n  }\n\n  const handleNextBranchIdChange = (\n    selectOption: types.SelectOption & { currentBranchId: string }\n  ) => {\n    const branchToUpdate = branches.find(\n      (branch) => branch.id === selectOption.currentBranchId\n    )\n\n    updateBranch({\n      ...branchToUpdate,\n      nextBranchId: selectOption.value,\n    } as types.BattleBranch | types.RewardBranch)\n  }\n\n  return (\n    <Accordion id=\"connectBranches\" title=\"Connect Branches\" open>\n      {branches.length > 0 ? (\n        <>\n          <p>\n            Choose the branch which should be the entry point of the expedition.\n          </p>\n          <FormGroupSelect\n            options={availableBranchesOptions}\n            id=\"firstBranchId\"\n            label=\"First branch id\"\n            onChange={handleFirstBranchIdChange}\n          />\n          <ul>\n            {branches.map((branch: types.Branch) => {\n              const availableOptions = branches\n                .filter(\n                  (availableBranch: types.Branch) =>\n                    availableBranch.id !== branch.id &&\n                    availableBranch.id !== firstBranchId\n                )\n                .map((availableBranch: types.Branch) => {\n                  return {\n                    value: availableBranch.id,\n                    label: `${availableBranch.id} (${availableBranch.type})`,\n                    currentBranchId: branch.id,\n                  }\n                })\n\n              switch (branch.type) {\n                case 'narrative': {\n                  const narrativeBranch = branch as types.NarrativeBranch\n\n                  return (\n                    <li key={branch.id}>\n                      <p>Id: {branch.id}</p>\n                      <p>Type: {branch.type}</p>\n                      {narrativeBranch.decisions ? (\n                        <>\n                          <p>Decisions:</p>\n                          <ul>\n                            {narrativeBranch.decisions.map(\n                              (decision: types.Decision) => {\n                                const decisionOptions = availableOptions.map(\n                                  (availableOption: types.SelectOption) => {\n                                    return {\n                                      ...availableOption,\n                                      decisionId: decision._id,\n                                    }\n                                  }\n                                )\n\n                                return (\n                                  <li key={decision._id}>\n                                    {decision.text}\n                                    <FormGroupSelect\n                                      options={decisionOptions}\n                                      id={`nextBranchId-${branch.id}-${decision._id}`}\n                                      label=\"Next branch id\"\n                                      onChange={\n                                        handleNarrativNextBranchIdChange\n                                      }\n                                    />\n                                  </li>\n                                )\n                              }\n                            )}\n                          </ul>\n                        </>\n                      ) : (\n                        <p>No Desicions</p>\n                      )}\n                    </li>\n                  )\n                }\n\n                default: {\n                  return (\n                    <li key={branch.id}>\n                      <p>Id: {branch.id}</p>\n                      <p>Type: {branch.type}</p>\n                      <FormGroupSelect\n                        options={availableOptions}\n                        id={`nextBranchId-${branch.id}`}\n                        label=\"Next branch id\"\n                        onChange={handleNextBranchIdChange}\n                      />\n                    </li>\n                  )\n                }\n              }\n            })}\n          </ul>\n        </>\n      ) : (\n        <p>No branches added</p>\n      )}\n    </Accordion>\n  )\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(React.memo(ConnectBranches))\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport DATA from 'aer-data'\nimport * as aerTypes from 'aer-types'\n\nimport * as types from 'types'\n\nimport { RootState, actions, selectors } from 'Redux/Store'\n\nimport Accordion from 'components/organisms/Accordion'\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\n\nconst mapStateToProps = (state: RootState) => ({\n  barrackMages: selectors.DraftExpedition.InitialBarracksConfig.getBarrackMages(\n    state\n  ),\n  barrackSupplyCards: selectors.DraftExpedition.InitialBarracksConfig.getBarrackSupplyCards(\n    state\n  ),\n  barrackTreasures: selectors.DraftExpedition.InitialBarracksConfig.getBarrackTreasures(\n    state\n  ),\n})\n\nconst mapDispatchToProps = {\n  setBarrackMages: actions.DraftExpedition.InitialBarracksConfig.setMages,\n  setBarrackSupplyCards:\n    actions.DraftExpedition.InitialBarracksConfig.setSupplyCards,\n  setBarrackTreasures:\n    actions.DraftExpedition.InitialBarracksConfig.setTreasures,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> & typeof mapDispatchToProps & {}\n\nconst InitialBarracks = ({\n  barrackMages,\n  barrackSupplyCards,\n  barrackTreasures,\n  setBarrackMages,\n  setBarrackSupplyCards,\n  setBarrackTreasures,\n}: Props) => {\n  const dataMages: aerTypes.Mage[] = Object.values(\n    DATA.normalizedData.ENG.mages\n  )\n\n  const mageOptions = dataMages.map((mage: aerTypes.Mage) => {\n    return {\n      value: mage.id,\n      label: mage.name,\n    }\n  })\n\n  const magesDefaultValue = mageOptions.filter(\n    (option) => barrackMages.indexOf(option.value) !== -1\n  )\n\n  const handleMageChange = (selectOptions: types.SelectOptions) => {\n    const selectedMageIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    setBarrackMages(selectedMageIds)\n  }\n\n  const dataSupply: aerTypes.ICard[] = Object.values(\n    DATA.normalizedData.ENG.cards\n  )\n\n  const supplyOptions = dataSupply.map((supply: aerTypes.ICard) => {\n    return {\n      value: supply.id,\n      label: `${supply.name} (${supply.type})`,\n    }\n  })\n\n  const supplyCardsDefaultValue = supplyOptions.filter(\n    (option) => barrackSupplyCards.indexOf(option.value) !== -1\n  )\n\n  const handleSupplyChange = (selectOptions: types.SelectOptions) => {\n    const selectedSupplyIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    setBarrackSupplyCards(selectedSupplyIds)\n  }\n\n  const dataTreasures: aerTypes.Treasure[] = Object.values(\n    DATA.normalizedData.ENG.treasures\n  )\n\n  const treasureOptions = dataTreasures.map((treasure: aerTypes.Treasure) => {\n    return {\n      value: treasure.id,\n      label: `${treasure.name} (Level: ${treasure.level})`,\n    }\n  })\n\n  const treasuresDefaultValue = treasureOptions.filter(\n    (option) => barrackTreasures.indexOf(option.value) !== -1\n  )\n\n  const handleTreasureChange = (selectOptions: types.SelectOptions) => {\n    const selectedTreasureIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    setBarrackTreasures(selectedTreasureIds)\n  }\n\n  return (\n    <Accordion id=\"initialBarracks\" title=\"Initial Barracks\" open>\n      <FormGroupSelect\n        options={mageOptions}\n        id=\"selectBarrackMages\"\n        label=\"Select mages\"\n        onChange={handleMageChange}\n        defaultValue={magesDefaultValue}\n        isMulti\n      />\n      <FormGroupSelect\n        options={supplyOptions}\n        id=\"selectBarrackSupplyCards\"\n        label=\"Select supply cards\"\n        onChange={handleSupplyChange}\n        defaultValue={supplyCardsDefaultValue}\n        isMulti\n      />\n      <FormGroupSelect\n        options={treasureOptions}\n        id=\"selectBarrackTreasures\"\n        label=\"Select treasures\"\n        onChange={handleTreasureChange}\n        defaultValue={treasuresDefaultValue}\n        isMulti\n      />\n    </Accordion>\n  )\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(React.memo(InitialBarracks))\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport DATA from 'aer-data'\nimport * as aerTypes from 'aer-types'\n\nimport * as types from 'types'\n\nimport { RootState, actions, selectors } from 'Redux/Store'\n\nimport Accordion from 'components/organisms/Accordion'\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\n\nconst mapStateToProps = (state: RootState) => ({\n  upgradedBasicNemesisCards: selectors.DraftExpedition.InitialUBNCardsConfig.getInitialUBNCardsConfig(\n    state\n  ),\n})\n\nconst mapDispatchToProps = {\n  setUBNCards: actions.DraftExpedition.InitialUBNCardsConfig.setUBNCards,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> & typeof mapDispatchToProps & {}\n\nconst initialUBNCards = ({ upgradedBasicNemesisCards, setUBNCards }: Props) => {\n  const dataUBNCards: aerTypes.UpgradedBasicNemesisCard[] = Object.values(\n    DATA.normalizedData.ENG.upgradedBasicNemesisCards\n  )\n\n  const upgradedBasicNemesisCardsOptions = dataUBNCards.map(\n    (upgradedBasicNemesisCard: aerTypes.UpgradedBasicNemesisCard) => {\n      return {\n        value: upgradedBasicNemesisCard.id,\n        label: `${upgradedBasicNemesisCard.name} (${upgradedBasicNemesisCard.type})`,\n      }\n    }\n  )\n\n  const upgradedBasicNemesisCardsDefaultValue = upgradedBasicNemesisCardsOptions.filter(\n    (option) => upgradedBasicNemesisCards.indexOf(option.value) !== -1\n  )\n\n  const handleUBNCardsChange = (selectOptions: types.SelectOptions) => {\n    const selectedUBNCardsIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    setUBNCards(selectedUBNCardsIds)\n  }\n\n  return (\n    <Accordion\n      id=\"initialUBNCards\"\n      title=\"Initial Upgraded Basic Nemesis Cards\"\n      open\n    >\n      <FormGroupSelect\n        options={upgradedBasicNemesisCardsOptions}\n        id=\"selectUBNCards\"\n        label=\"Select upgraded basic nemesis cards\"\n        onChange={handleUBNCardsChange}\n        defaultValue={upgradedBasicNemesisCardsDefaultValue}\n        isMulti\n      />\n    </Accordion>\n  )\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(React.memo(initialUBNCards))\n","import React from 'react'\n\nimport * as aerTypes from 'aer-types'\nimport * as types from 'types'\n\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\nimport FormGroupInputNumber from 'components/molecules/FormGroupInputNumber'\nimport Button from 'components/atoms/Button'\n\ntype Props = {\n  tile: aerTypes.MarketTile\n  handleChange: (tile: aerTypes.MarketTile) => void\n  handleDelete: (tile: aerTypes.MarketTile) => void\n}\n\nconst SupplyTile = ({ tile, handleChange, handleDelete }: Props) => {\n  const cardTypeOptions: types.CardTypeOptions = [\n    { value: 'Gem', label: 'Gem' },\n    { value: 'Relic', label: 'Relic' },\n    { value: 'Spell', label: 'Spell' },\n  ]\n\n  const cardTypeDefaultValue = cardTypeOptions.find(\n    (option) => option.value === tile.type\n  )\n\n  const cardOperationOptions: types.CardOperationOptions = [\n    { value: '<', label: '>' },\n    { value: '>', label: '<' },\n    { value: '=', label: '=' },\n    { value: '<=', label: '<=' },\n    { value: '>=', label: '>=' },\n    { value: 'ANY', label: 'ANY' },\n    { value: 'OR', label: 'OR' },\n  ]\n\n  const cardOperationDefaultValue = cardOperationOptions.find(\n    (option) => option.value === tile.operation\n  )\n\n  const cardCostsOptions: types.CardCostsOptions = [\n    { value: '0', label: 'Cost: 0' },\n    { value: '1', label: 'Cost: 1' },\n    { value: '2', label: 'Cost: 2' },\n    { value: '3', label: 'Cost: 3' },\n    { value: '4', label: 'Cost: 4' },\n    { value: '5', label: 'Cost: 5' },\n    { value: '6', label: 'Cost: 6' },\n    { value: '7', label: 'Cost: 7' },\n    { value: '8', label: 'Cost: 8' },\n    { value: '9', label: 'Cost: 9' },\n  ]\n\n  const handleCardTypeChange = (selectOption: types.CardTypeOption) => {\n    handleChange({\n      ...tile,\n      type: selectOption.value,\n    })\n  }\n\n  const handleCardOperationChange = (\n    selectOption: types.CardOperationOption\n  ) => {\n    handleChange({\n      ...tile,\n      operation: selectOption.value,\n    })\n  }\n\n  const handleCardThresholdChange = (event: React.ChangeEvent) => {\n    handleChange({\n      ...tile,\n      threshold: parseInt((event.target as HTMLInputElement).value),\n    })\n  }\n\n  const handleCardCostsChange = (selectOptions: types.CardCostsOptions) => {\n    const costValues: number[] = selectOptions.map(\n      (option: types.CardCostsOption) => parseInt(option.value)\n    )\n\n    handleChange({\n      ...tile,\n      values: [...costValues],\n    })\n  }\n\n  const handleDeleteTile = () => {\n    handleDelete(tile)\n  }\n\n  return (\n    <div>\n      <FormGroupSelect\n        options={cardTypeOptions}\n        id={`selectCardType${tile.id}`}\n        label=\"Type\"\n        onChange={handleCardTypeChange}\n        defaultValue={cardTypeDefaultValue}\n      />\n      <FormGroupSelect\n        options={cardOperationOptions}\n        id={`selectCardOperation${tile.id}`}\n        label=\"Operation\"\n        onChange={handleCardOperationChange}\n        defaultValue={cardOperationDefaultValue}\n      />\n      {tile.operation !== 'OR' && tile.operation !== 'ANY' && (\n        <FormGroupInputNumber\n          id={`threshold${tile.id}`}\n          label=\"Threshold\"\n          onChange={handleCardThresholdChange}\n        />\n      )}\n      {tile.operation === 'OR' && (\n        <FormGroupSelect\n          options={cardCostsOptions}\n          id={`selectCosts${tile.id}`}\n          label=\"Card costs (values)\"\n          onChange={handleCardCostsChange}\n          isMulti\n        />\n      )}\n      <Button type=\"button\" onClick={handleDeleteTile}>\n        Delete\n      </Button>\n    </div>\n  )\n}\n\nexport default SupplyTile\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport shortid from 'shortid'\n\nimport DATA from 'aer-data'\nimport * as aerTypes from 'aer-types'\n\nimport * as types from 'types'\n\nimport { RootState, actions, selectors } from 'Redux/Store'\nimport { initialState } from 'Redux/Store/DraftExpedition/SettingsSnapshotConfig'\n\nimport Accordion from 'components/organisms/Accordion'\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\nimport FormGroupInputText from 'components/molecules/FormGroupInputText'\nimport SupplyTile from 'components/molecules/SupplyTile'\nimport Button from 'components/atoms/Button'\nimport Fieldset from 'components/molecules/Fieldset'\n\nconst mapStateToProps = (state: RootState) => ({\n  supplySetupType: selectors.DraftExpedition.SettingsSnapshotConfig.getSupplySetupType(\n    state\n  ),\n  supplySetupId: selectors.DraftExpedition.SettingsSnapshotConfig.getSupplySetupId(\n    state\n  ),\n  supplySetupName: selectors.DraftExpedition.SettingsSnapshotConfig.getSupplySetupName(\n    state\n  ),\n  tiles: selectors.DraftExpedition.SettingsSnapshotConfig.getSupplyTilesArray(\n    state\n  ),\n  availableMages: selectors.DraftExpedition.SettingsSnapshotConfig.getAvailableMages(\n    state\n  ),\n  availableSupplyCards: selectors.DraftExpedition.SettingsSnapshotConfig.getAvailableSupplyCards(\n    state\n  ),\n  availableTreasures: selectors.DraftExpedition.SettingsSnapshotConfig.getAvailableTreasures(\n    state\n  ),\n  availableNemeses: selectors.DraftExpedition.SettingsSnapshotConfig.getAvailableNemeses(\n    state\n  ),\n  availableUBNCards: selectors.DraftExpedition.SettingsSnapshotConfig.getAvailableUBNCards(\n    state\n  ),\n})\n\nconst mapDispatchToProps = {\n  setSupplySetup: actions.DraftExpedition.SettingsSnapshotConfig.setSupplySetup,\n  setSupplySetupId:\n    actions.DraftExpedition.SettingsSnapshotConfig.setSupplySetupId,\n  setSupplySetupName:\n    actions.DraftExpedition.SettingsSnapshotConfig.setSupplySetupName,\n  addSupplyTile: actions.DraftExpedition.SettingsSnapshotConfig.addSupplyTile,\n  updateSupplyTile:\n    actions.DraftExpedition.SettingsSnapshotConfig.updateSupplyTile,\n  deleteSupplyTile:\n    actions.DraftExpedition.SettingsSnapshotConfig.deleteSupplyTile,\n  setAvailableMages:\n    actions.DraftExpedition.SettingsSnapshotConfig.setAvailableMages,\n  setAvailableSupplyCards:\n    actions.DraftExpedition.SettingsSnapshotConfig.setAvailableSupplyCards,\n  setAvailableTreasures:\n    actions.DraftExpedition.SettingsSnapshotConfig.setAvailableTreasures,\n  setAvailableNemeses:\n    actions.DraftExpedition.SettingsSnapshotConfig.setAvailableNemeses,\n  setAvailableUBNCards:\n    actions.DraftExpedition.SettingsSnapshotConfig.setAvailableUBNCards,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> & typeof mapDispatchToProps & {}\n\nconst SettingsSnapshot = ({\n  supplySetupType,\n  supplySetupId,\n  supplySetupName,\n  tiles,\n  availableMages,\n  availableSupplyCards,\n  availableTreasures,\n  availableNemeses,\n  availableUBNCards,\n  setSupplySetup,\n  setSupplySetupId,\n  setSupplySetupName,\n  addSupplyTile,\n  updateSupplyTile,\n  deleteSupplyTile,\n  setAvailableMages,\n  setAvailableSupplyCards,\n  setAvailableTreasures,\n  setAvailableNemeses,\n  setAvailableUBNCards,\n}: Props) => {\n  const handleSupplySetupTypeChange = (event: React.ChangeEvent) => {\n    const type = (event.target as HTMLInputElement)\n      .value as types.SupplySetupType\n\n    type === 'custom'\n      ? setSupplySetup({\n          id: '',\n          name: '',\n          type: 'custom',\n          active: true,\n          tiles: {},\n        })\n      : setSupplySetup(initialState.supplySetup)\n  }\n\n  const dataMarketSetups: aerTypes.IMarketSetup[] = Object.values(\n    DATA.marketsetups.setups\n  )\n\n  const marketSetupsOptions = dataMarketSetups.map(\n    (marketSetup: aerTypes.IMarketSetup) => {\n      return {\n        value: marketSetup.id,\n        label: marketSetup.name,\n      }\n    }\n  )\n\n  const marketSetupsDefaultValue = marketSetupsOptions.filter((option) => {\n    const setup = DATA.marketsetups.setups[option.value]\n\n    return setup.id === supplySetupId\n  })\n\n  const handleMarketSetupChange = (selectOption: types.SelectOption) => {\n    const setup = DATA.marketsetups.setups[selectOption.value]\n\n    setSupplySetup({\n      id: setup?.id ?? '',\n      name: setup?.name ?? '',\n      type: setup?.type ?? 'official',\n      active: setup?.active ?? true,\n      tiles:\n        setup?.tiles.reduce((tiles: types.Tiles, tile: aerTypes.Slot) => {\n          const tileId = tile.id ?? shortid.generate()\n\n          const newTile = {\n            id: tileId,\n            type: tile.type as types.SupplyCardType,\n            operation: tile.operation,\n          }\n\n          tile.threshold &&\n            Object.assign(newTile, {\n              threshold: tile.threshold,\n            })\n\n          tile.values &&\n            Object.assign(newTile, {\n              values: tile.values,\n            })\n\n          return {\n            ...tiles,\n            [tileId]: newTile,\n          }\n        }, {}) ?? {},\n    })\n  }\n\n  const handleSupplySetupIdChange = (event: any) => {\n    setSupplySetupId(event.target.value)\n  }\n\n  const handleSupplySetupNameChange = (event: any) => {\n    setSupplySetupName(event.target.value)\n  }\n\n  const handleAddSupplyCard = () => {\n    addSupplyTile()\n  }\n\n  const handleUpdateSupplyCard = (tile: aerTypes.MarketTile) => {\n    updateSupplyTile(tile)\n  }\n\n  const handleDeleteSupplyCard = (tile: aerTypes.MarketTile) => {\n    deleteSupplyTile(tile.id)\n  }\n\n  const renderSupplyTiles = (tiles: aerTypes.MarketTile[]) => {\n    return tiles.map((tile: aerTypes.MarketTile) => {\n      return (\n        <SupplyTile\n          key={tile.id}\n          tile={tile}\n          handleChange={handleUpdateSupplyCard}\n          handleDelete={handleDeleteSupplyCard}\n        />\n      )\n    })\n  }\n\n  const dataMages: aerTypes.Mage[] = Object.values(\n    DATA.normalizedData.ENG.mages\n  )\n\n  const mageOptions = dataMages.map((mage: aerTypes.Mage) => {\n    return {\n      value: mage.id,\n      label: mage.name,\n    }\n  })\n\n  const magesDefaultValue = mageOptions.filter(\n    (option) => availableMages.indexOf(option.value) !== -1\n  )\n\n  const handleMageChange = (selectOptions: types.SelectOptions) => {\n    const selectedMageIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    setAvailableMages(selectedMageIds)\n  }\n\n  const dataSupply: aerTypes.ICard[] = Object.values(\n    DATA.normalizedData.ENG.cards\n  )\n\n  const supplyGemOptions = dataSupply\n    .filter((supply: aerTypes.ICard) => supply.type === 'Gem')\n    .map((supply: aerTypes.ICard) => {\n      return {\n        value: supply.id,\n        label: `${supply.name} (${supply.cost})`,\n      }\n    })\n\n  const supplyRelicOptions = dataSupply\n    .filter((supply: aerTypes.ICard) => supply.type === 'Relic')\n    .map((supply: aerTypes.ICard) => {\n      return {\n        value: supply.id,\n        label: `${supply.name} (${supply.cost})`,\n      }\n    })\n\n  const supplySpellOptions = dataSupply\n    .filter((supply: aerTypes.ICard) => supply.type === 'Spell')\n    .map((supply: aerTypes.ICard) => {\n      return {\n        value: supply.id,\n        label: `${supply.name} (${supply.cost})`,\n      }\n    })\n\n  const supplyGemsDefaultValue = supplyGemOptions.filter(\n    (option) => availableSupplyCards.indexOf(option.value) !== -1\n  )\n\n  const supplyRelicsDefaultValue = supplyRelicOptions.filter(\n    (option) => availableSupplyCards.indexOf(option.value) !== -1\n  )\n\n  const supplySpellsDefaultValue = supplySpellOptions.filter(\n    (option) => availableSupplyCards.indexOf(option.value) !== -1\n  )\n\n  const handleSupplyGemChange = (selectOptions: types.SelectOptions) => {\n    const selectedGemIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    const allButGemSupplyCards = dataSupply\n      .filter((supplyCard: aerTypes.ICard) => supplyCard.type !== 'Gem')\n      .filter(\n        (supplyCard: aerTypes.ICard) =>\n          availableSupplyCards.indexOf(supplyCard.id) !== -1\n      )\n      .map((supplyCard: aerTypes.ICard) => supplyCard.id)\n\n    setAvailableSupplyCards([...allButGemSupplyCards, ...selectedGemIds])\n  }\n\n  const handleSupplyRelicChange = (selectOptions: types.SelectOptions) => {\n    const selectedRelicIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    const allButRelicSupplyCards = dataSupply\n      .filter((supplyCard: aerTypes.ICard) => supplyCard.type !== 'Relic')\n      .filter(\n        (supplyCard: aerTypes.ICard) =>\n          availableSupplyCards.indexOf(supplyCard.id) !== -1\n      )\n      .map((supplyCard: aerTypes.ICard) => supplyCard.id)\n\n    setAvailableSupplyCards([...allButRelicSupplyCards, ...selectedRelicIds])\n  }\n\n  const handleSupplySpellChange = (selectOptions: types.SelectOptions) => {\n    const selectedSpellIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    const allButSpellSupplyCards = dataSupply\n      .filter((supplyCard: aerTypes.ICard) => supplyCard.type !== 'Spell')\n      .filter(\n        (supplyCard: aerTypes.ICard) =>\n          availableSupplyCards.indexOf(supplyCard.id) !== -1\n      )\n      .map((supplyCard: aerTypes.ICard) => supplyCard.id)\n\n    setAvailableSupplyCards([...allButSpellSupplyCards, ...selectedSpellIds])\n  }\n\n  const dataTreasures: aerTypes.Treasure[] = Object.values(\n    DATA.normalizedData.ENG.treasures\n  )\n\n  const treasureLevel1Options = dataTreasures\n    .filter((treasure: aerTypes.Treasure) => treasure.level === 1)\n    .map((treasure: aerTypes.Treasure) => {\n      return {\n        value: treasure.id,\n        label: treasure.subtype\n          ? `${treasure.name} (${treasure.subtype})`\n          : treasure.name,\n      }\n    })\n\n  const treasureLevel2Options = dataTreasures\n    .filter((treasure: aerTypes.Treasure) => treasure.level === 2)\n    .map((treasure: aerTypes.Treasure) => {\n      return {\n        value: treasure.id,\n        label: treasure.subtype\n          ? `${treasure.name} (${treasure.subtype})`\n          : treasure.name,\n      }\n    })\n\n  const treasureLevel3Options = dataTreasures\n    .filter((treasure: aerTypes.Treasure) => treasure.level === 3)\n    .map((treasure: aerTypes.Treasure) => {\n      return {\n        value: treasure.id,\n        label: treasure.subtype\n          ? `${treasure.name} (${treasure.subtype})`\n          : treasure.name,\n      }\n    })\n\n  const treasuresLevel1DefaultValue = treasureLevel1Options.filter(\n    (option) => availableTreasures.indexOf(option.value) !== -1\n  )\n\n  const treasuresLevel2DefaultValue = treasureLevel2Options.filter(\n    (option) => availableTreasures.indexOf(option.value) !== -1\n  )\n\n  const treasuresLevel3DefaultValue = treasureLevel3Options.filter(\n    (option) => availableTreasures.indexOf(option.value) !== -1\n  )\n\n  const handleTreasureLevel1Change = (selectOptions: types.SelectOptions) => {\n    const selectedTreasureLevel1Ids: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    const allButLevel1Treasures = dataTreasures\n      .filter((treasure: aerTypes.Treasure) => treasure.level !== 1)\n      .filter(\n        (treasure: aerTypes.Treasure) =>\n          availableTreasures.indexOf(treasure.id) !== -1\n      )\n      .map((treasure: aerTypes.Treasure) => treasure.id)\n\n    setAvailableTreasures([\n      ...allButLevel1Treasures,\n      ...selectedTreasureLevel1Ids,\n    ])\n  }\n\n  const handleTreasureLevel2Change = (selectOptions: types.SelectOptions) => {\n    const selectedTreasureLevel2Ids: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    const allButLevel2Treasures = dataTreasures\n      .filter((treasure: aerTypes.Treasure) => treasure.level !== 2)\n      .filter(\n        (treasure: aerTypes.Treasure) =>\n          availableTreasures.indexOf(treasure.id) !== -1\n      )\n      .map((treasure: aerTypes.Treasure) => treasure.id)\n\n    setAvailableTreasures([\n      ...allButLevel2Treasures,\n      ...selectedTreasureLevel2Ids,\n    ])\n  }\n\n  const handleTreasureLevel3Change = (selectOptions: types.SelectOptions) => {\n    const selectedTreasureLevel3Ids: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    const allButLevel3Treasures = dataTreasures\n      .filter((treasure: aerTypes.Treasure) => treasure.level !== 3)\n      .filter(\n        (treasure: aerTypes.Treasure) =>\n          availableTreasures.indexOf(treasure.id) !== -1\n      )\n      .map((treasure: aerTypes.Treasure) => treasure.id)\n\n    setAvailableTreasures([\n      ...allButLevel3Treasures,\n      ...selectedTreasureLevel3Ids,\n    ])\n  }\n\n  const dataNemeses: aerTypes.Nemesis[] = Object.values(\n    DATA.normalizedData.ENG.nemeses\n  )\n\n  const nemesesOptions = dataNemeses.map((nemesis: aerTypes.Nemesis) => {\n    return {\n      value: nemesis.id,\n      label: nemesis.name,\n    }\n  })\n\n  const nemesesDefaultValue = nemesesOptions.filter(\n    (option) => availableNemeses.indexOf(option.value) !== -1\n  )\n\n  const handleNemesesChange = (selectOptions: types.SelectOptions) => {\n    const selectedNemesisIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    setAvailableNemeses(selectedNemesisIds)\n  }\n\n  const dataUBNCards: aerTypes.UpgradedBasicNemesisCard[] = Object.values(\n    DATA.normalizedData.ENG.upgradedBasicNemesisCards\n  )\n\n  const upgradedBasicNemesisCardsOptions = dataUBNCards.map(\n    (upgradedBasicNemesisCard: aerTypes.UpgradedBasicNemesisCard) => {\n      return {\n        value: upgradedBasicNemesisCard.id,\n        label: `${upgradedBasicNemesisCard.name} (${upgradedBasicNemesisCard.type})`,\n      }\n    }\n  )\n\n  const upgradedBasicNemesisCardsDefaultValue = upgradedBasicNemesisCardsOptions.filter(\n    (option) => availableUBNCards.indexOf(option.value) !== -1\n  )\n\n  const handleUBNCardsChange = (selectOptions: types.SelectOptions) => {\n    const selectedUBNCardsIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    setAvailableUBNCards(selectedUBNCardsIds)\n  }\n\n  return (\n    <Accordion id=\"settingsSnapshot\" title=\"Settings Snapshot\" open>\n      <h3>Supply Setup</h3>\n      <Fieldset legend=\"Supply setup type\" legendVisible>\n        <div className=\"radio-wrapper\">\n          <input\n            type=\"radio\"\n            name=\"supplySetupType\"\n            id=\"supplySetupTypeOfficial\"\n            defaultChecked\n            value=\"official\"\n            onChange={handleSupplySetupTypeChange}\n          />\n          <label htmlFor=\"supplySetupTypeOfficial\">predefined</label>\n        </div>\n        <div className=\"radio-wrapper\">\n          <input\n            type=\"radio\"\n            name=\"supplySetupType\"\n            id=\"supplySetupTypeCustom\"\n            value=\"custom\"\n            onChange={handleSupplySetupTypeChange}\n          />\n          <label htmlFor=\"supplySetupTypeCustom\">custom</label>\n        </div>\n      </Fieldset>\n      {supplySetupType === 'custom' && supplySetupId !== 'market1Inc' ? (\n        <>\n          <p>Add your custom supply setup for the expedition.</p>\n          <FormGroupInputText\n            id=\"settingsSupplySetupId\"\n            label=\"Id\"\n            onChange={handleSupplySetupIdChange}\n            defaultValue={supplySetupId}\n          />\n          <FormGroupInputText\n            id=\"settingsSupplySetupName\"\n            label=\"Name\"\n            onChange={handleSupplySetupNameChange}\n            defaultValue={supplySetupName}\n          />\n          <Button type=\"button\" onClick={handleAddSupplyCard}>\n            Add supply tile\n          </Button>\n          {tiles.length ? (\n            renderSupplyTiles(tiles)\n          ) : (\n            <p>No supply cards added</p>\n          )}\n        </>\n      ) : (\n        <>\n          <FormGroupSelect\n            options={marketSetupsOptions}\n            id=\"selectMarketSetup\"\n            label=\"Select market setup\"\n            onChange={handleMarketSetupChange}\n            defaultValue={marketSetupsDefaultValue}\n          />\n        </>\n      )}\n      <h3>Mages ({availableMages.length})</h3>\n      <FormGroupSelect\n        options={mageOptions}\n        id=\"selectAvailableMages\"\n        label=\"Select available mages\"\n        onChange={handleMageChange}\n        defaultValue={magesDefaultValue}\n        isMulti\n      />\n      <h3>Supply Cards ({availableSupplyCards.length})</h3>\n      <FormGroupSelect\n        options={supplyGemOptions}\n        id=\"selectAvailableGems\"\n        label=\"Select available gems\"\n        onChange={handleSupplyGemChange}\n        defaultValue={supplyGemsDefaultValue}\n        isMulti\n      />\n      <FormGroupSelect\n        options={supplyRelicOptions}\n        id=\"selectAvailableRelics\"\n        label=\"Select available relics\"\n        onChange={handleSupplyRelicChange}\n        defaultValue={supplyRelicsDefaultValue}\n        isMulti\n      />\n      <FormGroupSelect\n        options={supplySpellOptions}\n        id=\"selectAvailableSpells\"\n        label=\"Select available spells\"\n        onChange={handleSupplySpellChange}\n        defaultValue={supplySpellsDefaultValue}\n        isMulti\n      />\n      <h3>Treasures ({availableTreasures.length})</h3>\n      <FormGroupSelect\n        options={treasureLevel1Options}\n        id=\"selectAvailableTreasuresLevel1\"\n        label=\"Select available level 1 treasures\"\n        onChange={handleTreasureLevel1Change}\n        defaultValue={treasuresLevel1DefaultValue}\n        isMulti\n      />\n      <FormGroupSelect\n        options={treasureLevel2Options}\n        id=\"selectAvailableTreasuresLevel2\"\n        label=\"Select available level 2 treasures\"\n        onChange={handleTreasureLevel2Change}\n        defaultValue={treasuresLevel2DefaultValue}\n        isMulti\n      />\n      <FormGroupSelect\n        options={treasureLevel3Options}\n        id=\"selectAvailableTreasuresLevel3\"\n        label=\"Select available level 3 treasures\"\n        onChange={handleTreasureLevel3Change}\n        defaultValue={treasuresLevel3DefaultValue}\n        isMulti\n      />\n      <h3>Nemeses ({availableNemeses.length})</h3>\n      <FormGroupSelect\n        options={nemesesOptions}\n        id=\"selectAvailableNemeses\"\n        label=\"Select available nemeses\"\n        onChange={handleNemesesChange}\n        defaultValue={nemesesDefaultValue}\n        isMulti\n      />\n      <h3>Upgraded Basic Nemesis Cards ({availableUBNCards.length})</h3>\n      <FormGroupSelect\n        options={upgradedBasicNemesisCardsOptions}\n        id=\"selectUBNCards\"\n        label=\"Select upgraded basic nemesis cards\"\n        onChange={handleUBNCardsChange}\n        defaultValue={upgradedBasicNemesisCardsDefaultValue}\n        isMulti\n      />\n    </Accordion>\n  )\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(React.memo(SettingsSnapshot))\n","const copyToClipboard = (json: string) => {\n  window.navigator.clipboard.writeText(json)\n}\n\nexport default copyToClipboard\n","import { saveAs } from 'file-saver'\n\nconst saveToFile = (json: string, name: string) => {\n  const blob = new Blob([json], { type: 'text/json;charset=utf-8' })\n\n  return saveAs(blob, `${name}.json`)\n}\n\nexport default saveToFile\n","import styled from 'styled-components/macro'\n\nconst Wrapper = styled('div')`\n  width: 50%;\n  padding: 0 0 0 32px;\n\n  @media all and (max-width: 920px) {\n    width: 100%;\n    padding: 32px 0 0 0;\n  }\n`\n\nexport default Wrapper\n","import styled from 'styled-components/macro'\n\nconst Pre = styled('pre')`\n  padding: 24px;\n  border: 1px solid #dadada;\n  background: #fafafa;\n`\n\nexport default Pre\n\n\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as aerTypes from 'aer-types'\nimport * as types from 'types'\n\nimport { RootState, selectors } from 'Redux/Store'\n\nimport { saveToFile, copyToClipboard } from 'helpers'\n\nimport Button from 'components/atoms/Button'\nimport Wrapper from './__styled__/Wrapper'\nimport Pre from './__styled__/Pre'\n\nconst mapStateToProps = (state: RootState) => ({\n  name: selectors.DraftExpedition.Name.getExpeditionName(state),\n  seed: selectors.DraftExpedition.SeedConfig.getSeed(state),\n  bigPocketVariantConfig: selectors.DraftExpedition.BigPocketVariantConfig.getBigPocketVariantConfig(\n    state\n  ),\n  branches: selectors.DraftExpedition.SequenceConfig.Branches.getBranches(\n    state\n  ),\n  firstBranchId: selectors.DraftExpedition.SequenceConfig.FirstBranchId.getFirstBranchId(\n    state\n  ),\n  initialBarracks: selectors.DraftExpedition.InitialBarracksConfig.getInitialBarracksConfig(\n    state\n  ),\n  initialUBNCards: selectors.DraftExpedition.InitialUBNCardsConfig.getInitialUBNCardsConfig(\n    state\n  ),\n  settingsSnapshot: selectors.DraftExpedition.SettingsSnapshotConfig.getSettingsSnapshotConfig(\n    state\n  ),\n})\n\ntype Props = ReturnType<typeof mapStateToProps> & {\n  fileName?: string\n}\n\nconst Preview = ({\n  fileName = 'expedition',\n  name,\n  seed,\n  bigPocketVariantConfig,\n  firstBranchId,\n  branches,\n  initialBarracks,\n  initialUBNCards,\n  settingsSnapshot,\n}: Props) => {\n  const dataBranches = branches.reduce((branches, branch: types.Branch) => {\n    switch (branch.type) {\n      case 'narrative': {\n        const narrativeBranch = branch as types.NarrativeBranch\n\n        const newBranch = {\n          type: branch.type,\n          config: {\n            text: narrativeBranch.text,\n            decisions: narrativeBranch.decisions\n              ? narrativeBranch.decisions.map((decision) => decision.text)\n              : false,\n          },\n        }\n\n        if (narrativeBranch.nextBranchId) {\n          Object.assign(newBranch, {\n            nextBranchId: narrativeBranch.nextBranchId,\n          })\n        }\n\n        return {\n          ...branches,\n          [branch.id]: newBranch,\n        }\n      }\n\n      case 'reward': {\n        const rewardBranch = branch as types.RewardBranch\n\n        const newBranch = {\n          type: branch.type,\n          config: {\n            type: rewardBranch.rewardType,\n          },\n        }\n\n        const randomTreasuresTier1 =\n          rewardBranch.treasure.tier1 !== 0\n            ? Array(rewardBranch.treasure.tier1).fill({\n                random: true,\n                level: 1,\n              })\n            : []\n\n        const randomTreasuresTier2 =\n          rewardBranch.treasure.tier2 !== 0\n            ? Array(rewardBranch.treasure.tier2).fill({\n                random: true,\n                level: 2,\n              })\n            : []\n\n        const randomTreasuresTier3 =\n          rewardBranch.treasure.tier3 !== 0\n            ? Array(rewardBranch.treasure.tier3).fill({\n                random: true,\n                level: 3,\n              })\n            : []\n\n        if (\n          rewardBranch.treasure.ids.length > 0 ||\n          randomTreasuresTier1.length > 0 ||\n          randomTreasuresTier2.length > 0 ||\n          randomTreasuresTier3.length > 0\n        ) {\n          Object.assign(newBranch.config, {\n            treasure: {\n              ids: [\n                ...rewardBranch.treasure.ids,\n                ...randomTreasuresTier1,\n                ...randomTreasuresTier2,\n                ...randomTreasuresTier3,\n              ],\n            },\n          })\n        }\n\n        const randomMageAmount =\n          rewardBranch.mage.randomAmount !== 0\n            ? Array(rewardBranch.mage.randomAmount).fill({\n                random: true,\n              })\n            : []\n\n        if (rewardBranch.mage.ids.length > 0 || randomMageAmount.length > 0) {\n          Object.assign(newBranch.config, {\n            mage: {\n              ids: [...rewardBranch.mage.ids, ...randomMageAmount],\n            },\n          })\n        }\n\n        if (\n          rewardBranch.supply.ids.length > 0 ||\n          rewardBranch.supply.blueprints\n        ) {\n          const blueprints =\n            (rewardBranch.supply.blueprints &&\n              (rewardBranch.supply.blueprints as types.Blueprint[]).map(\n                (blueprint: types.Blueprint) => {\n                  return {\n                    type: blueprint.type,\n                    operation: blueprint.operation,\n                    threshold: blueprint.threshold,\n                    values: blueprint.values,\n                  }\n                }\n              )) ??\n            []\n\n          if (rewardBranch.supply.ids.length > 0 || blueprints.length > 0) {\n            Object.assign(newBranch.config, {\n              supply: {\n                ids: [...rewardBranch.supply.ids, ...blueprints],\n                bigPocket: rewardBranch.supply.bigPocket,\n              },\n            })\n          }\n        }\n\n        if (rewardBranch.nextBranchId) {\n          Object.assign(newBranch, {\n            nextBranchId: rewardBranch.nextBranchId,\n          })\n        }\n\n        return {\n          ...branches,\n          [branch.id]: newBranch,\n        }\n      }\n\n      case 'battle': {\n        const battleBranch = branch as types.BattleBranch\n\n        const newBranch = {\n          type: branch.type,\n          config: {\n            tier: battleBranch.tier,\n            newUBNCards: battleBranch.newUBNCards,\n            treasure: {\n              level: battleBranch.treasure.level,\n              hasTreasure: battleBranch.treasure.hasTreasure,\n            },\n          },\n        }\n\n        battleBranch.newUBNCards.type === 'regular' &&\n          Object.assign(newBranch.config.newUBNCards, {\n            addRandom: battleBranch.newUBNCards?.addRandom ?? true,\n          })\n\n        battleBranch.nemesisId &&\n          Object.assign(newBranch.config, {\n            nemesisId: battleBranch.nemesisId,\n          })\n\n        battleBranch.specialRules &&\n          Object.assign(newBranch.config, {\n            specialRules: battleBranch.specialRules,\n          })\n\n        battleBranch.onLoss &&\n          Object.assign(newBranch.config, {\n            onLoss: battleBranch.onLoss,\n          })\n\n        if (battleBranch?.winRewards?.hasOwnProperty('rewardType')) {\n          const winRewardTreasure = {}\n          const winRewardMage = {}\n          const winRewardSupply = {}\n\n          const winRewardTreasureIds =\n            battleBranch.winRewards?.treasure?.ids ?? []\n\n          const winRewardRandomTreasuresTier1 =\n            battleBranch.winRewards?.treasure?.tier1 &&\n            battleBranch.winRewards?.treasure?.tier1 !== 0\n              ? Array(battleBranch.winRewards.treasure.tier1).fill({\n                  random: true,\n                  level: 1,\n                })\n              : []\n\n          const winRewardRandomTreasuresTier2 =\n            battleBranch.winRewards?.treasure?.tier2 &&\n            battleBranch.winRewards?.treasure?.tier2 !== 0\n              ? Array(battleBranch.winRewards.treasure.tier2).fill({\n                  random: true,\n                  level: 2,\n                })\n              : []\n\n          const winRewardRandomTreasuresTier3 =\n            battleBranch.winRewards?.treasure?.tier3 &&\n            battleBranch.winRewards?.treasure?.tier3 !== 0\n              ? Array(battleBranch.winRewards.treasure.tier3).fill({\n                  random: true,\n                  level: 3,\n                })\n              : []\n\n          if (\n            winRewardTreasureIds.length > 0 ||\n            winRewardRandomTreasuresTier1.length > 0 ||\n            winRewardRandomTreasuresTier2.length > 0 ||\n            winRewardRandomTreasuresTier3.length > 0\n          ) {\n            Object.assign(winRewardTreasure, {\n              ids: [\n                ...winRewardTreasureIds,\n                ...winRewardRandomTreasuresTier1,\n                ...winRewardRandomTreasuresTier2,\n                ...winRewardRandomTreasuresTier3,\n              ],\n            })\n          }\n\n          const winRewardMageIds = battleBranch.winRewards?.mage?.ids ?? []\n\n          const winRewardRandomMageAmount =\n            battleBranch.winRewards?.mage?.randomAmount &&\n            battleBranch.winRewards?.mage?.randomAmount !== 0\n              ? Array(battleBranch.winRewards.mage.randomAmount).fill({\n                  random: true,\n                })\n              : []\n\n          if (\n            winRewardMageIds.length > 0 ||\n            winRewardRandomMageAmount.length > 0\n          ) {\n            Object.assign(winRewardMage, {\n              ids: [...winRewardMageIds, ...winRewardRandomMageAmount],\n            })\n          }\n\n          const winRewardSupplyIds = battleBranch.winRewards?.supply?.ids ?? []\n          const winRewardSupplyBlueprints =\n            battleBranch.winRewards?.supply?.blueprints ?? []\n          const winRewardSupplyBigPocket =\n            battleBranch.winRewards?.supply?.bigPocket ?? false\n\n          if (\n            winRewardSupplyIds.length > 0 ||\n            winRewardSupplyBlueprints.length > 0\n          ) {\n            const blueprints = winRewardSupplyBlueprints.map(\n              (blueprint: types.Blueprint) => {\n                return {\n                  type: blueprint.type,\n                  operation: blueprint.operation,\n                  threshold: blueprint.threshold,\n                  values: blueprint.values,\n                }\n              }\n            )\n\n            Object.assign(winRewardSupply, {\n              ids: [...winRewardSupplyIds, ...blueprints],\n              bigPocket: winRewardSupplyBigPocket,\n            })\n          }\n\n          Object.assign(newBranch.config, {\n            winRewards:\n              Object.keys(battleBranch.winRewards).length > 0\n                ? {\n                    type: battleBranch.winRewards.rewardType,\n                    treasure:\n                      Object.keys(winRewardTreasure).length > 0\n                        ? winRewardTreasure\n                        : undefined,\n                    mage:\n                      Object.keys(winRewardMage).length > 0\n                        ? winRewardMage\n                        : undefined,\n                    supply:\n                      Object.keys(winRewardSupply).length > 0\n                        ? winRewardSupply\n                        : undefined,\n                  }\n                : undefined,\n          })\n        }\n\n        battleBranch.lossRewards &&\n          Object.assign(newBranch.config, {\n            lossRewards:\n              battleBranch.lossRewards.length > 0\n                ? battleBranch.lossRewards.map(\n                    (lossReward: types.RewardConfig) => {\n                      const lossRewardTreasure = {}\n                      const lossRewardMage = {}\n                      const lossRewardSupply = {}\n\n                      const lossRewardTreasureIds =\n                        lossReward?.treasure?.ids ?? []\n\n                      const lossRewardRandomTreasuresTier1 =\n                        lossReward?.treasure?.tier1 &&\n                        lossReward?.treasure?.tier1 !== 0\n                          ? Array(lossReward.treasure.tier1).fill({\n                              random: true,\n                              level: 1,\n                            })\n                          : []\n\n                      const lossRewardRandomTreasuresTier2 =\n                        lossReward?.treasure?.tier2 &&\n                        lossReward?.treasure?.tier2 !== 0\n                          ? Array(lossReward.treasure.tier2).fill({\n                              random: true,\n                              level: 2,\n                            })\n                          : []\n\n                      const lossRewardRandomTreasuresTier3 =\n                        lossReward?.treasure?.tier3 &&\n                        lossReward?.treasure?.tier3 !== 0\n                          ? Array(lossReward.treasure.tier3).fill({\n                              random: true,\n                              level: 3,\n                            })\n                          : []\n\n                      if (\n                        lossRewardTreasureIds.length > 0 ||\n                        lossRewardRandomTreasuresTier1.length > 0 ||\n                        lossRewardRandomTreasuresTier2.length > 0 ||\n                        lossRewardRandomTreasuresTier3.length > 0\n                      ) {\n                        Object.assign(lossRewardTreasure, {\n                          ids: [\n                            ...lossRewardTreasureIds,\n                            ...lossRewardRandomTreasuresTier1,\n                            ...lossRewardRandomTreasuresTier2,\n                            ...lossRewardRandomTreasuresTier3,\n                          ],\n                        })\n                      }\n\n                      const lossRewardMageIds = lossReward?.mage?.ids ?? []\n\n                      const lossRewardRandomMageAmount =\n                        lossReward?.mage?.randomAmount &&\n                        lossReward?.mage?.randomAmount !== 0\n                          ? Array(lossReward.mage.randomAmount).fill({\n                              random: true,\n                            })\n                          : []\n\n                      if (\n                        lossRewardMageIds.length > 0 ||\n                        lossRewardRandomMageAmount.length > 0\n                      ) {\n                        Object.assign(lossRewardMage, {\n                          ids: [\n                            ...lossRewardMageIds,\n                            ...lossRewardRandomMageAmount,\n                          ],\n                        })\n                      }\n\n                      const lossRewardSupplyIds = lossReward?.supply?.ids ?? []\n                      const lossRewardSupplyBlueprints =\n                        lossReward?.supply?.blueprints ?? []\n                      const lossRewardSupplyBigPocket =\n                        lossReward?.supply?.bigPocket ?? false\n\n                      if (\n                        lossRewardSupplyIds.length > 0 ||\n                        lossRewardSupplyBlueprints.length > 0\n                      ) {\n                        const blueprints = lossRewardSupplyBlueprints.map(\n                          (blueprint: types.Blueprint) => {\n                            return {\n                              type: blueprint.type,\n                              operation: blueprint.operation,\n                              threshold: blueprint.threshold,\n                              values: blueprint.values,\n                            }\n                          }\n                        )\n\n                        Object.assign(lossRewardSupply, {\n                          ids: [...lossRewardSupplyIds, ...blueprints],\n                          bigPocket: lossRewardSupplyBigPocket,\n                        })\n                      }\n\n                      return {\n                        type: lossReward.rewardType,\n                        treasure:\n                          Object.keys(lossRewardTreasure).length > 0\n                            ? lossRewardTreasure\n                            : undefined,\n                        mage:\n                          Object.keys(lossRewardMage).length > 0\n                            ? lossRewardMage\n                            : undefined,\n                        supply:\n                          Object.keys(lossRewardSupply).length > 0\n                            ? lossRewardSupply\n                            : undefined,\n                      }\n                    }\n                  )\n                : undefined,\n          })\n\n        if (battleBranch.nextBranchId) {\n          Object.assign(newBranch, {\n            nextBranchId: battleBranch.nextBranchId,\n          })\n        }\n\n        return {\n          ...branches,\n          [branch.id]: newBranch,\n        }\n      }\n\n      default: {\n        return {\n          ...branches,\n          [branch.id]: {\n            type: branch.type,\n          },\n        }\n      }\n    }\n  }, {})\n\n  const dataSupplyTiles = Object.values(settingsSnapshot.supplySetup.tiles).map(\n    (tile: aerTypes.MarketTile) => {\n      const newTile = {\n        type: tile.type,\n        operation: tile.operation,\n      }\n\n      tile.threshold &&\n        Object.assign(newTile, {\n          threshold: tile.threshold,\n        })\n\n      tile.values &&\n        Object.assign(newTile, {\n          values: tile.values,\n        })\n\n      return newTile\n    }\n  )\n\n  const data = {\n    name: name,\n    bigPocketVariantConfig: bigPocketVariantConfig,\n    sequenceConfig: {\n      firstBranchId: firstBranchId ? firstBranchId : '',\n      branches: dataBranches,\n    },\n    settingsSnapshotConfig: {\n      ...settingsSnapshot,\n      supplySetup: {\n        ...settingsSnapshot.supplySetup,\n        tiles: dataSupplyTiles,\n      },\n    },\n  }\n\n  seed !== '' &&\n    Object.assign(data, {\n      seedConfig: seed,\n    })\n\n  firstBranchId &&\n    Object.assign(data.sequenceConfig, {\n      firstBranchId: firstBranchId,\n    })\n\n  if (\n    initialBarracks.mageIds.length ||\n    initialBarracks.supplyIds.length ||\n    initialBarracks.treasureIds.length\n  ) {\n    Object.assign(data, {\n      initialBarracksConfig: {\n        mageIds: initialBarracks.mageIds,\n        supplyIds: initialBarracks.supplyIds,\n        treasureIds: initialBarracks.treasureIds,\n      },\n    })\n  }\n\n  initialUBNCards.length &&\n    Object.assign(data, {\n      initialUBNCardsConfig: initialUBNCards,\n    })\n\n  const handleCopyToClipboard = () => {\n    copyToClipboard(JSON.stringify(data, null, '  '))\n  }\n\n  const handleSave = () => {\n    saveToFile(JSON.stringify(data, null, '  '), fileName)\n  }\n\n  return (\n    <Wrapper>\n      <Button type=\"button\" onClick={handleCopyToClipboard}>\n        Copy to clipboard\n      </Button>\n      <Button type=\"button\" onClick={handleSave}>\n        Save to file\n      </Button>\n\n      <Pre>{JSON.stringify(data, null, '  ')}</Pre>\n\n      <Button type=\"button\" onClick={handleCopyToClipboard}>\n        Copy to clipboard\n      </Button>\n      <Button type=\"button\" onClick={handleSave}>\n        Save to file\n      </Button>\n    </Wrapper>\n  )\n}\n\nexport default connect(mapStateToProps)(React.memo(Preview))\n","import styled from 'styled-components/macro'\n\nconst Wrapper = styled('div')`\n  display: flex;\n\n  @media all and (max-width: 920px) {\n    flex-direction: column;\n  }\n`\n\nexport default Wrapper\n","import styled from 'styled-components/macro'\n\nconst Form = styled('form')`\n  width: 50%;\n\n  @media all and (max-width: 920px) {\n    width: 100%;\n  }\n`\n\nexport default Form\n","import React from 'react'\n\nimport BasicInformation from 'components/templates/BasicInformation'\nimport Branches from 'components/templates/Branches'\nimport ConnectBranches from 'components/templates/ConnectBranches'\nimport InitialBarracks from 'components/templates/InitialBarracks'\nimport InitialUBNCards from 'components/templates/initialUBNCards'\nimport SettingsSnapshot from 'components/templates/SettingsSnapshot'\nimport Preview from 'components/molecules/Preview'\n\nimport Wrapper from './__styled__/Wrapper'\nimport Form from './__styled__/Form'\n\nconst Configurator = () => {\n  return (\n    <Wrapper>\n      <Form>\n        <BasicInformation />\n        <Branches />\n        <ConnectBranches />\n        <InitialBarracks />\n        <InitialUBNCards />\n        <SettingsSnapshot />\n      </Form>\n\n      <Preview />\n    </Wrapper>\n  )\n}\n\nexport default React.memo(Configurator)\n","import styled from 'styled-components/macro'\n\nconst Wrapper = styled('div')`\n  padding: 32px;\n`\n\nexport default Wrapper\n","import React from 'react'\n\nimport H1 from 'components/atoms/H1'\nimport Configurator from 'components/molecules/Configurator'\nimport Wrapper from './__styled__/Wrapper'\n\nconst MainApp = () => {\n  return (\n    <Wrapper>\n      <H1>AER: Custom Expedition Editor</H1>\n      <Configurator />\n      <div id=\"modal-root\" />\n    </Wrapper>\n  )\n}\n\nexport default MainApp\n","import React from 'react'\n\nimport { ThemeProvider } from 'styled-components/macro'\n\nimport GlobalStyle from 'GlobalStyle'\nimport mainTheme from 'themes/main'\n\nimport MainApp from './MainApp'\n\nconst App = () => (\n  <ThemeProvider theme={mainTheme}>\n    <GlobalStyle />\n    <MainApp />\n  </ThemeProvider>\n)\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\n\nimport configureStore from './Redux/configureStore'\nimport { initialState } from './Redux/Store'\n\nimport * as serviceWorker from './serviceWorker'\n\nimport App from './components/App'\n\nconst store = configureStore(initialState)\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport { install, StoreCreator } from 'redux-loop'\n\nimport { RootReducer, RootState } from './Store'\n\nconst configureStore = (initialState: RootState) => {\n  // Add middleware to this array if necessary\n  const middleWares: any[] = []\n\n  const enhancers = [applyMiddleware(...middleWares), install<RootState>()]\n\n  const composeEnhancers =\n    process.env.NODE_ENV !== 'production' &&\n    typeof window === 'object' &&\n    // @ts-ignore\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      // @ts-ignore\n      ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      : compose\n\n  const enhancedCreateStore = createStore as StoreCreator\n  const store = enhancedCreateStore(\n    RootReducer,\n    initialState,\n    composeEnhancers(...enhancers)\n  )\n\n  return store\n}\n\nexport { configureStore as default }\n"],"sourceRoot":""}