(this["webpackJsonpaer-custom-expedition-editor"]=this["webpackJsonpaer-custom-expedition-editor"]||[]).push([[0],{35:function(e,t,a){e.exports=a(53)},53:function(e,t,a){"use strict";a.r(t);var n,r=a(0),i=a.n(r),l=a(7),c=a.n(l),o=a(4),d=a(14),u=a(8),p=a(54);!function(e){e.SET_EXPEDITION_NAME="DraftExpedition/Name/SET_EXPEDITION_NAME"}(n||(n={}));var f,m={noOp:function(){return Object(p.a)("NOOP")},setExpeditionName:function(e){return Object(p.a)(n.SET_EXPEDITION_NAME,e)}},s={getExpeditionName:function(e){return e.DraftExpedition.Name}};!function(e){e.SET_BIG_POCKET_VARIANT_CONFIG="DraftExpedition/BigPocketVariantConfig/SET_BIG_POCKET_VARIANT_CONFIG"}(f||(f={}));var b,g={noOp:function(){return Object(p.a)("NOOP")},setBigPocketVariantConfig:function(e){return Object(p.a)(f.SET_BIG_POCKET_VARIANT_CONFIG,e)}},h={getBigPocketVariantConfig:function(e){return e.DraftExpedition.BigPocketVariantConfig}},E=a(6),C=a(1),v=a(15),O=a(11),D=a.n(O),y={};!function(e){e.DRAFT_ADD_REWARD_SUPPLY_CARD="DraftExpedition/SequenceConfig/DraftRewardSupplyCard/DRAFT_ADD_REWARD_SUPPLY_CARD",e.DRAFT_EDIT_REWARD_SUPPLY_CARD="DraftExpedition/SequenceConfig/DraftRewardSupplyCard/DRAFT_EDIT_REWARD_SUPPLY_CARD",e.DRAFT_DELETE_REWARD_SUPPLY_CARD="DraftExpedition/SequenceConfig/DraftRewardSupplyCard/DRAFT_DELETE_REWARD_SUPPLY_CARD",e.CLEAR_DRAFT_REWARD_SUPPLY_CARD="DraftExpedition/SequenceConfig/DraftRewardSupplyCard/CLEAR_DRAFT_REWARD_SUPPLY_CARD"}(b||(b={}));var j,R={noOp:function(){return Object(p.a)("NOOP")},draftAddRewardSupplyCard:function(){return Object(p.a)(b.DRAFT_ADD_REWARD_SUPPLY_CARD)},draftEditRewardSupplyCard:function(e){return Object(p.a)(b.DRAFT_EDIT_REWARD_SUPPLY_CARD,e)},draftDeleteRewardSupplyCard:function(e){return Object(p.a)(b.DRAFT_DELETE_REWARD_SUPPLY_CARD,e)},clearDraftRewardSupplyCard:function(){return Object(p.a)(b.CLEAR_DRAFT_REWARD_SUPPLY_CARD)}},x=function(e){return e.DraftExpedition.SequenceConfig.DraftRewardSupplyCard},A={getDraftRewardSupplyCardState:x,getDraftRewardSupplyCardIds:Object(v.a)([x],(function(e){return Object.keys(e)})),getDraftRewardSupplyCardArray:Object(v.a)([x],(function(e){return Object.values(e)}))},_={_id:"",id:"",type:"narrative"};!function(e){e.DRAFT_ADD_BRANCH="DraftExpedition/SequenceConfig/DraftBranch/DRAFT_ADD_BRANCH",e.DRAFT_EDIT_BRANCH="DraftExpedition/SequenceConfig/DraftBranch/DRAFT_EDIT_BRANCH",e.CLEAR_DRAFT_BRANCH="DraftExpedition/SequenceConfig/DraftBranch/CLEAR_DRAFT_BRANCH",e.UPDATE_DRAFT_BRANCH="DraftExpedition/SequenceConfig/DraftBranch/UPDATE_DRAFT_BRANCH"}(j||(j={}));var w,B={noOp:function(){return Object(p.a)("NOOP")},draftAddBranch:function(){return Object(p.a)(j.DRAFT_ADD_BRANCH)},draftEditBranch:function(e){return Object(p.a)(j.DRAFT_EDIT_BRANCH,e)},updateDraftBranch:function(e){return Object(p.a)(j.UPDATE_DRAFT_BRANCH,e)},clearDraftBranch:function(){return Object(p.a)(j.CLEAR_DRAFT_BRANCH)}},S={getDraftBranchState:function(e){return e.DraftExpedition.SequenceConfig.DraftBranch}},N=a(3),T={};!function(e){e.ADD_BRANCH="DraftExpedition/SequenceConfig/Branches/ADD_BRANCH"}(w||(w={}));var P={noOp:function(){return Object(p.a)("NOOP")},addBranch:function(e){return Object(p.a)(w.ADD_BRANCH,e)}},k=function(e){return e.DraftExpedition.SequenceConfig.Branches},I={getBranchesState:k,getBranchIds:Object(v.a)([k],(function(e){return Object.keys(e)})),getBranches:Object(v.a)([k],(function(e){return Object.values(e)}))},F={DraftRewardSupplyCard:y,DraftBranch:_,Branches:T},V={DraftRewardSupplyCard:R,DraftBranch:B,Branches:P},q=Object(u.a)({DraftRewardSupplyCard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.DRAFT_ADD_REWARD_SUPPLY_CARD:var a=D.a.generate();return Object(C.a)(Object(E.a)({},a,{_id:a,type:"Gem",operation:"ANY"}),e);case b.DRAFT_EDIT_REWARD_SUPPLY_CARD:var n=t.payload._id;return Object(C.a)(Object(C.a)({},e),{},Object(E.a)({},n,t.payload));case b.DRAFT_DELETE_REWARD_SUPPLY_CARD:var r=t.payload._id,i=Object.values(e),l=i.filter((function(e){return e._id!==r})),c=l.reduce((function(e,t){return Object(C.a)(Object(C.a)({},e),{},Object(E.a)({},t._id,t))}),{});return c;case b.CLEAR_DRAFT_REWARD_SUPPLY_CARD:return y;default:return e}},DraftBranch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.DRAFT_ADD_BRANCH:return Object(C.a)(Object(C.a)({},e),{},{_id:D.a.generate()});case j.DRAFT_EDIT_BRANCH:case j.UPDATE_DRAFT_BRANCH:return t.payload;case j.CLEAR_DRAFT_BRANCH:return _;default:return e}},Branches:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.ADD_BRANCH:var a=t.payload,n=a._id,r=a.id,i=a.type;switch(i){case"narrative":var l=t.payload,c=l.text,o=l.decisions;return Object(C.a)(Object(C.a)({},e),{},Object(E.a)({},n,{_id:n,id:r||n,type:i,text:c||"",decisions:!!o&&Object(N.a)(o)}));case"reward":var d,u,p,f,m,s,b,g=t.payload,h=g.rewardType,v=g.treasure,O=g.mage,D=g.supply;return Object(C.a)(Object(C.a)({},e),{},Object(E.a)({},n,{_id:n,id:r||n,type:i,rewardType:h||"regular",treasure:{ids:null!==(d=null===v||void 0===v?void 0:v.ids)&&void 0!==d?d:[],tier1:null!==(u=null===v||void 0===v?void 0:v.tier1)&&void 0!==u?u:0,tier2:null!==(p=null===v||void 0===v?void 0:v.tier2)&&void 0!==p?p:0,tier3:null!==(f=null===v||void 0===v?void 0:v.tier3)&&void 0!==f?f:0},mage:{ids:null!==(m=null===O||void 0===O?void 0:O.ids)&&void 0!==m?m:[],randomAmount:null!==(s=null===O||void 0===O?void 0:O.randomAmount)&&void 0!==s?s:0},supply:{ids:(null===D||void 0===D?void 0:D.ids)?D.ids:[],blueprints:null!==(b=null===D||void 0===D?void 0:D.blueprints)&&void 0!==b?b:[],bigPocket:null===D||void 0===D?void 0:D.bigPocket}}));default:return Object(C.a)(Object(C.a)({},e),{},Object(E.a)({},n,{_id:n,id:r,type:i}))}default:return e}}}),L={DraftRewardSupplyCard:A,DraftBranch:S,Branches:I},H={Name:"",BigPocketVariantConfig:!1,SequenceConfig:F},W={Name:m,BigPocketVariantConfig:g,SequenceConfig:V},M=Object(u.a)({Name:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SET_EXPEDITION_NAME:return t.payload;default:return e}},BigPocketVariantConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.SET_BIG_POCKET_VARIANT_CONFIG:return t.payload;default:return e}},SequenceConfig:q}),Y={Name:s,BigPocketVariantConfig:h,SequenceConfig:L},U={DraftExpedition:H},G={DraftExpedition:W},z=Object(u.c)(Object(u.a)({DraftExpedition:M})),J={DraftExpedition:Y};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=a(2),X=a(5);function $(){var e=Object(X.a)(["\n  *,\n  ::after, \n  ::before {\n    box-sizing: border-box;\n  }\n\n  body {\n    font-family: 'Roboto', Arial, sans-serif;\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-font-smoothing: antialiased;\n    text-rendering: optimizeLegibility;\n    margin: 0;\n    padding: 0;\n  }\n"]);return $=function(){return e},e}var Q=Object(K.b)($()),Z={colors:{}},ee=Object(K.c)("h1").withConfig({displayName:"H1",componentId:"sc-148yuyg-0"})(["color:#2196f3;margin-top:0;"]),te=a(23),ae=Object(K.c)("div").withConfig({displayName:"Wrapper",componentId:"sc-142z3d0-0"})(["margin-bottom:16px;"]),ne=Object(K.c)("h3").withConfig({displayName:"Header",componentId:"sc-1b7abu3-0"})(["border-bottom:1px solid #dadada;margin:0;"]),re=Object(K.c)("button").withConfig({displayName:"Button",componentId:"lad664-0"})(["height:32px;padding:0 8px;cursor:pointer;font-family:'Roboto';"]),ie=Object(K.c)(re).withConfig({displayName:"Summary",componentId:"sc-909c31-0"})(["height:auto;font-size:1.5rem;font-weight:100;display:flex;align-items:center;width:100%;padding:8px 0;position:relative;outline:0;border:none;background:transparent;"]),le=Object(K.c)("div").withConfig({displayName:"Content",componentId:"y983a6-0"})(["padding-top:16px;"]),ce=Object(K.c)("span").withConfig({displayName:"SummaryIcon",componentId:"sc-14hasm1-0"})(["position:absolute;right:8px;"]),oe=i.a.memo((function(e){var t=e.id,a=e.title,n=e.open,l=e.children,c=Object(r.useState)(n||!1),o=Object(te.a)(c,2),d=o[0],u=o[1];return i.a.createElement(ae,null,i.a.createElement(ne,null,i.a.createElement(ie,{id:"".concat(t,"Summary"),type:"button","aria-expanded":d?"true":"false","aria-controls":"".concat(t,"Content"),onClick:function(){u(!d)}},a,i.a.createElement(ce,{className:"material-icons"},d?"expand_less":"expand_more"))),i.a.createElement(le,{id:"".concat(t,"Content"),role:"region","aria-labelledby":"".concat(t,"Summary"),hidden:!d},l))})),de=Object(K.c)("span").withConfig({displayName:"ScreenReaderOnlyText",componentId:"sc-12brag0-0"})(["position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0;"]),ue=Object(K.c)("fieldset").withConfig({displayName:"Wrapper",componentId:"sc-1su96s3-0"})(["padding:0;border:none;"]),pe=Object(K.c)("legend").withConfig({displayName:"Legend",componentId:"sc-1whu9a5-0"})(["padding:0;"]),fe=i.a.memo((function(e){var t=e.legend,a=e.legendVisible,n=e.children;return i.a.createElement(ue,null,i.a.createElement(pe,null,a?t:i.a.createElement(de,null,t)),n)})),me=Object(K.c)("label").withConfig({displayName:"Label",componentId:"lr457e-0"})(["display:block;font-family:'Roboto';font-size:12px;margin-bottom:4px;"]),se=Object(K.c)("input").withConfig({displayName:"Input",componentId:"il42sz-0"})(["height:32px;width:100%;padding:0 8px;font-family:'Roboto';border:1px solid #dadada;"]),be=Object(K.c)("div").withConfig({displayName:"Wrapper",componentId:"sc-1wpqod6-0"})(["margin-bottom:16px;"]),ge=i.a.memo((function(e){var t=e.id,a=e.label,n=e.labelHidden,r=e.name,l=e.onChange,c=e.defaultValue,o=e.required;return i.a.createElement(be,null,i.a.createElement(me,{htmlFor:t},n?i.a.createElement(de,null,a):a),i.a.createElement(se,{id:t,name:r||t,type:"text",onChange:l,defaultValue:c,required:o}))})),he=Object(K.c)("div").withConfig({displayName:"Wrapper",componentId:"sc-1hfhkru-0"})(["margin-bottom:16px;","{font-size:16px;margin-bottom:0;}input{margin:0 8px 0 0;}"],me),Ee=i.a.memo((function(e){var t=e.id,a=e.label,n=e.labelHidden,r=e.name,l=e.onChange,c=e.defaultChecked;return i.a.createElement(he,null,i.a.createElement(me,{htmlFor:t},i.a.createElement("input",{id:t,type:"checkbox",name:r||t,onChange:l,defaultChecked:c}),n?i.a.createElement(de,null,a):a))})),Ce={setExpeditionName:G.DraftExpedition.Name.setExpeditionName,setBigPocketVariantConfig:G.DraftExpedition.BigPocketVariantConfig.setBigPocketVariantConfig},ve=Object(o.b)((function(e){return{expeditionName:J.DraftExpedition.Name.getExpeditionName(e),bigPocketVariantConfig:J.DraftExpedition.BigPocketVariantConfig.getBigPocketVariantConfig(e)}}),Ce)((function(e){var t=e.expeditionName,a=e.bigPocketVariantConfig,n=e.setExpeditionName,r=e.setBigPocketVariantConfig;return i.a.createElement(oe,{id:"basicInformation",title:"Basic Information",open:!0},i.a.createElement(fe,{legend:"Basic Information"},i.a.createElement(ge,{id:"expeditionName",label:"Expedition Name",onChange:function(e){n(e.target.value)},defaultValue:t}),i.a.createElement(Ee,{id:"bigPocketVariantConfig",label:"Big Pocket Mode",onChange:function(e){r(e.currentTarget.checked)},defaultChecked:a})))}));function Oe(){var e=Object(X.a)(["\n  height: 100%;\n  width: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 10000;\n  padding: 24px;\n"]);return Oe=function(){return e},e}var De=Object(K.c)("div")(Oe());function ye(){var e=Object(X.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  background: rgb(0, 0, 0, 0.3);\n"]);return ye=function(){return e},e}var je=Object(K.c)("div")(ye());function Re(){var e=Object(X.a)(["\n  margin: auto;\n  height: 100%;\n  width: 100%;\n  background: #fff;\n  box-shadow: 0 0 10px 2px rgba(0, 0, 0, 0.2);\n  border-radius: 8px;\n  position: relative;\n"]);return Re=function(){return e},e}var xe=Object(K.c)("div")(Re());function Ae(){var e=Object(X.a)(["\n  margin: auto;\n  height: 64px;\n  width: 100%;\n  padding: 0 24px;\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n"]);return Ae=function(){return e},e}var _e=Object(K.c)("div")(Ae());function we(){var e=Object(X.a)(["\n  height: ",";\n"]);return we=function(){return e},e}var Be=Object(K.c)("div")(we(),(function(e){return e.hasFooter?"calc(100% - (64px * 2))":"calc(100% - 64px)"})),Se=a(34),Ne=Object(K.c)("h2").withConfig({displayName:"H2",componentId:"sc-1jeqk1f-0"})(["color:#2196f3;"]);function Te(){var e=Object(X.a)(["\n  color: ",";\n  margin: 0;\n"]);return Te=function(){return e},e}var Pe=Object(K.c)((function(e){e.themeColor;var t=Object(Se.a)(e,["themeColor"]);return i.a.createElement(Ne,t)}))(Te(),(function(e){return e.themeColor}));function ke(){var e=Object(X.a)(["\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  width: 48px;\n  height: 48px;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  transition: color .2s ease;\n\n  &:hover {\n    color: #2196f3;\n  }\n"]);return ke=function(){return e},e}var Ie=Object(K.c)("button")(ke());function Fe(){var e=Object(X.a)(["\n  margin: auto;\n  height: 64px;\n  width: 100%;\n  padding: 0 24px;\n  position: relative;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  margin-top: -1px;\n"]);return Fe=function(){return e},e}var Ve=Object(K.c)("div")(Fe()),qe=i.a.memo((function(e){var t=e.titleColor,a=e.titleLabel,n=e.children,r=e.closeModal,l=e.footer,o=document.getElementById("modal-root");return o?c.a.createPortal(i.a.createElement(i.a.Fragment,null,i.a.createElement(De,null,i.a.createElement(je,{onClick:r}),i.a.createElement(xe,null,i.a.createElement(_e,null,i.a.createElement(Pe,{variant:"h2",themeColor:t},a),i.a.createElement(Ie,{onClick:r},i.a.createElement("span",{className:"material-icons"},"close"))),i.a.createElement(Be,{hasFooter:!!l},n),l&&i.a.createElement(Ve,null,l)))),o):null})),Le=Object(K.c)("div").withConfig({displayName:"ModalBodyWrapper",componentId:"sc-1y2cm9e-0"})(["margin:auto;height:",";width:100%;padding:24px;position:relative;overflow-y:auto;> *:first-child{margin-top:0;}"],(function(e){return e.hasFooter?"calc(100% - 64px)":"100%"})),He=Object(K.c)("div").withConfig({displayName:"ModalFooterWrapper",componentId:"sc-6wltjc-0"})(["margin:auto;height:64px;width:100%;padding:0 24px;position:relative;display:flex;justify-content:flex-end;align-items:center;border-top:1px solid rgba(0,0,0,0.1);margin-top:-1px;button{width:100%;}button + button{margin-left:16px;}"]),We=(i.a.memo((function(e){var t=e.yesHandler,a=e.noHandler,n=e.children;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Le,{hasFooter:!0},n),i.a.createElement(He,null,i.a.createElement(re,{onClick:a},"No"),i.a.createElement(re,{onClick:t},"Yes")))})),function(){var e=Object(r.useState)(!1),t=Object(te.a)(e,2),a=t[0],n=t[1],l=function(){return n(!1)};return{show:function(){return n(!0)},hide:l,RenderModal:function(e){var t=e.titleColor,n=e.titleLabel,r=e.children,c=e.closeCallback,o=e.footer;return i.a.createElement(i.a.Fragment,null,a&&i.a.createElement(qe,{titleColor:t,titleLabel:n,closeModal:function(){l(),c&&c()},footer:o},r))}}}),Me=a(33),Ye=Object(K.c)(Me.a).withConfig({displayName:"Select",componentId:"sc-1eauafc-0"})([""]),Ue=Object(K.c)("div").withConfig({displayName:"Wrapper",componentId:"sc-19yqmtd-0"})(["margin-bottom:16px;"]),Ge=i.a.memo((function(e){var t=e.id,a=e.options,n=e.label,r=e.labelHidden,l=e.name,c=e.onChange,o=e.defaultValue,d=e.required,u=e.isMulti;return i.a.createElement(Ue,null,i.a.createElement(me,{htmlFor:t},r?i.a.createElement(de,null,n):n),i.a.createElement(Ye,{options:a,classNamePrefix:"ReactSelect",id:t,name:l||t,onChange:c,defaultValue:o,required:d,isMulti:u}))})),ze={updateDraftBranch:G.DraftExpedition.SequenceConfig.DraftBranch.updateDraftBranch},Je=Object(o.b)(null,ze)(i.a.memo((function(e){var t=e.draftBranch,a=e.updateDraftBranch,n=[{value:"narrative",label:"narrative"},{value:"battle",label:"battle"},{value:"reward",label:"reward"}],r=n.find((function(e){return e.value===t.type}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(ge,{id:"branchId",label:"Branch id",onChange:function(e){a(Object(C.a)(Object(C.a)({},t),{},{id:e.target.value}))},defaultValue:t.id,required:!0}),i.a.createElement(Ge,{options:n,id:"branchType",label:"Branch type",onChange:function(e){var n=t._id,r=t.id;a(Object(C.a)(Object(C.a)({},_),{},{_id:n,id:r,type:e.value}))},defaultValue:r}))}))),Ke=Object(K.c)("textarea").withConfig({displayName:"Textarea",componentId:"mrfsw-0"})(["min-height:64px;width:100%;padding:8px;font-family:'Roboto';border:1px solid #dadada;resize:vertical;"]),Xe=Object(K.c)("div").withConfig({displayName:"Wrapper",componentId:"sc-1xalbh8-0"})(["margin-bottom:16px;"]),$e=i.a.memo((function(e){var t=e.id,a=e.label,n=e.labelHidden,r=e.name,l=e.onChange,c=e.defaultValue,o=e.required;return i.a.createElement(Xe,null,i.a.createElement(me,{htmlFor:t},n?i.a.createElement(de,null,a):a),i.a.createElement(Ke,{id:t,name:r||t,onChange:l,defaultValue:c,required:o}))})),Qe={updateDraftBranch:G.DraftExpedition.SequenceConfig.DraftBranch.updateDraftBranch},Ze=Object(o.b)(null,Qe)(i.a.memo((function(e){var t=e.draftBranch,a=e.updateDraftBranch;return i.a.createElement(i.a.Fragment,null,i.a.createElement($e,{id:"description",label:"Text",onChange:function(e){a(Object(C.a)(Object(C.a)({},t),{},{text:e.target.value}))},defaultValue:t.text}),i.a.createElement("p",null,"Add multiple decisions by separating them with ';' followed by a SPACE"),i.a.createElement(ge,{id:"decisions",label:"Decisions",onChange:function(e){var n,r=null!==(n=e.target.value&&e.target.value.split("; "))&&void 0!==n?n:[];a(Object(C.a)(Object(C.a)({},t),{},{decisions:r.map((function(e){return{_id:D.a.generate(),text:e}}))}))},defaultValue:t.decisions?t.decisions.map((function(e){return e.text})):""}))}))),et=a(12),tt=i.a.memo((function(e){var t=e.draftBranch,a=e.updateDraftBranch,n=Object.values(et.a.normalizedData.ENG.treasures).map((function(e){return{value:e.id,label:"".concat(e.name," (Level: ").concat(e.level,")")}}));return i.a.createElement(oe,{id:"treasures",title:"Treasures",open:!0},i.a.createElement(Ge,{options:n,id:"selectTreasures",label:"Select Treasures",onChange:function(e){var n=e.map((function(e){return e.value}));a(Object(C.a)(Object(C.a)({},t),{},{treasure:Object(C.a)(Object(C.a)({},t.treasure),{},{ids:Object(N.a)(n)})}))},isMulti:!0}),i.a.createElement("h3",null,"Random Treasures"),i.a.createElement("p",null,"Enter the amount of random treasures per tier."),i.a.createElement(ge,{id:"treasuresTier1",label:"Tier 1",onChange:function(e){a(Object(C.a)(Object(C.a)({},t),{},{treasure:Object(C.a)(Object(C.a)({},t.treasure),{},{tier1:parseInt(e.target.value)})}))},defaultValue:0}),i.a.createElement(ge,{id:"treasuresTier2",label:"Tier 2",onChange:function(e){a(Object(C.a)(Object(C.a)({},t),{},{treasure:Object(C.a)(Object(C.a)({},t.treasure),{},{tier2:parseInt(e.target.value)})}))},defaultValue:0}),i.a.createElement(ge,{id:"treasuresTier3",label:"Tier 3",onChange:function(e){a(Object(C.a)(Object(C.a)({},t),{},{treasure:Object(C.a)(Object(C.a)({},t.treasure),{},{tier3:parseInt(e.target.value)})}))},defaultValue:0}))})),at=i.a.memo((function(e){var t=e.draftBranch,a=e.updateDraftBranch,n=Object.values(et.a.normalizedData.ENG.mages).map((function(e){return{value:e.id,label:e.name}}));return i.a.createElement(oe,{id:"mages",title:"Mages",open:!0},i.a.createElement(Ge,{options:n,id:"selectMages",label:"Select Mages",onChange:function(e){var n=e.map((function(e){return e.value}));a(Object(C.a)(Object(C.a)({},t),{},{mage:Object(C.a)(Object(C.a)({},t.mage),{},{ids:Object(N.a)(n)})}))},isMulti:!0}),i.a.createElement("h3",null,"Random Mages"),i.a.createElement("p",null,"Enter the amount of random mages."),i.a.createElement(ge,{id:"randomMagesAmount",label:"Amount of random mages",onChange:function(e){a(Object(C.a)(Object(C.a)({},t),{},{mage:Object(C.a)(Object(C.a)({},t.mage),{},{randomAmount:parseInt(e.target.value)})}))},defaultValue:0}))})),nt=Object(K.c)("div").withConfig({displayName:"Wrapper",componentId:"sc-17oegh1-0"})(["margin-bottom:16px;"]),rt=i.a.memo((function(e){var t=e.id,a=e.label,n=e.labelHidden,r=e.name,l=e.onChange,c=e.defaultValue,o=e.required;return i.a.createElement(nt,null,i.a.createElement(me,{htmlFor:t},n?i.a.createElement(de,null,a):a),i.a.createElement(se,{id:t,name:r||t,type:"number",onChange:l,defaultValue:c,required:o}))})),it=function(e){var t=e.blueprint,a=e.handleChange,n=e.handleDelete,r=[{value:"Gem",label:"Gem"},{value:"Relic",label:"Relic"},{value:"Spell",label:"Spell"}],l=r.find((function(e){return e.value===t.type})),c=[{value:"<",label:">"},{value:">",label:"<"},{value:"=",label:"="},{value:"<=",label:"<="},{value:">=",label:">="},{value:"ANY",label:"ANY"},{value:"OR",label:"OR"}],o=c.find((function(e){return e.value===t.operation}));return i.a.createElement("div",null,i.a.createElement(Ge,{options:r,id:"selectCardType".concat(t._id),label:"Type",onChange:function(e){a(Object(C.a)(Object(C.a)({},t),{},{type:e.value}))},defaultValue:l}),i.a.createElement(Ge,{options:c,id:"selectCardOperation".concat(t._id),label:"Operation",onChange:function(e){a(Object(C.a)(Object(C.a)({},t),{},{operation:e.value}))},defaultValue:o}),"OR"!==t.operation&&"ANY"!==t.operation&&i.a.createElement(rt,{id:"threshold".concat(t._id),label:"Threshold",onChange:function(e){a(Object(C.a)(Object(C.a)({},t),{},{threshold:parseInt(e.target.value)}))}}),"OR"===t.operation&&i.a.createElement(Ge,{options:[{value:"0",label:"Cost: 0"},{value:"1",label:"Cost: 1"},{value:"2",label:"Cost: 2"},{value:"3",label:"Cost: 3"},{value:"4",label:"Cost: 4"},{value:"5",label:"Cost: 5"},{value:"6",label:"Cost: 6"},{value:"7",label:"Cost: 7"},{value:"8",label:"Cost: 8"},{value:"9",label:"Cost: 9"}],id:"selectCosts".concat(t._id),label:"Card costs (values)",onChange:function(e){var n=e.map((function(e){return parseInt(e.value)}));a(Object(C.a)(Object(C.a)({},t),{},{values:Object(N.a)(n)}))},isMulti:!0}),i.a.createElement(re,{onClick:function(){n(t)}},"Delete"))},lt={addSupplyCard:G.DraftExpedition.SequenceConfig.DraftRewardSupplyCard.draftAddRewardSupplyCard,editSupplyCard:G.DraftExpedition.SequenceConfig.DraftRewardSupplyCard.draftEditRewardSupplyCard,deleteSupplyCard:G.DraftExpedition.SequenceConfig.DraftRewardSupplyCard.draftDeleteRewardSupplyCard},ct=Object(o.b)((function(e){return{blueprints:J.DraftExpedition.SequenceConfig.DraftRewardSupplyCard.getDraftRewardSupplyCardArray(e)}}),lt)(i.a.memo((function(e){var t,a,n=e.draftBranch,r=e.updateDraftBranch,l=e.blueprints,c=e.addSupplyCard,o=e.editSupplyCard,d=e.deleteSupplyCard,u=Object.values(et.a.normalizedData.ENG.cards).map((function(e){return{value:e.id,label:"".concat(e.name," (").concat(e.type,")")}})),p=function(e){o(e)},f=function(e){d(e)};return i.a.createElement(oe,{id:"supply",title:"Supply",open:!0},i.a.createElement(Ee,{id:"rewardSupplyBigPocket",label:"Big Pocket Mode",onChange:function(e){r(Object(C.a)(Object(C.a)({},n),{},{supply:Object(C.a)(Object(C.a)({},n.supply),{},{bigPocket:e.currentTarget.checked})}))},defaultChecked:null!==(t=null===n||void 0===n||null===(a=n.supply)||void 0===a?void 0:a.bigPocket)&&void 0!==t&&t}),i.a.createElement(Ge,{options:u,id:"selectSupplyCards",label:"Select Supply Cards",onChange:function(e){var t=e.map((function(e){return e.value}));r(Object(C.a)(Object(C.a)({},n),{},{supply:Object(C.a)(Object(C.a)({},n.supply),{},{ids:Object(N.a)(t)})}))},isMulti:!0}),i.a.createElement("h3",null,"Random supply cards"),i.a.createElement(re,{onClick:function(){c()}},"Add random supply card"),l?function(e){return console.log(e),e.map((function(e){return i.a.createElement(it,{key:e._id,blueprint:e,handleChange:p,handleDelete:f})}))}(l):i.a.createElement("p",null,"No supply cards added"))}))),ot={updateDraftBranch:G.DraftExpedition.SequenceConfig.DraftBranch.updateDraftBranch},dt=Object(o.b)(null,ot)(i.a.memo((function(e){var t=e.draftBranch,a=e.updateDraftBranch,n=function(e){a(Object(C.a)(Object(C.a)({},t),{},{rewardType:e.target.value}))};return i.a.createElement(i.a.Fragment,null,i.a.createElement(fe,{legend:"Reward type",legendVisible:!0},i.a.createElement("div",{className:"radio-wrapper"},i.a.createElement("input",{type:"radio",name:"rewardType",id:"regular",defaultChecked:!0,value:"regular",onChange:n}),i.a.createElement("label",{htmlFor:"regular"},"regular")),i.a.createElement("div",{className:"radio-wrapper"},i.a.createElement("input",{type:"radio",name:"rewardType",id:"custom",value:"custom",onChange:n}),i.a.createElement("label",{htmlFor:"custom"},"custom"))),"custom"===t.rewardType&&i.a.createElement(i.a.Fragment,null,i.a.createElement(tt,{draftBranch:t,updateDraftBranch:a}),i.a.createElement(at,{draftBranch:t,updateDraftBranch:a}),i.a.createElement(ct,{draftBranch:t,updateDraftBranch:a})))}))),ut=Object(o.b)((function(e){return{draftBranch:J.DraftExpedition.SequenceConfig.DraftBranch.getDraftBranchState(e)}}))(i.a.memo((function(e){var t=e.draftBranch;return i.a.createElement(Le,null,i.a.createElement(fe,{legend:"Branches"},i.a.createElement(Je,{draftBranch:t}),function(e){switch(e.type){case"narrative":return i.a.createElement(Ze,{draftBranch:t});case"reward":return i.a.createElement(dt,{draftBranch:t});default:return i.a.createElement(i.a.Fragment,null)}}(t)))}))),pt={addBranch:G.DraftExpedition.SequenceConfig.Branches.addBranch,clearDraftBranch:G.DraftExpedition.SequenceConfig.DraftBranch.clearDraftBranch,clearDraftRewardSupplyCards:G.DraftExpedition.SequenceConfig.DraftRewardSupplyCard.clearDraftRewardSupplyCard},ft=Object(o.b)((function(e){return{draftBranch:J.DraftExpedition.SequenceConfig.DraftBranch.getDraftBranchState(e),draftRewardSupplyCards:J.DraftExpedition.SequenceConfig.DraftRewardSupplyCard.getDraftRewardSupplyCardArray(e)}}),pt)(i.a.memo((function(e){var t=e.modal,a=e.draftBranch,n=e.draftRewardSupplyCards,r=e.addBranch,l=e.clearDraftBranch,c=e.clearDraftRewardSupplyCards;return i.a.createElement(i.a.Fragment,null,i.a.createElement(re,{onClick:function(){l(),t.hide()}},"Cancel"),i.a.createElement(re,{onClick:function(){var e=Object(C.a)(Object(C.a)({},a),{},{supply:Object(C.a)(Object(C.a)({},a.supply),{},{blueprints:Object(N.a)(n)})});console.log(e),r(Object(C.a)({},e)),l(),c(),t.hide()}},"Add branch"))}))),mt=i.a.memo((function(e){var t=e.modal;return i.a.createElement(t.RenderModal,{titleLabel:"Add branch",footer:i.a.createElement(ft,{modal:t})},i.a.createElement(ut,null))})),st={draftAddBranch:G.DraftExpedition.SequenceConfig.DraftBranch.draftAddBranch},bt=Object(o.b)((function(e){return{branches:J.DraftExpedition.SequenceConfig.Branches.getBranches(e)}}),st)(i.a.memo((function(e){var t=e.branches,a=e.draftAddBranch,n=We();return i.a.createElement(oe,{id:"branches",title:"Branches",open:!0},i.a.createElement(re,{type:"button",style:{display:"block"},onClick:function(){n.show(),a()}},"Add branch"),i.a.createElement(mt,{modal:n}),t.length>0?i.a.createElement("ul",null,t.map((function(e){switch(e.type){case"narrative":var t=e;return i.a.createElement("li",{key:e.id},i.a.createElement("p",null,"Id: ",e.id),i.a.createElement("p",null,"Type: ",e.type),t.text&&i.a.createElement("p",null,"Text: ",t.text),t.decisions?i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"Desicions:"),i.a.createElement("ul",null,t.decisions.map((function(e){return i.a.createElement("li",{key:e._id},e.text)})))):i.a.createElement("p",null,"No Desicions"));case"reward":var a=e;return i.a.createElement("li",{key:e.id},i.a.createElement("p",null,"Id: ",e.id),i.a.createElement("p",null,"Type: ",e.type),a.rewardType&&i.a.createElement("p",null,"Reward type: ",a.rewardType));default:return i.a.createElement("li",{key:e.id},i.a.createElement("p",null,"Id: ",e.id),i.a.createElement("p",null,"Type: ",e.type))}}))):i.a.createElement("p",null,"No branches added"))}))),gt=function(e){window.navigator.clipboard.writeText(e)},ht=a(32),Et=function(e,t){var a=new Blob([e],{type:"text/json;charset=utf-8"});return Object(ht.saveAs)(a,"".concat(t,".json"))},Ct=Object(K.c)("div").withConfig({displayName:"Wrapper",componentId:"qg3r9u-0"})(["width:50%;padding:0 0 0 32px;@media all and (max-width:920px){width:100%;padding:32px 0 0 0;}"]),vt=Object(K.c)("pre").withConfig({displayName:"Pre",componentId:"sc-6jfuxg-0"})(["padding:24px;border:1px solid #dadada;background:#fafafa;"]),Ot=Object(o.b)((function(e){return{name:J.DraftExpedition.Name.getExpeditionName(e),bigPocketVariantConfig:J.DraftExpedition.BigPocketVariantConfig.getBigPocketVariantConfig(e),branches:J.DraftExpedition.SequenceConfig.Branches.getBranches(e)}}))(i.a.memo((function(e){var t=e.fileName,a=void 0===t?"expedition":t,n={name:e.name,bigPocketVariantConfig:e.bigPocketVariantConfig,sequenceConfig:{branches:e.branches.reduce((function(e,t){switch(t.type){case"narrative":var a=t,n={type:t.type,config:{text:a.text,decisions:!!a.decisions&&a.decisions.map((function(e){return e.text}))}};return Object(C.a)(Object(C.a)({},e),{},Object(E.a)({},t.id,n));case"reward":var r=t,i={type:t.type,config:{type:r.rewardType}},l=0!==r.treasure.tier1?Array(r.treasure.tier1).fill({random:!0,level:1}):[],c=0!==r.treasure.tier2?Array(r.treasure.tier2).fill({random:!0,level:2}):[],o=0!==r.treasure.tier3?Array(r.treasure.tier3).fill({random:!0,level:3}):[];(r.treasure.ids.length>0||l.length>0||c.length>0||o.length>0)&&Object.assign(i.config,{treasure:{ids:[].concat(Object(N.a)(r.treasure.ids),Object(N.a)(l),Object(N.a)(c),Object(N.a)(o))}});var d=0!==r.mage.randomAmount?Array(r.mage.randomAmount).fill({random:!0}):[];if((r.mage.ids.length>0||d.length>0)&&Object.assign(i.config,{mage:{ids:[].concat(Object(N.a)(r.mage.ids),Object(N.a)(d))}}),r.supply.ids.length>0||r.supply.blueprints.length>0){var u=r.supply.blueprints.map((function(e){return{type:e.type,operation:e.operation,threshold:e.threshold,values:e.values}}));Object.assign(i.config,{supply:{ids:[].concat(Object(N.a)(r.supply.ids),Object(N.a)(u)),bigPocket:r.supply.bigPocket}})}return Object(C.a)(Object(C.a)({},e),{},Object(E.a)({},t.id,i));default:return Object(C.a)(Object(C.a)({},e),{},Object(E.a)({},t.id,{type:t.type}))}}),{})}};return i.a.createElement(Ct,null,i.a.createElement(vt,null,JSON.stringify(n,null,"  ")),i.a.createElement(re,{type:"button",onClick:function(){gt(JSON.stringify(n,null,"  "))}},"Copy to clipboard"),i.a.createElement(re,{type:"button",onClick:function(){Et(JSON.stringify(n,null,"  "),a)}},"Save to file"))}))),Dt=Object(K.c)("div").withConfig({displayName:"Wrapper",componentId:"sc-1ki6vgc-0"})(["display:flex;@media all and (max-width:920px){flex-direction:column;}"]),yt=Object(K.c)("form").withConfig({displayName:"Form",componentId:"mhfhih-0"})(["width:50%;@media all and (max-width:920px){width:100%;}"]),jt=i.a.memo((function(){return i.a.createElement(Dt,null,i.a.createElement(yt,null,i.a.createElement(ve,null),i.a.createElement(bt,null)),i.a.createElement(Ot,null))})),Rt=Object(K.c)("div").withConfig({displayName:"Wrapper",componentId:"jwci9w-0"})(["padding:32px;"]),xt=function(){return i.a.createElement(Rt,null,i.a.createElement(ee,null,"AER: Custom Expedition Editor"),i.a.createElement(jt,null),i.a.createElement("div",{id:"modal-root"}))},At=function(){return i.a.createElement(K.a,{theme:Z},i.a.createElement(Q,null),i.a.createElement(xt,null))},_t=function(e){var t=[d.a.apply(void 0,[]),Object(u.b)()],a=d.c;return(0,d.d)(z,e,a.apply(void 0,t))}(U);c.a.render(i.a.createElement(o.a,{store:_t},i.a.createElement(At,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.85898f29.chunk.js.map