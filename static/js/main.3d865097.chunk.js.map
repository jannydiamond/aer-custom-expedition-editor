{"version":3,"sources":["Redux/Store/DraftExpedition/Name/index.ts","Redux/Store/DraftExpedition/BigPocketVariantConfig/index.ts","Redux/Store/DraftExpedition/SequenceConfig/Branches/index.ts","Redux/Store/DraftExpedition/SequenceConfig/index.ts","Redux/Store/DraftExpedition/index.ts","Redux/Store/index.ts","serviceWorker.ts","themes/main/index.ts","helpers/copyToClipboard.ts","helpers/saveToFile.ts","components/molecules/Preview/__styled__/Wrapper.tsx","components/molecules/Preview/index.tsx","components/atoms/Label.tsx","components/molecules/Configurator/__styled__/Wrapper.tsx","components/molecules/Configurator/__styled__/Form.tsx","components/molecules/Configurator/index.tsx","components/App/MainApp.tsx","components/App/index.tsx","index.tsx","Redux/configureStore.ts"],"names":["ActionTypes","actions","noOp","createAction","setExpeditionName","name","SET_EXPEDITION_NAME","selectors","getExpeditionName","state","DraftExpedition","Name","setBigPocketVariantConfig","value","SET_BIG_POCKET_VARIANT_CONFIG","getBigPocketVariantConfig","BigPocketVariantConfig","initialState","addBranch","branch","ADD_BRANCH","getBranchesState","SequenceConfig","Branches","getBranchIds","createSelector","branches","Object","keys","getBranches","values","Reducer","combineReducers","action","type","payload","id","nextBranchId","undefined","RootReducer","reduceReducers","Boolean","window","location","hostname","match","mainTheme","colors","copyToClipboard","json","navigator","clipboard","writeText","saveToFile","blob","Blob","saveAs","Wrapper","styled","connect","bigPocketVariantConfig","React","memo","fileName","data","sequenceConfig","reduce","JSON","stringify","onClick","Label","Form","mapDispatchToProps","identifier","branchIds","useState","setBranch","setNextBranchId","handleBranchNextBranchIdChange","event","target","htmlFor","onChange","defaultValue","currentTarget","checked","defaultChecked","style","display","margin","length","map","key","filter","branchId","console","log","MainApp","App","theme","store","enhancers","applyMiddleware","install","composeEnhancers","compose","enhancedCreateStore","createStore","configureStore","ReactDOM","render","document","getElementById","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.3d865097.chunk.js","sourcesContent":["import { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { LoopReducer } from 'redux-loop'\n\n///////////\n// STATE //\n///////////\n\nexport type State = string | undefined\nexport const initialState: State = undefined\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  SET_EXPEDITION_NAME = 'DraftExpedition/Name/SET_EXPEDITION_NAME',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  setExpeditionName: (name: string) =>\n    createAction(ActionTypes.SET_EXPEDITION_NAME, name),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.SET_EXPEDITION_NAME: {\n      return action.payload\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport type NameStateSlice = {\n  DraftExpedition: {\n    Name: State\n  }\n}\n\nconst getExpeditionName = (state: NameStateSlice) => state.DraftExpedition.Name\n\nexport const selectors = {\n  getExpeditionName,\n}\n","import { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { LoopReducer } from 'redux-loop'\n\n///////////\n// STATE //\n///////////\n\nexport type State = boolean\nexport const initialState: State = false\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  SET_BIG_POCKET_VARIANT_CONFIG = 'DraftExpedition/BigPocketVariantConfig/SET_BIG_POCKET_VARIANT_CONFIG',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  setBigPocketVariantConfig: (value: boolean) =>\n    createAction(ActionTypes.SET_BIG_POCKET_VARIANT_CONFIG, value),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.SET_BIG_POCKET_VARIANT_CONFIG: {\n      return action.payload\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport type BigPocketVariantConfigStateSlice = {\n  DraftExpedition: {\n    BigPocketVariantConfig: State\n  }\n}\n\nconst getBigPocketVariantConfig = (state: BigPocketVariantConfigStateSlice) => state.DraftExpedition.BigPocketVariantConfig\n\nexport const selectors = {\n  getBigPocketVariantConfig,\n}\n","import { createSelector } from 'reselect'\n\nimport { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { LoopReducer } from 'redux-loop'\n\n///////////\n// STATE //\n///////////\n\ntype Branch = {\n  id: string,\n  type: 'narrative' | 'battle' | 'reward',\n  nextBranchId?: string[]\n}\n\ntype Branches = {\n  [id: string]: Branch\n}\n\n\nexport type State = Branches\nexport const initialState: State = {}\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  ADD_BRANCH = 'DraftExpedition/SequenceConfig/Branches/ADD_BRANCH',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  addBranch: (branch: Branch) =>\n    createAction(ActionTypes.ADD_BRANCH, branch),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.ADD_BRANCH: {\n      const { id, type, nextBranchId } = action.payload\n\n      return {\n        ...state,\n        [id]: {\n          id,\n          type,\n          nextBranchId\n        }\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport type BranchesStateSlice = {\n  DraftExpedition: {\n    SequenceConfig: {\n      Branches: State\n    }\n  }\n}\n\nconst getBranchesState = (state: BranchesStateSlice) => state.DraftExpedition.SequenceConfig.Branches\n\nconst getBranchIds = createSelector([getBranchesState], (branches) =>\n  Object.keys(branches)\n)\n\nconst getBranches = createSelector(\n  [getBranchesState], (\n  branches\n) =>\n  Object.values(branches)\n)\n\nexport const selectors = {\n  getBranchesState,\n  getBranchIds,\n  getBranches,\n}\n","import { combineReducers } from 'redux-loop'\n\nimport * as Branches from './Branches'\n\n///////////\n// STATE //\n///////////\n\nexport type State = {\n  Branches: Branches.State\n}\n\nexport const initialState = {\n  Branches: Branches.initialState,\n}\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport const actions = {\n  Branches: Branches.actions,\n}\n\nexport type Action = Branches.Action\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer = combineReducers({\n  Branches: Branches.Reducer,\n})\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport const selectors = {\n  Branches: Branches.selectors,\n}\n","import { combineReducers } from 'redux-loop'\n\nimport * as Name from './Name'\nimport * as BigPocketVariantConfig from './BigPocketVariantConfig'\nimport * as SequenceConfig from './SequenceConfig'\n\n///////////\n// STATE //\n///////////\n\nexport type State = {\n  Name: Name.State\n  BigPocketVariantConfig: BigPocketVariantConfig.State\n  SequenceConfig: SequenceConfig.State\n}\n\nexport const initialState = {\n  Name: Name.initialState,\n  BigPocketVariantConfig: BigPocketVariantConfig.initialState,\n  SequenceConfig: SequenceConfig.initialState,\n}\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport const actions = {\n  Name: Name.actions,\n  BigPocketVariantConfig: BigPocketVariantConfig.actions,\n  SequenceConfig: SequenceConfig.actions,\n}\n\nexport type Action =\n  | Name.Action\n  | BigPocketVariantConfig.Action\n  | SequenceConfig.Action\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer = combineReducers({\n  Name: Name.Reducer,\n  BigPocketVariantConfig: BigPocketVariantConfig.Reducer,\n  SequenceConfig: SequenceConfig.Reducer,\n})\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport const selectors = {\n  Name: Name.selectors,\n  BigPocketVariantConfig: BigPocketVariantConfig.selectors,\n  SequenceConfig: SequenceConfig.selectors,\n}\n","import { combineReducers, reduceReducers } from 'redux-loop'\n\nimport * as DraftExpedition from 'Redux/Store/DraftExpedition'\n\nexport type RootState = {\n  DraftExpedition: DraftExpedition.State\n}\n\nexport const initialState = {\n  DraftExpedition: DraftExpedition.initialState\n}\n\nexport const actions = {\n  DraftExpedition: DraftExpedition.actions,\n}\n\nexport type RootAction =\n  | DraftExpedition.Action\n\nexport const RootReducer = reduceReducers(\n  combineReducers<RootState>({\n    DraftExpedition: DraftExpedition.Reducer,\n  })\n)\n\nexport const selectors = {\n  DraftExpedition: DraftExpedition.selectors\n}\n\n\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const mainTheme = {\n  colors: {}\n}\n\nexport default mainTheme\n","const copyToClipboard = (json: string) => {\n  window.navigator.clipboard.writeText(json)\n}\n\nexport default copyToClipboard\n","import { saveAs } from 'file-saver'\n\nconst saveToFile = (json: string, name: string) => {\n  const blob = new Blob([json], { type: 'text/json;charset=utf-8' })\n\n  return saveAs(blob, `${name}.json`)\n}\n\nexport default saveToFile\n","import styled from 'styled-components/macro'\n\nconst Wrapper = styled('div')`\n  width: 50%;\n  padding: 0 24px;\n`\n\nexport default Wrapper\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport { RootState, selectors } from 'Redux/Store'\n\nimport { saveToFile, copyToClipboard } from 'helpers'\n\nimport Wrapper from './__styled__/Wrapper'\n\nconst mapStateToProps = (state: RootState) => ({\n  name: selectors.DraftExpedition.Name.getExpeditionName(state),\n  bigPocketVariantConfig: selectors.DraftExpedition.BigPocketVariantConfig.getBigPocketVariantConfig(\n    state\n  ),\n  branches: selectors.DraftExpedition.SequenceConfig.Branches.getBranches(\n    state\n  ),\n})\n\ntype Props = ReturnType<typeof mapStateToProps> & {\n  fileName?: string,\n}\n\nconst Preview = ({\n  fileName = 'expedition',\n  name,\n  bigPocketVariantConfig,\n  branches,\n}: Props) => {\n\n  const dataBranches = branches.reduce((branches, branch) => {\n    return {\n      ...branches,\n      [branch.id]: {\n        type: branch.type,\n        nextBranchId: branch.nextBranchId\n      }\n    }\n  }, {})\n\n  const data = {\n    name: name,\n    bigPocketVariantConfig: bigPocketVariantConfig,\n    sequenceConfig: {\n      branches: dataBranches\n    }\n  }\n\n  const handleCopyToClipboard = () => {\n    copyToClipboard(JSON.stringify(data, null, '  '))\n  }\n\n  const handleSave = () => {\n    saveToFile(JSON.stringify(data, null, '  '), fileName)\n  }\n\n  return (\n    <Wrapper>\n      <code>\n        <pre>{JSON.stringify(data, null, '  ')}</pre>\n      </code>\n\n      <button type=\"button\" onClick={handleCopyToClipboard}>\n        Copy to clipboard\n      </button>\n      <button type=\"button\" onClick={handleSave}>\n        Save to file\n      </button>\n    </Wrapper>\n  )\n}\n\nexport default connect(\n  mapStateToProps\n)(React.memo(Preview))\n","import styled from 'styled-components/macro'\n\nconst Label = styled('label')`\n  display: block;\n`\n\nexport default Label\n","import styled from 'styled-components/macro'\n\nconst Wrapper = styled('div')`\n  display: flex;\n`\n\nexport default Wrapper\n","import styled from 'styled-components/macro'\n\nconst Form = styled('form')`\n  width: 50%;\n`\n\nexport default Form\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\n\nimport { RootState, selectors, actions } from 'Redux/Store'\n\nimport Preview from 'components/molecules/Preview'\nimport Label from 'components/atoms/Label'\n\nimport Wrapper from './__styled__/Wrapper'\nimport Form from './__styled__/Form'\n\nconst mapStateToProps = (state: RootState) => ({\n  name: selectors.DraftExpedition.Name.getExpeditionName(state),\n  bigPocketVariantConfig: selectors.DraftExpedition.BigPocketVariantConfig.getBigPocketVariantConfig(state),\n  branches: selectors.DraftExpedition.SequenceConfig.Branches.getBranches(state),\n  branchIds: selectors.DraftExpedition.SequenceConfig.Branches.getBranchIds(state),\n})\n\nconst mapDispatchToProps = {\n  setExpeditionName: actions.DraftExpedition.Name.setExpeditionName,\n  setBigPocketVariantConfig:\n    actions.DraftExpedition.BigPocketVariantConfig.setBigPocketVariantConfig,\n  addBranch: actions.DraftExpedition.SequenceConfig.Branches.addBranch,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> & typeof mapDispatchToProps & {}\n\ntype FormBranch = {\n  identifier: string,\n  type: 'narrative' | 'battle' | 'reward',\n  nextBranchId?: string[] | null\n}\n\nconst initialState: FormBranch = {\n  identifier: '',\n  type: 'narrative',\n}\n\nconst Configurator = ({\n  name,\n  bigPocketVariantConfig,\n  branches,\n  branchIds,\n  setExpeditionName,\n  setBigPocketVariantConfig,\n  addBranch,\n}: Props) => {\n\n  const [branch, setBranch] = useState<FormBranch>(initialState)\n  const [nextBranchId, setNextBranchId] = useState<string | null>(null)\n\n  const handleInputChange = (event: any) => {\n    setExpeditionName(event.target.value)\n  }\n\n  const handleCheckboxChange = (event: any) => {\n    setBigPocketVariantConfig(event.currentTarget.checked)\n  }\n\n  const handleBranchIdentifierChange = (event: any) => {\n    setBranch({\n      ...branch,\n      identifier: event.target.value\n    })\n  }\n\n  const handleBranchTypeChange = (event: any) => {\n    setBranch({\n      ...branch,\n      type: event.target.value,\n    })\n  }\n\n  const handleBranchNextBranchIdChange = (event: any) => {\n    setNextBranchId(event.target.value)\n  }\n\n  const handleAddNextBranchId = (event: any, branchId: string) => {\n    console.log(branchId)\n  }\n\n  const handleAddBranch = () => {\n    const { identifier, type } = branch\n\n    if(!identifier) return\n\n    const newBranch = {\n      id: identifier,\n      type,\n    }\n\n    addBranch(newBranch)\n    setBranch(initialState)\n  }\n\n  // ToDo: REFACTOR: Split form into own components\n  return (\n    <Wrapper>\n      <Form>\n        <fieldset>\n          <legend>Basic Information</legend>\n          <Label htmlFor=\"name\">Expedition Name</Label>\n          <input\n            id=\"name\"\n            name=\"name\"\n            onChange={handleInputChange}\n            defaultValue={name}\n          />\n\n          <Label htmlFor=\"bigPocketVariantConfig\">\n            <input\n              id=\"bigPocketVariantConfig\"\n              type=\"checkbox\"\n              name=\"bigPocketVariantConfig\"\n              onChange={handleCheckboxChange}\n              defaultChecked={bigPocketVariantConfig}\n            />\n            Big Pocket Mode\n          </Label>\n        </fieldset>\n\n        <fieldset>\n          <legend>Branches</legend>\n          <Label htmlFor=\"branchIdentifier\">Branch identifier</Label>\n          <input\n            id=\"branchIdentifier\"\n            name=\"branchIdentifier\"\n            onChange={handleBranchIdentifierChange}\n            value={branch.identifier}\n          />\n\n          <Label htmlFor=\"branchType\">Branch type</Label>\n          <select\n            id=\"branchType\"\n            name=\"branchType\"\n            onChange={handleBranchTypeChange}\n            value={branch.type}\n          >\n            <option value=\"narrative\">narrative</option>\n            <option value=\"battle\">battle</option>\n            <option value=\"reward\">reward</option>\n          </select>\n\n          <button\n            type=\"button\"\n            style={{ display: 'block', margin: '24px 0 0' }}\n            onClick={handleAddBranch}\n          >\n            Add branch\n          </button>\n\n          {branches.length > 0 ? (\n            <ul>\n              {branches.map((branch) => {\n                return (\n                  <li key={branch.id}>\n                    <p>{branch.id}</p>\n                    <p>{branch.type}</p>\n                    <p>{branch.nextBranchId?.map((id) => id)}</p>\n                    {\n                      branchIds.filter((id) => id !== branch.id).length !== 0 && (\n                        <fieldset style={{ margin: '24px 0 0' }}>\n                          <legend>Next branches ids</legend>\n                          <Label htmlFor=\"branchNextBranchId\">\n                            Next branch identifier\n                          </Label>\n                          <select\n                            id=\"branchNextBranchId\"\n                            name=\"branchNextBranchId\"\n                            onChange={handleBranchNextBranchIdChange}\n                          >\n                            <option></option>\n                            {branchIds.map((id) => {\n                              return (\n                                id !== branch.id && (\n                                  <option key={id} value={id}>\n                                    {id}\n                                  </option>\n                                )\n                              )})}\n                          </select>\n                          <button\n                            type=\"button\"\n                            style={{ display: 'block' }}\n                            onClick={(event: any) =>\n                              handleAddNextBranchId(event, branch.id)\n                            }\n                          >\n                            Add next branch id\n                          </button>\n                          {\n                              // ToDo: Use from State\n                              nextBranchId ? (\n                                <p>{nextBranchId}</p>\n                              ) : (\n                                <p>No next branches ids added</p>\n                              )\n                            }\n                        </fieldset>\n                      )\n                    }\n                  </li>\n                )\n              })}\n            </ul>\n          ) : (\n            <p>No branches added</p>\n          )}\n        </fieldset>\n      </Form>\n\n      <Preview />\n    </Wrapper>\n  )\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(React.memo(Configurator))\n","import React from 'react'\n\nimport Configurator from 'components/molecules/Configurator'\n\nconst MainApp = () => {\n  return (\n    <>\n      <h1>AER: Custom Expedition Editor</h1>\n      <Configurator />\n    </>\n  )\n}\n\nexport default MainApp\n","import React from 'react'\n\nimport { ThemeProvider } from 'styled-components/macro'\n\nimport mainTheme from 'themes/main'\n\nimport MainApp from './MainApp'\n\nconst App = () => (\n  <ThemeProvider theme={mainTheme}>\n    <MainApp />\n  </ThemeProvider>\n)\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\n\nimport configureStore from './Redux/configureStore'\nimport { initialState } from './Redux/Store'\n\nimport * as serviceWorker from './serviceWorker'\n\nimport App from './components/App'\n\nconst store = configureStore(initialState)\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport { install, StoreCreator } from 'redux-loop'\n\nimport { RootReducer, RootState } from './Store'\n\nconst configureStore = (initialState: RootState) => {\n  // Add middleware to this array if necessary\n  const middleWares: any[] = []\n\n  const enhancers = [applyMiddleware(...middleWares), install<RootState>()]\n\n  const composeEnhancers =\n    process.env.NODE_ENV !== 'production' &&\n    typeof window === 'object' &&\n    // @ts-ignore\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      // @ts-ignore\n      ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      : compose\n\n  const enhancedCreateStore = createStore as StoreCreator\n  const store = enhancedCreateStore(\n    RootReducer,\n    initialState,\n    composeEnhancers(...enhancers)\n  )\n\n  return store\n}\n\nexport { configureStore as default }\n"],"sourceRoot":""}