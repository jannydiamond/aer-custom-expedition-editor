{"version":3,"sources":["Redux/Store/DraftExpedition/Name/index.ts","Redux/Store/DraftExpedition/BigPocketVariantConfig/index.ts","Redux/Store/DraftExpedition/SequenceConfig/DraftRewardConfig/index.ts","Redux/Store/DraftExpedition/SequenceConfig/DraftRewardSupplyCard/index.ts","Redux/Store/DraftExpedition/SequenceConfig/DraftBranch/index.ts","Redux/Store/DraftExpedition/SequenceConfig/FirstBranchId/index.tsx","Redux/Store/DraftExpedition/SequenceConfig/Branches/index.ts","Redux/Store/DraftExpedition/SequenceConfig/index.ts","Redux/Store/DraftExpedition/index.ts","Redux/Store/index.ts","serviceWorker.ts","GlobalStyle.ts","themes/main/index.ts","components/atoms/H1.tsx","components/organisms/Accordion/__styled__/Wrapper.tsx","components/organisms/Accordion/__styled__/Header.tsx","components/atoms/Button.tsx","components/organisms/Accordion/__styled__/Summary.tsx","components/organisms/Accordion/__styled__/Content.tsx","components/organisms/Accordion/__styled__/SummaryIcon.tsx","components/organisms/Accordion/index.tsx","components/atoms/ScreenReaderOnlyText.tsx","components/molecules/Fieldset/__styled__/Wrapper.tsx","components/molecules/Fieldset/__styled__/Legend.tsx","components/molecules/Fieldset/index.tsx","components/atoms/Label.tsx","components/atoms/Input.tsx","components/molecules/FormGroupInputText/__styled__/Wrapper.tsx","components/molecules/FormGroupInputText/index.tsx","components/molecules/FormGroupCheckbox/__styled__/Wrapper.tsx","components/molecules/FormGroupCheckbox/index.tsx","components/templates/BasicInformation/index.tsx","components/organisms/Modal/Wrapper.tsx","components/organisms/Modal/Backdrop.tsx","components/organisms/Modal/Content.tsx","components/organisms/Modal/Header.tsx","components/organisms/Modal/Body.tsx","components/atoms/H2.tsx","components/organisms/Modal/Title.tsx","components/organisms/Modal/CloseButton.tsx","components/organisms/Modal/Footer.tsx","components/organisms/Modal/index.tsx","components/atoms/ModalBodyWrapper.tsx","components/atoms/ModalFooterWrapper.tsx","hooks/useModal.tsx","components/organisms/Prompt/index.tsx","components/atoms/Select.tsx","components/molecules/FormGroupSelect/__styled__/Wrapper.tsx","components/molecules/FormGroupSelect/index.tsx","components/templates/Branches/AddBranchModal/BaseBranch/index.tsx","components/atoms/Textarea.tsx","components/molecules/FormGroupTextarea/__styled__/Wrapper.tsx","components/molecules/FormGroupTextarea/index.tsx","components/templates/Branches/AddBranchModal/NarrativeBranch/index.tsx","components/templates/Branches/AddBranchModal/RewardBranch/Treasures/index.tsx","components/templates/Branches/AddBranchModal/RewardBranch/Mages/index.tsx","components/molecules/FormGroupInputNumber/__styled__/Wrapper.tsx","components/molecules/FormGroupInputNumber/index.tsx","components/molecules/SupplyCardBlueprint/index.tsx","components/templates/Branches/AddBranchModal/RewardBranch/Supply/index.tsx","components/templates/Branches/AddBranchModal/RewardBranch/index.tsx","components/templates/Branches/AddBranchModal/BattleBranch/RewardConfig/Treasures/index.tsx","components/templates/Branches/AddBranchModal/BattleBranch/RewardConfig/Mages/index.tsx","components/templates/Branches/AddBranchModal/BattleBranch/RewardConfig/Supply/index.tsx","components/templates/Branches/AddBranchModal/BattleBranch/RewardConfig/index.tsx","components/templates/Branches/AddBranchModal/BattleBranch/index.tsx","components/templates/Branches/AddBranchModal/Body.tsx","components/templates/Branches/AddBranchModal/Footer.tsx","components/templates/Branches/AddBranchModal/index.tsx","components/templates/Branches/index.tsx","components/templates/ConnectBranches/index.tsx","helpers/copyToClipboard.ts","helpers/saveToFile.ts","components/molecules/Preview/__styled__/Wrapper.tsx","components/molecules/Preview/__styled__/Pre.tsx","components/molecules/Preview/index.tsx","components/molecules/Configurator/__styled__/Wrapper.tsx","components/molecules/Configurator/__styled__/Form.tsx","components/molecules/Configurator/index.tsx","components/App/__styled__/Wrapper.tsx","components/App/MainApp.tsx","components/App/index.tsx","index.tsx","Redux/configureStore.ts"],"names":["ActionTypes","actions","noOp","createAction","setExpeditionName","name","SET_EXPEDITION_NAME","selectors","getExpeditionName","state","DraftExpedition","Name","setBigPocketVariantConfig","value","SET_BIG_POCKET_VARIANT_CONFIG","getBigPocketVariantConfig","BigPocketVariantConfig","initialState","draftAddRewardConfig","type","DRAFT_ADD_REWARD_CONFIG","draftEditRewardConfig","config","DRAFT_EDIT_REWARD_CONFIG","draftDeleteRewardConfig","DRAFT_DELETE_REWARD_CONFIG","clearDraftRewardConfig","CLEAR_DRAFT_REWARD_CONFIG","getDraftRewardConfigState","SequenceConfig","DraftRewardConfig","getDraftRewardConfigIds","createSelector","configs","Object","keys","getDraftRewardConfigArray","values","draftAddRewardSupplyCard","DRAFT_ADD_REWARD_SUPPLY_CARD","draftAddBattleRewardSupplyCard","configId","DRAFT_ADD_BATTLE_REWARD_SUPPLY_CARD","draftEditRewardSupplyCard","blueprint","DRAFT_EDIT_REWARD_SUPPLY_CARD","draftDeleteRewardSupplyCard","DRAFT_DELETE_REWARD_SUPPLY_CARD","clearDraftRewardSupplyCard","CLEAR_DRAFT_REWARD_SUPPLY_CARD","getDraftRewardSupplyCardState","DraftRewardSupplyCard","getDraftRewardSupplyCardIds","blueprints","getDraftRewardSupplyCardArray","_id","id","draftAddBranch","DRAFT_ADD_BRANCH","draftEditBranch","branch","DRAFT_EDIT_BRANCH","updateDraftBranch","UPDATE_DRAFT_BRANCH","clearDraftBranch","CLEAR_DRAFT_BRANCH","getDraftBranchState","DraftBranch","setFirstBranchId","branchId","SET_FIRST_BRANCH_ID","clearFirstBranchId","CLEAR_FIRST_BRANCH_ID","getFirstBranchId","FirstBranchId","addBranch","ADD_BRANCH","updateBranch","UPDATE_BRANCH","getBranchesState","Branches","getBranchIds","branches","getBranches","Reducer","combineReducers","action","shortid","generate","payload","rewardType","newConfigs","filter","newState","reduce","operation","newBlueprints","text","decisions","treasure","mage","supply","ids","tier1","tier2","tier3","randomAmount","bigPocket","tier","nemesisId","newUBNCards","specialRules","onLoss","lossRewards","winRewards","RootReducer","reduceReducers","Boolean","window","location","hostname","match","GlobalStyle","createGlobalStyle","mainTheme","colors","H1","styled","Wrapper","Header","Button","Summary","Content","SummaryIcon","React","memo","title","open","children","useState","isOpen","setIsOpen","aria-expanded","aria-controls","onClick","className","role","aria-labelledby","hidden","ScreenReaderOnlyText","Legend","legend","legendVisible","Label","Input","label","labelHidden","onChange","defaultValue","required","htmlFor","defaultChecked","mapDispatchToProps","connect","expeditionName","bigPocketVariantConfig","event","target","currentTarget","checked","Backdrop","Body","props","hasFooter","H2","Title","themeColor","rest","CloseButton","Footer","titleColor","titleLabel","closeModal","footer","domEl","document","getElementById","ReactDOM","createPortal","Fragment","variant","ModalBodyWrapper","ModalFooterWrapper","useModal","yesHandler","noHandler","isVisible","setIsVisible","hide","show","RenderModal","closeCallback","Select","ReactSelect","options","isMulti","classNamePrefix","draftBranch","branchTypeOptions","branchTypeDefaultValue","find","option","FormGroupSelect","selectOption","Textarea","split","map","decision","treasureOptions","DATA","normalizedData","ENG","treasures","level","selectOptions","selectedTreasureIds","parseInt","mageOptions","mages","selectedMageIds","SupplyCardBlueprint","handleChange","handleDelete","cardTypeOptions","cardTypeDefaultValue","cardOperationOptions","cardOperationDefaultValue","threshold","costValues","addSupplyCard","editSupplyCard","deleteSupplyCard","supplyOptions","cards","handleEditSupplyCard","handleDeleteSupplyCard","selectedSupplyIds","key","renderSupplyBlueprints","handleRewardTypeChange","updateDraftRewardConfig","assign","undefined","addRewardConfig","editRewardConfig","deleteRewardConfig","rewardConfigs","useEffect","hasTreasure","nemesisOptions","nemeses","nemesis","upgradedBasicNemesisCardsOptions","upgradedBasicNemesisCards","upgradedBasicNemesisCard","treasureLevelOptions","treasureLevelDefaultValue","toString","winConfigs","lossConfigs","handleBattleTierChange","handleNewUBNCardsTypeChange","handleAddRewardConfig","handleEditRewardConfig","handleDeleteRewardConfig","renderRewardConfigs","selectedUBNCardIds","addRandom","length","renderBranch","clearDraftRewardSupplyCards","draftRewardConfigs","draftRewardSupplyCards","modal","newBranch","card","reward","addBranchModal","style","display","firstBranchId","availableBranchesOptions","handleNarrativNextBranchIdChange","branchToUpdate","currentBranchId","newDecisions","decisionId","nextBranchId","handleNextBranchIdChange","availableOptions","availableBranch","narrativeBranch","decisionOptions","availableOption","copyToClipboard","json","navigator","clipboard","writeText","saveToFile","blob","Blob","saveAs","Pre","fileName","data","sequenceConfig","rewardBranch","randomTreasuresTier1","Array","fill","random","randomTreasuresTier2","randomTreasuresTier3","randomMageAmount","battleBranch","hasOwnProperty","winRewardTreasure","winRewardMage","winRewardSupply","winRewardTreasureIds","winRewardRandomTreasuresTier1","winRewardRandomTreasuresTier2","winRewardRandomTreasuresTier3","winRewardMageIds","winRewardRandomMageAmount","winRewardSupplyIds","winRewardSupplyBlueprints","winRewardSupplyBigPocket","lossReward","lossRewardTreasure","lossRewardMage","lossRewardSupply","lossRewardTreasureIds","lossRewardRandomTreasuresTier1","lossRewardRandomTreasuresTier2","lossRewardRandomTreasuresTier3","lossRewardMageIds","lossRewardRandomMageAmount","lossRewardSupplyIds","lossRewardSupplyBlueprints","lossRewardSupplyBigPocket","JSON","stringify","Form","MainApp","App","theme","store","enhancers","applyMiddleware","install","composeEnhancers","compose","enhancedCreateStore","createStore","configureStore","render","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"kMAcYA,E,yEAAAA,K,gEAAAA,M,KAIL,ICJKA,EDICC,EAAU,CACrBC,KAAM,kBAAMC,YAAa,SACzBC,kBAAmB,SAACC,GAAD,OACjBF,YAAaH,EAAYM,oBAAqBD,KAoCrCE,EAAY,CACvBC,kBAHwB,SAACC,GAAD,OAA2BA,EAAMC,gBAAgBC,Q,SCzC/DX,K,sGAAAA,M,KAIL,ICGKA,EDHCC,EAAU,CACrBC,KAAM,kBAAMC,YAAa,SACzBS,0BAA2B,SAACC,GAAD,OACzBV,YAAaH,EAAYc,8BAA+BD,KAoC/CN,EAAY,CACvBQ,0BAHgC,SAACN,GAAD,OAA6CA,EAAMC,gBAAgBM,yB,sCCxCxFC,EAAsB,I,SAMvBjB,K,mGAAAA,E,qGAAAA,E,yGAAAA,E,wGAAAA,M,KAOL,ICPKA,EDOCC,EAAU,CACrBC,KAAM,kBAAMC,YAAa,SACzBe,qBAAsB,SAACC,GAAD,OACpBhB,YAAaH,EAAYoB,wBAAyBD,IACpDE,sBAAuB,SAACC,GAAD,OACrBnB,YAAaH,EAAYuB,yBAA0BD,IACrDE,wBAAyB,SAACF,GAAD,OACvBnB,YAAaH,EAAYyB,2BAA4BH,IACvDI,uBAAwB,kBACtBvB,YAAaH,EAAY2B,6BA+EvBC,EAA4B,SAACnB,GAAD,OAChCA,EAAMC,gBAAgBmB,eAAeC,mBAY1BvB,EAAY,CACvBqB,4BACAG,wBAZ8BC,YAC9B,CAACJ,IACD,SAACK,GAAD,OAAaC,OAAOC,KAAKF,MAWzBG,0BARgCJ,YAChC,CAACJ,IACD,SAACK,GAAD,OAAaC,OAAOG,OAAOJ,OC/GhBhB,EAAsB,I,SAMvBjB,K,iHAAAA,E,+HAAAA,E,mHAAAA,E,uHAAAA,E,sHAAAA,M,KAQL,ICRKA,EDQCC,EAAU,CACrBC,KAAM,kBAAMC,YAAa,SACzBmC,yBAA0B,kBACxBnC,YAAaH,EAAYuC,+BAC3BC,+BAAgC,SAACC,GAAD,OAC9BtC,YAAaH,EAAY0C,oCAAqCD,IAChEE,0BAA2B,SAACC,GAAD,OACzBzC,YAAaH,EAAY6C,8BAA+BD,IAC1DE,4BAA6B,SAACF,GAAD,OAC3BzC,YAAaH,EAAY+C,gCAAiCH,IAC5DI,2BAA4B,kBAC1B7C,YAAaH,EAAYiD,kCA6FvBC,EAAgC,SACpCzC,GADoC,OAEjCA,EAAMC,gBAAgBmB,eAAesB,uBAY7B5C,EAAY,CACvB2C,gCACAE,4BAZkCpB,YAClC,CAACkB,IACD,SAACG,GAAD,OAAgBnB,OAAOC,KAAKkB,MAW5BC,8BARoCtB,YACpC,CAACkB,IACD,SAACG,GAAD,OAAgBnB,OAAOG,OAAOgB,OCrInBpC,EAAsB,CACjCsC,IAAK,GACLC,GAAI,GACJrC,KAAM,c,SAOInB,K,+EAAAA,E,iFAAAA,E,mFAAAA,E,sFAAAA,M,KAOL,ICbKA,EDaCC,EAAU,CACrBC,KAAM,kBAAMC,YAAa,SACzBsD,eAAgB,kBACdtD,YAAaH,EAAY0D,mBAC3BC,gBAAiB,SAACC,GAAD,OACfzD,YAAaH,EAAY6D,kBAAmBD,IAC9CE,kBAAmB,SAACF,GAAD,OACjBzD,YAAaH,EAAY+D,oBAAqBH,IAChDI,iBAAkB,kBAChB7D,YAAaH,EAAYiE,sBAqDhB1D,EAAY,CACvB2D,oBAH0B,SAACzD,GAAD,OAAkCA,EAAMC,gBAAgBmB,eAAesC,e,SCzEvFnE,K,uFAAAA,E,4FAAAA,M,KAKL,ICHKA,EDGCC,EAAU,CACrBC,KAAM,kBAAMC,YAAa,SACzBiE,iBAAkB,SAACC,GAAD,OAChBlE,YAAaH,EAAYsE,oBAAqBD,IAChDE,mBAAoB,kBAAMpE,YAAaH,EAAYwE,yBA2CxCjE,EAAY,CACvBkE,iBAJuB,SAAChE,GAAD,OACvBA,EAAMC,gBAAgBmB,eAAe6C,gB,OCtD1BzD,EAAsB,I,SAMvBjB,K,gEAAAA,E,uEAAAA,M,KAKL,IAAMC,EAAU,CACrBC,KAAM,kBAAMC,YAAa,SACzBwE,UAAW,SACTf,GADS,OAENzD,YAAaH,EAAY4E,WAAYhB,IAC1CiB,aAAc,SACZjB,GADY,OAETzD,YAAaH,EAAY8E,cAAelB,KAyIzCmB,EAAmB,SAACtE,GAAD,OACvBA,EAAMC,gBAAgBmB,eAAemD,UAU1BzE,EAAY,CACvBwE,mBACAE,aAVmBjD,YAAe,CAAC+C,IAAmB,SAACG,GAAD,OACtDhD,OAAOC,KAAK+C,MAUZC,YAPkBnD,YAAe,CAAC+C,IAAmB,SAACG,GAAD,OACrDhD,OAAOG,OAAO6C,OC1JHjE,EAAe,CAC1Ba,kBAAmBA,EACnBqB,sBAAuBA,EACvBgB,YAAaA,EACbO,cFfiC,KEgBjCM,SAAUA,GAOC/E,EAAU,CACrB6B,kBAAmBA,EACnBqB,sBAAuBA,EACvBgB,YAAaA,EACbO,cAAeA,EACfM,SAAUA,GAcCI,EAAUC,YAAgB,CACrCvD,kBLNiD,WAG7C,IAFJrB,EAEG,uDAFYQ,EACfqE,EACG,uCACH,OAAQA,EAAOnE,MACb,KAAKnB,EAAYoB,wBACf,IAAMoC,EAAK+B,IAAQC,WAEnB,OAAO,2BACJhC,EAAK,CACJD,IAAKC,EACLrC,KAAMmE,EAAOG,QACbC,WAAY,YAEXjF,GAIP,KAAKT,EAAYuB,yBAA2B,IAClCgC,EAAQ+B,EAAOG,QAAflC,IAER,OAAO,2BACF9C,GADL,kBAEG8C,EAAM+B,EAAOG,UAIlB,KAAKzF,EAAYyB,2BAA6B,IACpC8B,EAAQ+B,EAAOG,QAAflC,IACFtB,EAAUC,OAAOG,OAAO5B,GAExBkF,EAAa1D,EAAQ2D,QACzB,SAACtE,GAAD,OAAsCA,EAAOiC,MAAQA,KAGjDsC,EAAWF,EAAWG,QAC1B,SAAC7D,EAAgBX,GACf,OAAO,2BACFW,GADL,kBAEGX,EAAOiC,IAAMjC,MAGlB,IAGF,OAAOuE,EAGT,KAAK7F,EAAY2B,0BACf,OAAOV,EAGT,QACE,OAAOR,IK9CX0C,sBJJiD,WAG7C,IAFJ1C,EAEG,uDAFYQ,EACfqE,EACG,uCACH,OAAQA,EAAOnE,MACb,KAAKnB,EAAYuC,6BACf,IAAMiB,EAAK+B,IAAQC,WAEnB,OAAO,2BACJhC,EAAK,CACJD,IAAKC,EACLrC,KAAM,MACN4E,UAAW,QAEVtF,GAIP,KAAKT,EAAY0C,oCACf,IAAMc,EAAK+B,IAAQC,WAEnB,OAAO,2BACJhC,EAAK,CACJD,IAAKC,EACLf,SAAU6C,EAAOG,QACjBtE,KAAM,MACN4E,UAAW,QAEVtF,GAIP,KAAKT,EAAY6C,8BAAgC,IACvCU,EAAQ+B,EAAOG,QAAflC,IAER,OAAO,2BACF9C,GADL,kBAEG8C,EAAM+B,EAAOG,UAIlB,KAAKzF,EAAY+C,gCAAkC,IACzCQ,EAAQ+B,EAAOG,QAAflC,IACFF,EAAanB,OAAOG,OAAO5B,GAE3BuF,EAAgB3C,EAAWuC,QAC/B,SAAChD,GAAD,OAAgCA,EAAUW,MAAQA,KAG9CsC,EAAWG,EAAcF,QAC7B,SAACzC,EAAmBT,GAClB,OAAO,2BACFS,GADL,kBAEGT,EAAUW,IAAMX,MAGrB,IAGF,OAAOiD,EAGT,KAAK7F,EAAYiD,+BACf,OAAOhC,EAGT,QACE,OAAOR,II9DX0D,YHRiD,WAG7C,IAFJ1D,EAEG,uDAFYQ,EACfqE,EACG,uCACH,OAAQA,EAAOnE,MACb,KAAKnB,EAAY0D,iBACf,OAAO,2BACFjD,GADL,IAEE8C,IAAKgC,IAAQC,aAIjB,KAAKxF,EAAY6D,kBAIjB,KAAK7D,EAAY+D,oBACf,OAAOuB,EAAOG,QAGhB,KAAKzF,EAAYiE,mBACf,OAAOhD,EAGT,QACE,OAAOR,IGhBXiE,cFtBiD,WAG7C,IAFJjE,EAEG,uDA3B8B,KA0BjC6E,EACG,uCACH,OAAQA,EAAOnE,MACb,KAAKnB,EAAYsE,oBACf,OAAOgB,EAAOG,QAGhB,KAAKzF,EAAYwE,sBACf,OAlC6B,KAqC/B,QACE,OAAO/D,IESXuE,SDlBiD,WAG7C,IAFJvE,EAEG,uDAFYQ,EACfqE,EACG,uCACH,OAAQA,EAAOnE,MACb,KAAKnB,EAAY4E,WAAa,IAAD,EACDU,EAAOG,QAAzBlC,EADmB,EACnBA,IAAKC,EADc,EACdA,GAAIrC,EADU,EACVA,KAEjB,OAAQA,GACN,IAAK,YAAc,IAAD,EACYmE,EAAOG,QAA3BQ,EADQ,EACRA,KAAMC,EADE,EACFA,UAEd,OAAO,2BACFzF,GADL,kBAEG8C,EAAM,CACLA,MACAC,GAAIA,GAAUD,EACdpC,OACA8E,KAAMA,GAAc,GACpBC,YAAWA,GAAS,YAAOA,MAKjC,IAAK,SAAW,IAAD,gBAMTZ,EAAOG,QAJTC,EAFW,EAEXA,WACAS,EAHW,EAGXA,SACAC,EAJW,EAIXA,KACAC,EALW,EAKXA,OAGF,OAAO,2BACF5F,GADL,kBAEG8C,EAAM,CACLA,MACAC,GAAIA,GAAUD,EACdpC,OACAuE,WAAYA,GAA0B,UACtCS,SAAU,CACRG,IAAG,iBAAEH,QAAF,IAAEA,OAAF,EAAEA,EAAUG,WAAZ,QAAmB,GACtBC,MAAK,iBAAEJ,QAAF,IAAEA,OAAF,EAAEA,EAAUI,aAAZ,QAAqB,EAC1BC,MAAK,iBAAEL,QAAF,IAAEA,OAAF,EAAEA,EAAUK,aAAZ,QAAqB,EAC1BC,MAAK,iBAAEN,QAAF,IAAEA,OAAF,EAAEA,EAAUM,aAAZ,QAAqB,GAE5BL,KAAM,CACJE,IAAG,iBAAEF,QAAF,IAAEA,OAAF,EAAEA,EAAME,WAAR,QAAe,GAClBI,aAAY,iBAAEN,QAAF,IAAEA,OAAF,EAAEA,EAAMM,oBAAR,QAAwB,GAEtCL,OAAQ,CACNC,KAAW,OAAND,QAAM,IAANA,OAAA,EAAAA,EAAQC,KAAMD,EAAOC,IAAM,GAChCjD,WAAU,iBAAEgD,QAAF,IAAEA,OAAF,EAAEA,EAAQhD,kBAAV,QAAwB,GAClCsD,UAAS,OAAEN,QAAF,IAAEA,OAAF,EAAEA,EAAQM,cAM3B,IAAK,SAAW,IAAD,EAUTrB,EAAOG,QARTmB,EAFW,EAEXA,KACAC,EAHW,EAGXA,UACAC,EAJW,EAIXA,YACAX,EALW,EAKXA,SACAY,EANW,EAMXA,aACAC,EAPW,EAOXA,OACAC,EARW,EAQXA,YACAC,EATW,EASXA,WAGF,OAAO,2BACFzG,GADL,kBAEG8C,EAAM,CACLA,MACAC,GAAIA,GAAUD,EACdqD,OACAzF,OACA0F,UAAS,OAAEA,QAAF,IAAEA,IAAa,GACxBC,cACAX,WACAY,eACAC,OAAQA,GAAU,OAClBC,YAAaA,EACbC,WAAYA,KAKlB,QACE,OAAO,2BACFzG,GADL,kBAEG8C,EAAM,CACLA,MACAC,KACArC,UAOV,KAAKnB,EAAY8E,cAAgB,IACvBvB,EAAQ+B,EAAOG,QAAflC,IAER,OAAO,2BACF9C,GADL,kBAEG8C,EAAM+B,EAAOG,UAIlB,QACE,OAAOhF,MCtFAF,EAAY,CACvBuB,kBAAmBA,EACnBqB,sBAAuBA,EACvBgB,YAAaA,EACbO,cAAeA,EACfM,SAAUA,GCpDC/D,EAAe,CAC1BN,KRTiC,GQUjCK,wBPViC,EOWjCa,eAAgBA,GAOL5B,EAAU,CACrBU,KAAMA,EACNK,uBAAwBA,EACxBa,eAAgBA,GAYLuD,EAAUC,YAAgB,CACrC1E,KRZiD,WAG7C,IAFJF,EAEG,uDAzB8B,GAwBjC6E,EACG,uCACH,OAAQA,EAAOnE,MACb,KAAKnB,EAAYM,oBACf,OAAOgF,EAAOG,QAGhB,QACE,OAAOhF,IQGXO,uBPbiD,WAG7C,IAFJP,EAEG,wDADH6E,EACG,uCACH,OAAQA,EAAOnE,MACb,KAAKnB,EAAYc,8BACf,OAAOwE,EAAOG,QAGhB,QACE,OAAOhF,IOIXoB,eAAgBA,IAOLtB,EAAY,CACvBI,KAAMA,EACNK,uBAAwBA,EACxBa,eAAgBA,GC9CLZ,EAAe,CAC1BP,gBAAiBA,GAGNT,GAAU,CACrBS,gBAAiBA,GAMNyG,GAAcC,YACzB/B,YAA2B,CACzB3E,gBAAiBA,KAIRH,GAAY,CACvBG,gBAAiBA,GCdC2G,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,8XChBN,IAgBeC,GAhBKC,aAAH,MCEFC,GAJG,CAChBC,OAAQ,ICQKC,GALJC,aAAO,MAAV,yDAAGA,CAAH,iC,SCEOC,GAJCD,aAAO,OAAV,8DAAGA,CAAH,yBCKEE,GALAF,aAAO,MAAV,6DAAGA,CAAH,+CCOGG,GAPAH,aAAO,UAAV,yDAAGA,CAAH,oECgBGI,GAdCJ,aAAOG,IAAV,6DAAGH,CAAH,2KCEEK,GAJCL,aAAO,OAAV,0DAAGA,CAAH,uBCKEM,GALKN,aAAO,QAAV,kEAAGA,CAAH,kCCqDFO,OAAMC,MAxCH,SAAC,GAKL,IAJZ/E,EAIW,EAJXA,GACAgF,EAGW,EAHXA,MACAC,EAEW,EAFXA,KACAC,EACW,EADXA,SACW,EACiBC,mBAAkBF,IAAc,GADjD,oBACJG,EADI,KACIC,EADJ,KAOX,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACErF,GAAE,UAAKA,EAAL,WACFrC,KAAK,SACL2H,gBAAeF,EAAS,OAAS,QACjCG,gBAAA,UAAkBvF,EAAlB,WACAwF,QAZY,WAClBH,GAAWD,KAaJJ,EACD,kBAAC,GAAD,CAAaS,UAAU,kBACpBL,EAAS,cAAgB,iBAIhC,kBAAC,GAAD,CACEpF,GAAE,UAAKA,EAAL,WACF0F,KAAK,SACLC,kBAAA,UAAoB3F,EAApB,WACA4F,QAAQR,GAENF,OCpCKW,GAXctB,aAAO,QAAV,2EAAGA,CAAH,+GCKXC,GALCD,aAAO,YAAV,8DAAGA,CAAH,4BCIEuB,GAJAvB,aAAO,UAAV,6DAAGA,CAAH,gBC6BGO,OAAMC,MAnBJ,SAAC,GAIJ,IAHZgB,EAGW,EAHXA,OACAC,EAEW,EAFXA,cACAd,EACW,EADXA,SAEA,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KAEIc,EACKD,EACA,kBAAC,GAAD,KAAuBA,IAG/Bb,MCjBQe,GAPD1B,aAAO,SAAV,wDAAGA,CAAH,0ECQI2B,GARD3B,aAAO,SAAV,wDAAGA,CAAH,yFCIIC,GAJCD,aAAO,OAAV,8DAAGA,CAAH,yBC6CEO,OAAMC,MA9BM,SAAC,GAQd,IAPZ/E,EAOW,EAPXA,GACAmG,EAMW,EANXA,MACAC,EAKW,EALXA,YACAvJ,EAIW,EAJXA,KACAwJ,EAGW,EAHXA,SACAC,EAEW,EAFXA,aACAC,EACW,EADXA,SAEA,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAOC,QAASxG,GACboG,EACC,kBAAC,GAAD,KAAuBD,GAEvBA,GAGJ,kBAAC,GAAD,CACEnG,GAAIA,EACJnD,KAAMA,GAAcmD,EACpBrC,KAAK,OACL0I,SAAUA,EACVC,aAAcA,EACdC,SAAUA,QCxBH/B,GAbCD,aAAO,OAAV,8DAAGA,CAAH,oFAGT0B,ICoCWnB,OAAMC,MA5BK,SAAC,GAOb,IANZ/E,EAMW,EANXA,GACAmG,EAKW,EALXA,MACAC,EAIW,EAJXA,YACAvJ,EAGW,EAHXA,KACAwJ,EAEW,EAFXA,SACAI,EACW,EADXA,eAEA,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAOD,QAASxG,GACd,2BACEA,GAAIA,EACJrC,KAAK,WACLd,KAAMA,GAAcmD,EACpBqG,SAAUA,EACVI,eAAgBA,IAEjBL,EACC,kBAAC,GAAD,KAAuBD,GAEvBA,OCnBJO,GAAqB,CACzB9J,kBAAmBH,GAAQS,gBAAgBC,KAAKP,kBAChDQ,0BACEX,GAAQS,gBAAgBM,uBAAuBJ,2BAwCpCuJ,gBAlDS,SAAC1J,GAAD,MAAuB,CAC7C2J,eAAgB7J,GAAUG,gBAAgBC,KAAKH,kBAAkBC,GACjE4J,uBAAwB9J,GAAUG,gBAAgBM,uBAAuBD,0BACvEN,MA+CoCyJ,GAAzBC,EAnCU,SAAC,GAKZ,IAJZC,EAIW,EAJXA,eACAC,EAGW,EAHXA,uBACAjK,EAEW,EAFXA,kBACAQ,EACW,EADXA,0BAWA,OACE,kBAAC,GAAD,CAAW4C,GAAG,mBAAmBgF,MAAM,oBAAoBC,MAAI,GAC7D,kBAAC,GAAD,CAAUc,OAAO,qBACf,kBAAC,GAAD,CACE/F,GAAG,iBACHmG,MAAM,kBACNE,SAdiB,SAACS,GACxBlK,EAAkBkK,EAAMC,OAAO1J,QAczBiJ,aAAcM,IAEhB,kBAAC,GAAD,CACE5G,GAAG,yBACHmG,MAAM,kBACNE,SAhBsB,SAACS,GAC7B1J,EAA0B0J,EAAME,cAAcC,UAgBxCR,eAAgBI,S,2LCnD1B,IAUerC,GAVCD,aAAO,MAAPA,CAAH,M,wLCAb,IASe2C,GATE3C,aAAO,MAAPA,CAAH,M,+OCAd,IAUeK,GAVCL,aAAO,MAAPA,CAAH,M,sRCAb,IAYeE,GAZAF,aAAO,MAAPA,CAAH,M,0FCIZ,IAIe4C,GAJF5C,aAAO,MAAPA,CAAH,MACE,SAAA6C,GAAK,OAAIA,EAAMC,UAAY,0BAA4B,uB,SCDpDC,GAJJ/C,aAAO,MAAV,yDAAGA,CAAH,oB,uGCSR,IAKegD,GALDhD,cAAO,cAAGiD,WAAH,IAAkBC,EAAlB,sCAA6B,kBAAC,GAAOA,KAA5ClD,CAAH,MACA,SAAA6C,GAAK,OAAIA,EAAMI,c,uSCV1B,IAgBeE,GAhBKnD,aAAO,SAAPA,CAAH,M,iTCAjB,IAaeoD,GAbApD,aAAO,MAAPA,CAAH,MC+CGO,OAAMC,MA7BP,SAAC,GAAqE,IAAnE6C,EAAkE,EAAlEA,WAAYC,EAAsD,EAAtDA,WAAY3C,EAA0C,EAA1CA,SAAU4C,EAAgC,EAAhCA,WAAYC,EAAoB,EAApBA,OACvDC,EAAQC,SAASC,eAAe,cAEtC,OAAKF,EAEEG,IAASC,aACd,kBAAC,IAAMC,SAAP,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAU7C,QAASsC,IACnB,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAOQ,QAAQ,KAAKd,WAAYI,GAC7BC,GAEH,kBAAC,GAAD,CAAarC,QAASsC,GACpB,0BAAMrC,UAAU,kBAAhB,WAGJ,kBAAC,GAAD,CAAM4B,YAAWU,GAAwB7C,GACxC6C,GACC,kBAAC,GAAD,KAASA,MAKjBC,GAtBiB,QCJNO,GAbUhE,aAAO,OAAV,uEAAGA,CAAH,qHAEV,SAAA6C,GAAK,OAAKA,EAAMC,UAAY,oBAAsB,UCe/CmB,GArBYjE,aAAO,OAAV,wEAAGA,CAAH,6OCmBXkE,ICaE3D,IAAMC,MA5BN,SAAC,GAQT,IAPL2D,EAOI,EAPJA,WACAC,EAMI,EANJA,UACAzD,EAKI,EALJA,SAMA,OACE,kBAAC,IAAMmD,SAAP,KACE,kBAAC,GAAD,CAAkBhB,WAAW,GAAOnC,GACpC,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEM,QAASmD,GADX,MAKA,kBAAC,GAAD,CACEnD,QAASkD,GADX,YDHgB,WAAO,IAAD,EACMvD,oBAAS,GADf,oBACrByD,EADqB,KACVC,EADU,KAGtBC,EAAO,kBAAMD,GAAa,IA+BhC,MAAO,CACLE,KAjCW,kBAAMF,GAAa,IAkC9BC,OACAE,YAjCmC,SAAC,GAM/B,IALLpB,EAKI,EALJA,WACAC,EAII,EAJJA,WACA3C,EAGI,EAHJA,SACA+D,EAEI,EAFJA,cACAlB,EACI,EADJA,OASA,OACE,kBAAC,IAAMM,SAAP,KACGO,GACC,kBAAC,GAAD,CACEhB,WAAYA,EACZC,WAAYA,EACZC,WAbY,WAClBgB,IACIG,GACFA,KAWIlB,OAAQA,GAEP7C,Q,SEzCEgE,GAJA3E,aAAO4E,MAAV,6DAAG5E,CAAH,MCGGC,GAJCD,aAAO,OAAV,8DAAGA,CAAH,yBCqDEO,OAAMC,MAlCM,SAAC,GAUd,IATZ/E,EASW,EATXA,GACAoJ,EAQW,EARXA,QACAjD,EAOW,EAPXA,MACAC,EAMW,EANXA,YACAvJ,EAKW,EALXA,KACAwJ,EAIW,EAJXA,SACAC,EAGW,EAHXA,aACAC,EAEW,EAFXA,SACA8C,EACW,EADXA,QAEA,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAO7C,QAASxG,GACboG,EACC,kBAAC,GAAD,KAAuBD,GAEvBA,GAGJ,kBAAC,GAAD,CACEiD,QAASA,EACTE,gBAAgB,cAChBtJ,GAAIA,EACJnD,KAAMA,GAAcmD,EACpBqG,SAAUA,EACVC,aAAcA,EACdC,SAAUA,EACV8C,QAASA,QCtCX3C,GAAqB,CACzBpG,kBACE7D,GAAQS,gBAAgBmB,eAAesC,YAAYL,mBA4DxCqG,eACb,KACAD,GAFaC,CAGb7B,IAAMC,MAxDW,SAAC,GAGN,IAFZwE,EAEW,EAFXA,YACAjJ,EACW,EADXA,kBAGMkJ,EAA6C,CACjD,CAAEnM,MAAO,YAAa8I,MAAO,aAC7B,CAAE9I,MAAO,SAAU8I,MAAO,UAC1B,CAAE9I,MAAO,SAAU8I,MAAO,WAGtBsD,EAAyBD,EAAkBE,MAC/C,SAACC,GAAD,OAAYA,EAAOtM,QAAUkM,EAAY5L,QAqB3C,OACE,oCACE,kBAAC,GAAD,CACEqC,GAAG,WACHmG,MAAM,YACNE,SAvBuB,SAACS,GAC5BxG,EAAkB,2BACbiJ,GADY,IAEfvJ,GAAI8G,EAAMC,OAAO1J,UAqBfiJ,aAAciD,EAAYvJ,GAC1BuG,UAAU,IAEZ,kBAACqD,GAAD,CACER,QAASI,EACTxJ,GAAG,aACHmG,MAAM,cACNE,SAxByB,SAACwD,GAA0C,IAChE9J,EAAYwJ,EAAZxJ,IAAKC,EAAOuJ,EAAPvJ,GAEbM,EAAkB,2BACb7C,GADY,IAEfsC,MACAC,KACArC,KAAMkM,EAAaxM,UAkBjBiJ,aAAcmD,SCxDPK,GATEvF,aAAO,YAAV,0DAAGA,CAAH,2GCICC,GAJCD,aAAO,OAAV,8DAAGA,CAAH,yBC+CEO,OAAMC,MAhCK,SAAC,GAQb,IAPZ/E,EAOW,EAPXA,GACAmG,EAMW,EANXA,MACAC,EAKW,EALXA,YACAvJ,EAIW,EAJXA,KACAwJ,EAGW,EAHXA,SACAC,EAEW,EAFXA,aACAC,EACW,EADXA,SAGA,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAOC,QAASxG,GAEZoG,EACE,kBAAC,GAAD,KAAuBD,GAEvBA,GAIN,kBAAC,GAAD,CACEnG,GAAIA,EACJnD,KAAMA,GAAcmD,EACpBqG,SAAUA,EACVC,aAAcA,EACdC,SAAUA,QChCZG,GAAqB,CACzBpG,kBACE7D,GAAQS,gBAAgBmB,eAAesC,YAAYL,mBA0DxCqG,eACb,KACAD,GAFaC,CAGb7B,IAAMC,MAtDgB,SAAC,GAGX,IAFZwE,EAEW,EAFXA,YACAjJ,EACW,EADXA,kBAwBA,OACE,oCACE,kBAAC,GAAD,CACEN,GAAG,cACHmG,MAAM,OACNE,SA1ByB,SAACS,GAC9BxG,EAAkB,2BACbiJ,GADY,IAEf9G,KAAMqE,EAAMC,OAAO1J,UAwBjBiJ,aAAciD,EAAY9G,OAE5B,qGAGA,kBAAC,GAAD,CACEzC,GAAG,YACHmG,MAAM,YACNE,SA5B8B,SAACS,GAAgB,IAAD,EAC5CpE,EAAS,UACZoE,EAAMC,OAAO1J,OAASyJ,EAAMC,OAAO1J,MAAM0M,MAAM,aADnC,QAC6C,GAC5DzJ,EAAkB,2BACbiJ,GADY,IAEf7G,UAAWA,EAAUsH,KAAI,SAACC,GACxB,MAAO,CACLlK,IAAKgC,IAAQC,WACbS,KAAMwH,UAqBR3D,aACEiD,EAAY7G,UACR6G,EAAY7G,UAAUsH,KAAI,SAACC,GAAD,OAAcA,EAASxH,QACjD,U,QCyCCqC,OAAMC,MAzFH,SAAC,GAA+C,IAA7CwE,EAA4C,EAA5CA,YAAajJ,EAA+B,EAA/BA,kBAK1B4J,EAJqCxL,OAAOG,OAChDsL,KAAKC,eAAeC,IAAIC,WAGYN,KAAI,SAACrH,GACzC,MAAO,CACLtF,MAAOsF,EAAS3C,GAChBmG,MAAM,GAAD,OAAKxD,EAAS9F,KAAd,oBAA8B8F,EAAS4H,MAAvC,SAgDT,OACE,kBAAC,GAAD,CAAWvK,GAAG,YAAYgF,MAAM,YAAYC,MAAI,GAC9C,kBAAC2E,GAAD,CACER,QAASc,EACTlK,GAAG,kBACHmG,MAAM,mBACNE,SAlDuB,SAACmE,GAC5B,IAAMC,EAAgCD,EAClCA,EAAcR,KAAI,SAACL,GAAD,OAAgCA,EAAOtM,SACzD,GAEJiD,EAAkB,2BACbiJ,GADY,IAEf5G,SAAS,2BACJ4G,EAAY5G,UADT,IAENG,IAAI,YAAK2H,SA0CTpB,SAAO,IAET,gDACA,6EACA,kBAAC,GAAD,CACErJ,GAAG,iBACHmG,MAAM,SACNE,SA5CkC,SAACS,GACvCxG,EAAkB,2BACbiJ,GADY,IAEf5G,SAAS,2BACJ4G,EAAY5G,UADT,IAENI,MAAO2H,SAAU5D,EAAMC,OAA4B1J,aAwCnDiJ,aAAc,IAEhB,kBAAC,GAAD,CACEtG,GAAG,iBACHmG,MAAM,SACNE,SAxCkC,SAACS,GACvCxG,EAAkB,2BACbiJ,GADY,IAEf5G,SAAS,2BACJ4G,EAAY5G,UADT,IAENK,MAAO0H,SAAU5D,EAAMC,OAA4B1J,aAoCnDiJ,aAAc,IAEhB,kBAAC,GAAD,CACEtG,GAAG,iBACHmG,MAAM,SACNE,SApCkC,SAACS,GACvCxG,EAAkB,2BACbiJ,GADY,IAEf5G,SAAS,2BACJ4G,EAAY5G,UADT,IAENM,MAAOyH,SAAU5D,EAAMC,OAA4B1J,aAgCnDiJ,aAAc,QC1BPxB,OAAMC,MAzDP,SAAC,GAA+C,IAA7CwE,EAA4C,EAA5CA,YAAajJ,EAA+B,EAA/BA,kBAKtBqK,EAJ6BjM,OAAOG,OACxCsL,KAAKC,eAAeC,IAAIO,OAGIZ,KAAI,SAACpH,GACjC,MAAO,CACLvF,MAAOuF,EAAK5C,GACZmG,MAAOvD,EAAK/F,SA4BhB,OACE,kBAAC,GAAD,CAAWmD,GAAG,QAAQgF,MAAM,QAAQC,MAAI,GACtC,kBAAC2E,GAAD,CACER,QAASuB,EACT3K,GAAG,cACHmG,MAAM,eACNE,SA9BmB,SAACmE,GACxB,IAAMK,EAA4BL,EAC9BA,EAAcR,KAAI,SAACL,GAAD,OAAgCA,EAAOtM,SACzD,GAEJiD,EAAkB,2BACbiJ,GADY,IAEf3G,KAAK,2BACA2G,EAAY3G,MADb,IAEFE,IAAI,YAAK+H,SAsBTxB,SAAO,IAET,4CACA,gEACA,kBAAC,GAAD,CACErJ,GAAG,oBACHmG,MAAM,yBACNE,SAxB+B,SAACS,GACpCxG,EAAkB,2BACbiJ,GADY,IAEf3G,KAAK,2BACA2G,EAAY3G,MADb,IAEFM,aAAcwH,SAAU5D,EAAMC,OAA4B1J,aAoB1DiJ,aAAc,QC7DP9B,GAJCD,aAAO,OAAV,8DAAGA,CAAH,yBC6CEO,OAAMC,MA9BQ,SAAC,GAQhB,IAPZ/E,EAOW,EAPXA,GACAmG,EAMW,EANXA,MACAC,EAKW,EALXA,YACAvJ,EAIW,EAJXA,KACAwJ,EAGW,EAHXA,SACAC,EAEW,EAFXA,aACAC,EACW,EADXA,SAEA,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAOC,QAASxG,GACboG,EACC,kBAAC,GAAD,KAAuBD,GAEvBA,GAGJ,kBAAC,GAAD,CACEnG,GAAIA,EACJnD,KAAMA,GAAcmD,EACpBrC,KAAK,SACL0I,SAAUA,EACVC,aAAcA,EACdC,SAAUA,QC0FHuE,GArHa,SAAC,GAIf,IAHZ1L,EAGW,EAHXA,UACA2L,EAEW,EAFXA,aACAC,EACW,EADXA,aAEMC,EAAyC,CAC7C,CAAE5N,MAAO,MAAO8I,MAAO,OACvB,CAAE9I,MAAO,QAAS8I,MAAO,SACzB,CAAE9I,MAAO,QAAS8I,MAAO,UAGrB+E,EAAuBD,EAAgBvB,MAC3C,SAACC,GAAD,OAAYA,EAAOtM,QAAU+B,EAAUzB,QAGnCwN,EAAmD,CACvD,CAAE9N,MAAO,IAAK8I,MAAO,KACrB,CAAE9I,MAAO,IAAK8I,MAAO,KACrB,CAAE9I,MAAO,IAAK8I,MAAO,KACrB,CAAE9I,MAAO,KAAM8I,MAAO,MACtB,CAAE9I,MAAO,KAAM8I,MAAO,MACtB,CAAE9I,MAAO,MAAO8I,MAAO,OACvB,CAAE9I,MAAO,KAAM8I,MAAO,OAGlBiF,EAA4BD,EAAqBzB,MACrD,SAACC,GAAD,OAAYA,EAAOtM,QAAU+B,EAAUmD,aAsDzC,OACE,6BACE,kBAACqH,GAAD,CACER,QAAS6B,EACTjL,GAAE,wBAAmBZ,EAAUW,KAC/BoG,MAAM,OACNE,SA5CuB,SAACwD,GAC5BkB,EAAa,2BACR3L,GADO,IAEVzB,KAAMkM,EAAaxM,UA0CjBiJ,aAAc4E,IAEhB,kBAACtB,GAAD,CACER,QAAS+B,EACTnL,GAAE,6BAAwBZ,EAAUW,KACpCoG,MAAM,YACNE,SA5C4B,SAChCwD,GAEAkB,EAAa,2BACR3L,GADO,IAEVmD,UAAWsH,EAAaxM,UAwCtBiJ,aAAc8E,IAES,OAAxBhM,EAAUmD,WAA8C,QAAxBnD,EAAUmD,WACzC,kBAAC,GAAD,CACEvC,GAAE,mBAAcZ,EAAUW,KAC1BoG,MAAM,YACNE,SA1C0B,SAACS,GACjCiE,EAAa,2BACR3L,GADO,IAEViM,UAAWX,SAAU5D,EAAMC,OAA4B1J,aA0C9B,OAAxB+B,EAAUmD,WACT,kBAACqH,GAAD,CACER,QA5EyC,CAC/C,CAAE/L,MAAO,IAAK8I,MAAO,WACrB,CAAE9I,MAAO,IAAK8I,MAAO,WACrB,CAAE9I,MAAO,IAAK8I,MAAO,WACrB,CAAE9I,MAAO,IAAK8I,MAAO,WACrB,CAAE9I,MAAO,IAAK8I,MAAO,WACrB,CAAE9I,MAAO,IAAK8I,MAAO,WACrB,CAAE9I,MAAO,IAAK8I,MAAO,WACrB,CAAE9I,MAAO,IAAK8I,MAAO,WACrB,CAAE9I,MAAO,IAAK8I,MAAO,WACrB,CAAE9I,MAAO,IAAK8I,MAAO,YAmEfnG,GAAE,qBAAgBZ,EAAUW,KAC5BoG,MAAM,sBACNE,SA3CsB,SAACmE,GAC7B,IAAMc,EAAuBd,EAAcR,KACzC,SAACL,GAAD,OAAmCe,SAASf,EAAOtM,UAGrD0N,EAAa,2BACR3L,GADO,IAEVP,OAAO,YAAKyM,OAqCRjC,SAAO,IAGX,kBAAC,GAAD,CAAQ7D,QApCkB,WAC5BwF,EAAa5L,KAmCX,YCxGAsH,GAAqB,CACzB6E,cACE9O,GAAQS,gBAAgBmB,eAAesB,sBACpCb,yBACL0M,eACE/O,GAAQS,gBAAgBmB,eAAesB,sBACpCR,0BACLsM,iBACEhP,GAAQS,gBAAgBmB,eAAesB,sBACpCL,6BAuGQqH,gBAtHS,SAAC1J,GAAD,MAAuB,CAC7C4C,WAAY9C,GAAUG,gBAAgBmB,eAAesB,sBAAsBG,8BACzE7C,MAoHoCyJ,GAAzBC,CAA6C7B,IAAMC,MA9FnD,SAAC,GAOF,IAAD,IANXwE,EAMW,EANXA,YACAjJ,EAKW,EALXA,kBACAT,EAIW,EAJXA,WACA0L,EAGW,EAHXA,cACAC,EAEW,EAFXA,eACAC,EACW,EADXA,iBAMMC,EAJ+BhN,OAAOG,OAC1CsL,KAAKC,eAAeC,IAAIsB,OAGO3B,KAAI,SAACnH,GACpC,MAAO,CACLxF,MAAOwF,EAAO7C,GACdmG,MAAM,GAAD,OAAKtD,EAAOhG,KAAZ,aAAqBgG,EAAOlF,KAA5B,SAgCHiO,EAAuB,SAACxM,GAC5BoM,EAAepM,IAGXyM,EAAyB,SAACzM,GAC9BqM,EAAiBrM,IAgBnB,OACE,kBAAC,GAAD,CAAWY,GAAG,SAASgF,MAAM,SAASC,MAAI,GACxC,kBAAC,GAAD,CACEjF,GAAG,wBACHmG,MAAM,kBACNE,SAxCwB,SAACS,GAC7BxG,EAAkB,2BACbiJ,GADY,IAEf1G,OAAO,2BACF0G,EAAY1G,QADX,IAEJM,UAAY2D,EAAME,cAAmCC,cAoCrDR,eAAc,iBAAE8C,QAAF,IAAEA,GAAF,UAAEA,EAAa1G,cAAf,aAAE,EAAqBM,iBAAvB,WAEhB,kBAACyG,GAAD,CACER,QAASsC,EACT1L,GAAG,oBACHmG,MAAM,sBACNE,SA7DqB,SAACmE,GAC1B,IAAMsB,EAA8BtB,EAChCA,EAAcR,KAAI,SAACL,GAAD,OAAgCA,EAAOtM,SACzD,GAEJiD,EAAkB,2BACbiJ,GADY,IAEf1G,OAAO,2BACF0G,EAAY1G,QADX,IAEJC,IAAI,YAAKgJ,SAqDTzC,SAAO,IAET,mDACA,kBAAC,GAAD,CAAQ7D,QAzCgB,WAC1B+F,MAwCE,0BACC1L,EA9B0B,SAACA,GAC9B,OAAOA,EAAWmK,KAAI,SAAC5K,GACrB,OACE,kBAAC,GAAD,CACE2M,IAAK3M,EAAUW,IACfX,UAAWA,EACX2L,aAAca,EACdZ,aAAca,OAwBhBG,CAAuBnM,GAEvB,yDCpHF6G,GAAqB,CACzBpG,kBACE7D,GAAQS,gBAAgBmB,eAAesC,YAAYL,mBAuDxCqG,eACb,KACAD,GAFaC,CAGb7B,IAAMC,MAnDa,SAAC,GAGR,IAFZwE,EAEW,EAFXA,YACAjJ,EACW,EADXA,kBAGM2L,EAAyB,SAACnF,GAC9BxG,EAAkB,2BACbiJ,GADY,IAEfrH,WAAa4E,EAAMC,OAA4B1J,UAInD,OACE,oCACE,kBAAC,GAAD,CAAU0I,OAAO,cAAcC,eAAa,GAC1C,yBAAKP,UAAU,iBACb,2BACE9H,KAAK,QACLd,KAAK,aACLmD,GAAG,UACHyG,gBAAc,EACdpJ,MAAM,UACNgJ,SAAU4F,IAEZ,2BAAOzF,QAAQ,WAAf,YAEF,yBAAKf,UAAU,iBACb,2BACE9H,KAAK,QACLd,KAAK,aACLmD,GAAG,SACH3C,MAAM,SACNgJ,SAAU4F,IAEZ,2BAAOzF,QAAQ,UAAf,YAGwB,WAA3B+C,EAAYrH,YACX,oCACE,kBAAC,GAAD,CAAWqH,YAAaA,EAAajJ,kBAAmBA,IACxD,kBAAC,GAAD,CAAOiJ,YAAaA,EAAajJ,kBAAmBA,IACpD,kBAAC,GAAD,CAAQiJ,YAAaA,EAAajJ,kBAAmBA,UCmDhDwE,OAAMC,MAjGH,SAAC,GAAgD,IAA9CjH,EAA6C,EAA7CA,OAAQoO,EAAqC,EAArCA,wBAKrBhC,EAJqCxL,OAAOG,OAChDsL,KAAKC,eAAeC,IAAIC,WAGYN,KAAI,SAACrH,GACzC,MAAO,CACLtF,MAAOsF,EAAS3C,GAChBmG,MAAM,GAAD,OAAKxD,EAAS9F,KAAd,oBAA8B8F,EAAS4H,MAAvC,SAwDT,OACE,kBAAC,GAAD,CAAWvK,GAAG,YAAYgF,MAAM,YAAYC,MAAI,GAC9C,kBAAC2E,GAAD,CACER,QAASc,EACTlK,GAAG,kBACHmG,MAAM,mBACNE,SA1DuB,SAACmE,GAC5B,IAAMC,EAAgCD,EAClCA,EAAcR,KAAI,SAACL,GAAD,OAAgCA,EAAOtM,SACzD,GAEJ6O,EAAwB,2BACnBpO,GACAY,OAAOyN,OAAO,CACfxJ,SAAS,2BACJ7E,EAAO6E,UADJ,IAENG,IAAI,YAAK2H,UAiDXpB,SAAO,IAET,gDACA,6EACA,kBAAC,GAAD,CACErJ,GAAG,iBACHmG,MAAM,SACNE,SAlDkC,SAACS,GACvCoF,EAAwB,2BACnBpO,GACAY,OAAOyN,OAAO,CACfxJ,SAAS,2BACJ7E,EAAO6E,UADJ,IAENI,MAAO2H,SAAU5D,EAAMC,OAA4B1J,cA6CrDiJ,aAAc,IAEhB,kBAAC,GAAD,CACEtG,GAAG,iBACHmG,MAAM,SACNE,SA5CkC,SAACS,GACvCoF,EAAwB,2BACnBpO,GACAY,OAAOyN,OAAO,CACfxJ,SAAS,2BACJ7E,EAAO6E,UADJ,IAENK,MAAO0H,SAAU5D,EAAMC,OAA4B1J,cAuCrDiJ,aAAc,IAEhB,kBAAC,GAAD,CACEtG,GAAG,iBACHmG,MAAM,SACNE,SAtCkC,SAACS,GACvCoF,EAAwB,2BACnBpO,GACAY,OAAOyN,OAAO,CACfxJ,SAAS,2BACJ7E,EAAO6E,UADJ,IAENM,MAAOyH,SAAU5D,EAAMC,OAA4B1J,cAiCrDiJ,aAAc,QC9BPxB,OAAMC,MA7DP,SAAC,GAAgD,IAA9CjH,EAA6C,EAA7CA,OAAQoO,EAAqC,EAArCA,wBAKjBvB,EAJ6BjM,OAAOG,OACxCsL,KAAKC,eAAeC,IAAIO,OAGIZ,KAAI,SAACpH,GACjC,MAAO,CACLvF,MAAOuF,EAAK5C,GACZmG,MAAOvD,EAAK/F,SAgChB,OACE,kBAAC,GAAD,CAAWmD,GAAG,QAAQgF,MAAM,QAAQC,MAAI,GACtC,kBAAC2E,GAAD,CACER,QAASuB,EACT3K,GAAG,cACHmG,MAAM,eACNE,SAlCmB,SAACmE,GACxB,IAAMK,EAA4BL,EAC9BA,EAAcR,KAAI,SAACL,GAAD,OAAgCA,EAAOtM,SACzD,GAEJ6O,EAAwB,2BACnBpO,GACAY,OAAOyN,OAAO,CACfvJ,KAAK,2BACA9E,EAAO8E,MADR,IAEFE,IAAI,YAAK+H,UAyBXxB,SAAO,IAET,4CACA,gEACA,kBAAC,GAAD,CACErJ,GAAG,oBACHmG,MAAM,yBACNE,SA1B+B,SAACS,GACpCoF,EAAwB,2BACnBpO,GACAY,OAAOyN,OAAO,CACfvJ,KAAK,2BACA9E,EAAO8E,MADR,IAEFM,aAAcwH,SAAU5D,EAAMC,OAA4B1J,cAqB5DiJ,aAAc,QCjDhBI,GAAqB,CACzB6E,cACE9O,GAAQS,gBAAgBmB,eAAesB,sBACpCX,+BACLwM,eACE/O,GAAQS,gBAAgBmB,eAAesB,sBACpCR,0BACLsM,iBACEhP,GAAQS,gBAAgBmB,eAAesB,sBACpCL,6BAgHQqH,gBA/HS,SAAC1J,GAAD,MAAuB,CAC7C4C,WAAY9C,GAAUG,gBAAgBmB,eAAesB,sBAAsBG,8BACzE7C,MA6HoCyJ,GAAzBC,CAA6C7B,IAAMC,MAvGnD,SAAC,GAOF,IAAD,IANXjH,EAMW,EANXA,OACAoO,EAKW,EALXA,wBACArM,EAIW,EAJXA,WACA0L,EAGW,EAHXA,cACAC,EAEW,EAFXA,eACAC,EACW,EADXA,iBAMMC,EAJ+BhN,OAAOG,OAC1CsL,KAAKC,eAAeC,IAAIsB,OAGO3B,KAAI,SAACnH,GACpC,MAAO,CACLxF,MAAOwF,EAAO7C,GACdmG,MAAM,GAAD,OAAKtD,EAAOhG,KAAZ,aAAqBgG,EAAOlF,KAA5B,SAoCHiO,EAAuB,SAACxM,GAC5BoM,EAAepM,IAGXyM,EAAyB,SAACzM,GAC9BqM,EAAiBrM,IAqBnB,OACE,kBAAC,GAAD,CAAWY,GAAG,SAASgF,MAAM,SAASC,MAAI,GACxC,kBAAC,GAAD,CACEjF,GAAG,wBACHmG,MAAM,kBACNE,SA/CwB,SAACS,GAC7BoF,EAAwB,2BACnBpO,GACAY,OAAOyN,OAAO,CACftJ,OAAO,2BACF/E,EAAO+E,QADN,IAEJM,UAAY2D,EAAME,cAAmCC,eA0CvDR,eAAc,iBAAE3I,QAAF,IAAEA,GAAF,UAAEA,EAAQ+E,cAAV,aAAE,EAAgBM,iBAAlB,WAEhB,kBAACyG,GAAD,CACER,QAASsC,EACT1L,GAAG,oBACHmG,MAAM,sBACNE,SAtEqB,SAACmE,GAC1B,IAAMsB,EAA8BtB,EAChCA,EAAcR,KAAI,SAACL,GAAD,OAAgCA,EAAOtM,SACzD,GAEJ6O,EAAwB,2BACnBpO,GACAY,OAAOyN,OAAO,CACftJ,OAAO,2BACF/E,EAAO+E,QADN,IAEJC,IAAI,YAAKgJ,UA6DXzC,SAAO,IAET,mDACA,kBAAC,GAAD,CAAQ7D,QA9CgB,WAC1B+F,EAAczN,EAAOiC,OA6CnB,0BACCF,EAnC0B,SAC7BA,EACAZ,GAEA,OAAOY,EACJuC,QAAO,SAAChD,GAAD,OAAgCA,EAAUH,WAAaA,KAC9D+K,KAAI,SAAC5K,GACJ,OACE,kBAAC,GAAD,CACE2M,IAAK3M,EAAUW,IACfX,UAAWA,EACX2L,aAAca,EACdZ,aAAca,OAwBlBG,CAAuBnM,EAAY/B,EAAOiC,KAE1C,yDCjEO+E,OAAMC,MAxDA,SAAC,GAAmD,IAAjDjH,EAAgD,EAAhDA,OAAQiN,EAAwC,EAAxCA,aAAcC,EAA0B,EAA1BA,aAKtCiB,EAAyB,SAACnF,GAC9B,IAAM5E,EAAc4E,EAAMC,OACvB1J,MAEH0N,EAAa,2BACRjN,GADO,IAEVoE,WAAYA,EACZS,SAAyB,WAAfT,EAA0BpE,EAAO6E,cAAWyJ,EACtDxJ,KAAqB,WAAfV,EAA0BpE,EAAO8E,UAAOwJ,EAC9CvJ,OAAuB,WAAfX,EAA0BpE,EAAO+E,YAASuJ,MAItD,OACE,oCACE,kBAAC,GAAD,CAAUrG,OAAO,cAAcC,eAAa,GAC1C,yBAAKP,UAAU,iBACb,2BACE9H,KAAK,QACLd,KAAI,qBAAgBiB,EAAOiC,KAC3BC,GAAE,kBAAalC,EAAOiC,KACtB0G,gBAAc,EACdpJ,MAAM,UACNgJ,SAAU4F,IAEZ,2BAAOzF,QAAO,kBAAa1I,EAAOiC,MAAlC,YAEF,yBAAK0F,UAAU,iBACb,2BACE9H,KAAK,QACLd,KAAI,qBAAgBiB,EAAOiC,KAC3BC,GAAE,iBAAYlC,EAAOiC,KACrB1C,MAAM,SACNgJ,SAAU4F,IAEZ,2BAAOzF,QAAO,iBAAY1I,EAAOiC,MAAjC,YAGmB,WAAtBjC,EAAOoE,YACN,oCACE,kBAAC,GAAD,CAAWpE,OAAQA,EAAQoO,wBAAyBnB,IACpD,kBAAC,GAAD,CAAOjN,OAAQA,EAAQoO,wBAAyBnB,IAChD,kBAAC,GAAD,CAAQjN,OAAQA,EAAQoO,wBAAyBnB,KAIrD,kBAAC,GAAD,CAAQvF,QAlDqB,WAC/BwF,EAAalN,KAiDX,qBC7CA4I,GAAqB,CACzB2F,gBACE5P,GAAQS,gBAAgBmB,eAAeC,kBACpCZ,qBACL4O,iBACE7P,GAAQS,gBAAgBmB,eAAeC,kBACpCT,sBACL0O,mBACE9P,GAAQS,gBAAgBmB,eAAeC,kBACpCN,wBACLsC,kBACE7D,GAAQS,gBAAgBmB,eAAesC,YAAYL,mBA0VxCqG,gBA3WS,SAAC1J,GAAD,MAAuB,CAC7CuP,cAAezP,GAAUG,gBAAgBmB,eAAeC,kBAAkBM,0BACxE3B,MA2WFyJ,GAFaC,CAGb7B,IAAMC,MA9Ua,SAAC,GAOR,IAAD,gBANXwE,EAMW,EANXA,YACAiD,EAKW,EALXA,cACAlM,EAIW,EAJXA,kBACA+L,EAGW,EAHXA,gBACAC,EAEW,EAFXA,iBACAC,EACW,EADXA,mBAEAE,qBAAU,WACRnM,EAAkB,2BACbiJ,GADY,IAEfnG,KAAM,EACNE,YAAa,CACX3F,KAAM,WAERgF,SAAU,CACR4H,MAAO,EACPmC,aAAa,QAIhB,IAEH,IAIMC,EAJkCjO,OAAOG,OAC7CsL,KAAKC,eAAeC,IAAIuC,SAGS5C,KAAI,SAAC6C,GACtC,MAAO,CACLxP,MAAOwP,EAAQ7M,GACfmG,MAAO0G,EAAQhQ,SAQbiQ,EAJ0EpO,OAAOG,OACrFsL,KAAKC,eAAeC,IAAI0C,2BAGkD/C,KAC1E,SAACgD,GACC,MAAO,CACL3P,MAAO2P,EAAyBhN,GAChCmG,MAAO6G,EAAyBnQ,SAKhCoQ,EAA6C,CACjD,CAAE5P,MAAO,IAAK8I,MAAO,WACrB,CAAE9I,MAAO,IAAK8I,MAAO,WACrB,CAAE9I,MAAO,IAAK8I,MAAO,YAGjB+G,EAAyB,UAC7BD,EAAqBvD,MACnB,SAACC,GAAD,aAAYA,EAAOtM,SAAP,OAAiBkM,QAAjB,IAAiBA,GAAjB,UAAiBA,EAAa5G,gBAA9B,aAAiB,EAAuB4H,MAAM4C,sBAF/B,QAGxBF,EAAqBvD,MAAK,SAACC,GAAD,MAA6B,MAAjBA,EAAOtM,SAE9C+P,EAAaZ,EAAcpK,QAC/B,SAACtE,GAAD,MAAsD,QAAhBA,EAAOH,QAGzC0P,EAAcb,EAAcpK,QAChC,SAACtE,GAAD,MAAsD,SAAhBA,EAAOH,QAGzC2P,EAAyB,SAACxG,GAC9BxG,EAAkB,2BACbiJ,GADY,IAEfnG,KAAMsH,SACH5D,EAAMC,OAA4B1J,WAqBnCkQ,EAA8B,SAACzG,GACnCxG,EAAkB,2BACbiJ,GADY,IAEfjG,YAAY,2BACPiG,EAAYjG,aADN,IAET3F,KAAOmJ,EAAMC,OACV1J,YAiEHmQ,EAAwB,SAAC7P,GAC7B0O,EAAgB1O,IAGZ8P,EAAyB,SAAC3P,GAC9BwO,EAAiBxO,IAGb4P,EAA2B,SAAC5P,GAChCyO,EAAmBzO,IAGf6P,EAAsB,SAAClP,GAC3B,OAAOA,EAAQuL,KAAI,SAAClM,GAClB,OACE,kBAAC,GAAD,CACEiO,IAAKjO,EAAOiC,IACZjC,OAAQA,EACRiN,aAAc0C,EACdzC,aAAc0C,QAMtB,OACE,oCACE,kBAAC,GAAD,CAAU3H,OAAO,cAAcC,eAAa,GAC1C,yBAAKP,UAAU,iBACb,2BACE9H,KAAK,QACLd,KAAK,aACLmD,GAAG,cACHyG,gBAAc,EACdpJ,MAAM,IACNgJ,SAAUiH,IAEZ,2BAAO9G,QAAQ,eAAf,MAEF,yBAAKf,UAAU,iBACb,2BACE9H,KAAK,QACLd,KAAK,aACLmD,GAAG,cACH3C,MAAM,IACNgJ,SAAUiH,IAEZ,2BAAO9G,QAAQ,eAAf,MAEF,yBAAKf,UAAU,iBACb,2BACE9H,KAAK,QACLd,KAAK,aACLmD,GAAG,cACH3C,MAAM,IACNgJ,SAAUiH,IAEZ,2BAAO9G,QAAQ,eAAf,MAEF,yBAAKf,UAAU,iBACb,2BACE9H,KAAK,QACLd,KAAK,aACLmD,GAAG,cACH3C,MAAM,IACNgJ,SAAUiH,IAEZ,2BAAO9G,QAAQ,eAAf,OAGJ,kBAACoD,GAAD,CACER,QAASuD,EACT3M,GAAG,gBACHmG,MAAM,iBACNE,SAjKwB,SAACwD,GAC7BvJ,EAAkB,2BACbiJ,GADY,IAEflG,UAAWwG,EAAaxM,YAgKxB,kBAAC,GAAD,CACE2C,GAAG,SACHmG,MAAM,eACNE,SA/JqB,SAACS,GAC1BxG,EAAkB,2BACbiJ,GADY,IAEf/F,SAASsD,EAAME,cAAmCC,SAC9C,WA4JFR,eAAc,UAA0B,UAAb,OAAX8C,QAAW,IAAXA,OAAA,EAAAA,EAAa/F,eAAf,WAEhB,kBAAC,GAAD,CACExD,GAAG,eACHmG,MAAM,gBACNE,SA5F2B,SAACS,GAChCxG,EAAkB,2BACbiJ,GADY,IAEfhG,aAAcuD,EAAMC,OAAO1J,UA0FzBiJ,aAAciD,EAAYhG,eAE5B,6CACA,kBAAC,GAAD,CAAUwC,OAAO,gBAAgBC,eAAa,GAC5C,yBAAKP,UAAU,iBACb,2BACE9H,KAAK,QACLd,KAAK,kBACLmD,GAAG,qBACHyG,gBAAc,EACdpJ,MAAM,UACNgJ,SAAUkH,IAEZ,2BAAO/G,QAAQ,sBAAf,YAEF,yBAAKf,UAAU,iBACb,2BACE9H,KAAK,QACLd,KAAK,kBACLmD,GAAG,oBACH3C,MAAM,SACNgJ,SAAUkH,IAEZ,2BAAO/G,QAAQ,qBAAf,YAGgC,YAAxB,OAAX+C,QAAW,IAAXA,GAAA,UAAAA,EAAajG,mBAAb,eAA0B3F,MACzB,kBAACiM,GAAD,CACER,QAAS0D,EACT9M,GAAG,kCACHmG,MAAM,sCACNE,SApKsB,SAACmE,GAC7B,IAAMoD,EAA+BpD,EACjCA,EAAcR,KAAI,SAACL,GAAD,OAAgCA,EAAOtM,SACzD,GAEJiD,EAAkB,2BACbiJ,GADY,IAEfjG,YAAY,2BACPiG,EAAYjG,aADN,IAETR,IACmC,YAAjCyG,EAAYjG,YAAY3F,KACpB,KADJ,YAEQiQ,SAyJRvE,SAAO,IAGT,kBAAC,GAAD,CACErJ,GAAG,YACHmG,MAAM,aACNE,SAxLsB,SAACS,GAC7BxG,EAAkB,2BACbiJ,GADY,IAEfjG,YAAY,2BACPiG,EAAYjG,aADN,IAETuK,UACmC,WAAjCtE,EAAYjG,YAAY3F,KACpB,KACCmJ,EAAME,cAAmCC,cAiL9CR,eAAc,iBAAE8C,QAAF,IAAEA,GAAF,UAAEA,EAAajG,mBAAf,aAAE,EAA0BuK,iBAA5B,WAGlB,wCACA,kBAAC,GAAD,CACE7N,GAAG,cACHmG,MAAM,eACNE,SAlK0B,SAACS,GAC/BxG,EAAkB,2BACbiJ,GADY,IAEf5G,SAAS,2BACJ4G,EAAY5G,UADT,IAEN+J,YAAc5F,EAAME,cAAmCC,QACvDsD,MAAQzD,EAAME,cAAmCC,QAC7CsC,EAAY5G,SAAS4H,MACrB,QA2JJ9D,eAAc,iBAAE8C,QAAF,IAAEA,GAAF,UAAEA,EAAa5G,gBAAf,aAAE,EAAuB+J,mBAAzB,YAGJ,OAAXnD,QAAW,IAAXA,GAAA,UAAAA,EAAa5G,gBAAb,eAAuB+J,cACtB,kBAAC9C,GAAD,CACER,QAAS6D,EACTjN,GAAG,sBACHmG,MAAM,gBACNE,SA9J0B,SAACwD,GACjCvJ,EAAkB,2BACbiJ,GADY,IAEf5G,SAAS,2BACJ4G,EAAY5G,UADT,IAEN4H,MAAOG,SAASb,EAAaxM,aA0J3BiJ,aAAc4G,IAIlB,2CACuB,IAAtBE,EAAWU,OACVH,EAAoBP,GAEpB,kBAAC,GAAD,CAAQ5H,QAAS,kBAAMgI,EAAsB,SAA7C,qBAKF,4CACA,kBAAC,GAAD,CAAQhI,QAAS,kBAAMgI,EAAsB,UAA7C,qBAICH,EACCM,EAAoBN,GAEpB,yDC7TO1G,gBA1CS,SAAC1J,GAAD,MAAuB,CAC7CsM,YAAaxM,GAAUG,gBAAgBmB,eAAesC,YAAYD,oBAChEzD,MAwCW0J,CAAyB7B,IAAMC,MAlCjC,SAAC,GAA4B,IAA1BwE,EAAyB,EAAzBA,YAuBd,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAUxD,OAAO,YACf,kBAAC,GAAD,CAAYwD,YAAaA,IAzBV,SAACnJ,GACpB,OAAQA,EAAOzC,MACb,IAAK,YACH,OACE,kBAAC,GAAD,CAAiB4L,YAAaA,IAIlC,IAAK,SACH,OAAO,kBAAC,GAAD,CAAcA,YAAaA,IAGpC,IAAK,SACH,OAAO,kBAAC,GAAD,CAAcA,YAAaA,IAGpC,QACE,OAAO,sCAUNwE,CAAaxE,SC7BhB7C,GAAqB,CACzBvF,UAAW1E,GAAQS,gBAAgBmB,eAAemD,SAASL,UAC3DX,iBACE/D,GAAQS,gBAAgBmB,eAAesC,YAAYH,iBACrDtC,uBACEzB,GAAQS,gBAAgBmB,eAAeC,kBACpCJ,uBACL8P,4BACEvR,GAAQS,gBAAgBmB,eAAesB,sBACpCH,4BAyFQmH,gBA9GS,SAAC1J,GAAD,MAAuB,CAC7CsM,YAAaxM,GAAUG,gBAAgBmB,eAAesC,YAAYD,oBAChEzD,GAEFgR,mBAAoBlR,GAAUG,gBAAgBmB,eAAeC,kBAAkBM,0BAC7E3B,GAEFiR,uBAAwBnR,GAAUG,gBAAgBmB,eAAesB,sBAAsBG,8BACrF7C,MAsGoCyJ,GAAzBC,CAA6C7B,IAAMC,MAjFnD,SAAC,GASF,IARZoJ,EAQW,EARXA,MACA5E,EAOW,EAPXA,YACA0E,EAMW,EANXA,mBACAC,EAKW,EALXA,uBACA/M,EAIW,EAJXA,UACAX,EAGW,EAHXA,iBACAtC,EAEW,EAFXA,uBACA8P,EACW,EADXA,4BAiEA,OACE,oCACE,kBAAC,GAAD,CAAQxI,QATS,WACnBhF,IACAtC,IACA8P,IACAG,EAAMrF,SAKJ,UACA,kBAAC,GAAD,CAAQtD,QAlEY,WACtB,IAAM9B,EAAauK,EAAmBvE,MACpC,SAAC5L,GAAD,MAAsD,QAAhBA,EAAOH,QAGzC8F,EAAcwK,EAAmB7L,QACrC,SAACtE,GAAD,MAAsD,SAAhBA,EAAOH,QAGzCyQ,EAAS,2BACV7E,GADU,IAEb1G,OAAO,2BACD0G,EAAmC1G,QADnC,IAEJhD,WAAW,YACNqO,EAAuB9L,QACxB,SAACiM,GAAD,YAA6CjC,IAAlBiC,EAAKpP,eAItCyE,WAAW,2BACNA,GADK,IAERb,OAAO,2BAAD,OACDa,QADC,IACDA,OADC,EACDA,EAAYb,QADX,IAEJhD,WAAW,YACNqO,EAAuB9L,QAAO,SAACiM,GAChC,OAAOA,EAAKpP,YAAL,OAAkByE,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAY3D,aAK7C0D,YAAY,YACPA,EAAYuG,KAAI,SAACsE,GAClB,OAAO,2BACFA,GADL,IAEEzL,OAAO,2BAAD,OACDyL,QADC,IACDA,OADC,EACDA,EAAQzL,QADP,IAEJhD,WAAW,YACNqO,EAAuB9L,QAAO,SAACiM,GAChC,OAAOA,EAAKpP,YAAL,OAAkBqP,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAQvO,mBAS/CoB,EAAU,eACJiN,IAEN5N,IACAtC,IACA8P,IACAG,EAAMrF,SAaJ,mBC1FShE,OAAMC,MAbE,SAAC,GAEV,IADZoJ,EACW,EADXA,MAGA,OACE,kBAACA,EAAMnF,YAAP,CACEnB,WAAW,aACXE,OAAQ,kBAAC,GAAD,CAAQoG,MAAOA,KACvB,kBAAC,GAAD,UCFAzH,GAAqB,CACzBzG,eACExD,GAAQS,gBAAgBmB,eAAesC,YAAYV,gBA2BxC0G,gBAnCS,SAAC1J,GAAD,MAAuB,CAC7CyE,SAAU3E,GAAUG,gBAAgBmB,eAAemD,SAASG,YAC1D1E,MAmCFyJ,GAFaC,CAGb7B,IAAMC,MAzBS,SAAC,GAAwC,EAAtCrD,SAAuC,IAA7BzB,EAA4B,EAA5BA,eACtBsO,EAAiB9F,KAOvB,OACE,kBAAC,GAAD,CAAWzI,GAAG,WAAWgF,MAAM,WAAWC,MAAI,GAC5C,kBAAC,GAAD,CACEtH,KAAK,SACL6Q,MAAO,CAAEC,QAAS,SAClBjJ,QAVkB,WACtB+I,EAAexF,OACf9I,MAKE,cAOA,kBAAC,GAAD,CAAgBkO,MAAOI,SCtBvB7H,GAAqB,CACzBrF,aAAc5E,GAAQS,gBAAgBmB,eAAemD,SAASH,aAC9DT,iBACEnE,GAAQS,gBAAgBmB,eAAe6C,cAAcN,kBAwK1C+F,gBApLS,SAAC1J,GAAD,MAAuB,CAC7CyE,SAAU3E,GAAUG,gBAAgBmB,eAAemD,SAASG,YAC1D1E,GAEFyR,cAAe3R,GAAUG,gBAAgBmB,eAAe6C,cAAcD,iBACpEhE,MAiLFyJ,GAFaC,CAGb7B,IAAMC,MAtKgB,SAAC,GAKX,IAJZrD,EAIW,EAJXA,SACAgN,EAGW,EAHXA,cACArN,EAEW,EAFXA,aACAT,EACW,EADXA,iBAEM+N,EAA2BjN,EAASsI,KAAI,SAAC5J,GAC7C,MAAO,CACL/C,MAAO+C,EAAOJ,GACdmG,MAAM,GAAD,OAAK/F,EAAOJ,GAAZ,aAAmBI,EAAOzC,KAA1B,SAQHiR,EAAmC,SACvC/E,GAKA,IAAMgF,EAAiBnN,EAASgI,MAC9B,SAACtJ,GAAD,OAAYA,EAAOJ,KAAO6J,EAAaiF,mBAGnCC,GACU,OAAdF,QAAc,IAAdA,OAAA,EAAAA,EAAgBnM,aAAhB,OACAmM,QADA,IACAA,OADA,EACAA,EAAgBnM,UAAUsH,KAAI,SAACC,GAC7B,OAAIA,EAASlK,MAAQ8J,EAAamF,WACzB,2BACF/E,GADL,IAEEgF,aAAcpF,EAAaxM,QAGtB4M,MAIb5I,EAAa,2BACRwN,GADO,IAEVnM,UAAWqM,EACXE,aACEF,GACAA,EAAa/E,KAAI,SAACC,GAAD,OAA8BA,EAASgF,oBAIxDC,EAA2B,SAC/BrF,GAEA,IAAMgF,EAAiBnN,EAASgI,MAC9B,SAACtJ,GAAD,OAAYA,EAAOJ,KAAO6J,EAAaiF,mBAGzCzN,EAAa,2BACRwN,GADO,IAEVI,aAAcpF,EAAaxM,UAI/B,OACE,kBAAC,GAAD,CAAW2C,GAAG,kBAAkBgF,MAAM,mBAAmBC,MAAI,GAC1DvD,EAASoM,OAAS,EACjB,oCACE,mGAGA,kBAAClE,GAAD,CACER,QAASuF,EACT3O,GAAG,gBACHmG,MAAM,kBACNE,SA5DwB,SAACwD,GACjCjJ,EAAiBiJ,EAAaxM,UA6DxB,4BACGqE,EAASsI,KAAI,SAAC5J,GACb,IAAM+O,EAAmBzN,EACtBU,QACC,SAACgN,GAAD,OACEA,EAAgBpP,KAAOI,EAAOJ,IAC9BoP,EAAgBpP,KAAO0O,KAE1B1E,KAAI,SAACoF,GACJ,MAAO,CACL/R,MAAO+R,EAAgBpP,GACvBmG,MAAM,GAAD,OAAKiJ,EAAgBpP,GAArB,aAA4BoP,EAAgBzR,KAA5C,KACLmR,gBAAiB1O,EAAOJ,OAI9B,OAAQI,EAAOzC,MACb,IAAK,YACH,IAAM0R,EAAkBjP,EAExB,OACE,wBAAI2L,IAAK3L,EAAOJ,IACd,kCAAQI,EAAOJ,IACf,oCAAUI,EAAOzC,MAChB0R,EAAgB3M,UACf,oCACE,yCACA,4BACG2M,EAAgB3M,UAAUsH,KACzB,SAACC,GACC,IAAMqF,EAAkBH,EAAiBnF,KACvC,SAACuF,GACC,OAAO,2BACFA,GADL,IAEEP,WAAY/E,EAASlK,SAK3B,OACE,wBAAIgM,IAAK9B,EAASlK,KACfkK,EAASxH,KACV,kBAACmH,GAAD,CACER,QAASkG,EACTtP,GAAE,uBAAkBI,EAAOL,IAAzB,YAAgCkK,EAASlK,KAC3CoG,MAAM,iBACNE,SACEuI,UAUhB,4CAMR,QACE,OACE,wBAAI7C,IAAK3L,EAAOJ,IACd,kCAAQI,EAAOJ,IACf,oCAAUI,EAAOzC,MACjB,kBAACiM,GAAD,CACER,QAAS+F,EACTnP,GAAE,uBAAkBI,EAAOL,KAC3BoG,MAAM,iBACNE,SAAU6I,WAU1B,qDCpLOM,GAJS,SAACC,GACvB3L,OAAO4L,UAAUC,UAAUC,UAAUH,I,SCOxBI,GANI,SAACJ,EAAc5S,GAChC,IAAMiT,EAAO,IAAIC,KAAK,CAACN,GAAO,CAAE9R,KAAM,4BAEtC,OAAOqS,kBAAOF,EAAD,UAAUjT,EAAV,WCOA2H,GAVCD,aAAO,OAAV,0DAAGA,CAAH,mGCME0L,GANH1L,aAAO,OAAV,yDAAGA,CAAH,+DCifMoC,gBAteS,SAAC1J,GAAD,MAAuB,CAC7CJ,KAAME,GAAUG,gBAAgBC,KAAKH,kBAAkBC,GACvD4J,uBAAwB9J,GAAUG,gBAAgBM,uBAAuBD,0BACvEN,GAEFyE,SAAU3E,GAAUG,gBAAgBmB,eAAemD,SAASG,YAC1D1E,GAEFyR,cAAe3R,GAAUG,gBAAgBmB,eAAe6C,cAAcD,iBACpEhE,MA6dW0J,CAAyB7B,IAAMC,MArd9B,SAAC,GAMH,IAAD,IALXmL,gBAKW,MALA,aAKA,EAJXrT,EAIW,EAJXA,KACAgK,EAGW,EAHXA,uBACA6H,EAEW,EAFXA,cA6aMyB,EAAO,CACXtT,KAAMA,EACNgK,uBAAwBA,EACxBuJ,eAAgB,CACd1B,cAAeA,GAAgC,GAC/ChN,SAhbO,EADXA,SAE8BY,QAAO,SAACZ,EAAUtB,GAC9C,OAAQA,EAAOzC,MACb,IAAK,YACH,IAAM0R,EAAkBjP,EAElBgO,EAAY,CAChBzQ,KAAMyC,EAAOzC,KACbG,OAAQ,CACN2E,KAAM4M,EAAgB5M,KACtBC,YAAW2M,EAAgB3M,WACvB2M,EAAgB3M,UAAUsH,KAAI,SAACC,GAAD,OAAcA,EAASxH,UAW7D,OANI4M,EAAgBJ,cAClBvQ,OAAOyN,OAAOiC,EAAUtQ,OAAQ,CAC9BmR,aAAcI,EAAgBJ,eAI3B,2BACFvN,GADL,kBAEGtB,EAAOJ,GAAKoO,IAIjB,IAAK,SACH,IAAMiC,EAAejQ,EAEfgO,EAAY,CAChBzQ,KAAMyC,EAAOzC,KACbG,OAAQ,CACNH,KAAM0S,EAAanO,aAIjBoO,EAC4B,IAAhCD,EAAa1N,SAASI,MAClBwN,MAAMF,EAAa1N,SAASI,OAAOyN,KAAK,CACtCC,QAAQ,EACRlG,MAAO,IAET,GAEAmG,EAC4B,IAAhCL,EAAa1N,SAASK,MAClBuN,MAAMF,EAAa1N,SAASK,OAAOwN,KAAK,CACtCC,QAAQ,EACRlG,MAAO,IAET,GAEAoG,EAC4B,IAAhCN,EAAa1N,SAASM,MAClBsN,MAAMF,EAAa1N,SAASM,OAAOuN,KAAK,CACtCC,QAAQ,EACRlG,MAAO,IAET,IAGJ8F,EAAa1N,SAASG,IAAIgL,OAAS,GACnCwC,EAAqBxC,OAAS,GAC9B4C,EAAqB5C,OAAS,GAC9B6C,EAAqB7C,OAAS,IAE9BpP,OAAOyN,OAAOiC,EAAUtQ,OAAQ,CAC9B6E,SAAU,CACRG,IAAI,GAAD,mBACEuN,EAAa1N,SAASG,KADxB,YAEEwN,GAFF,YAGEI,GAHF,YAIEC,OAMX,IAAMC,EAC+B,IAAnCP,EAAazN,KAAKM,aACdqN,MAAMF,EAAazN,KAAKM,cAAcsN,KAAK,CACzCC,QAAQ,IAEV,GAUN,IARIJ,EAAazN,KAAKE,IAAIgL,OAAS,GAAK8C,EAAiB9C,OAAS,IAChEpP,OAAOyN,OAAOiC,EAAUtQ,OAAQ,CAC9B8E,KAAM,CACJE,IAAI,GAAD,mBAAMuN,EAAazN,KAAKE,KAAxB,YAAgC8N,OAMvCP,EAAaxN,OAAOC,IAAIgL,OAAS,GACjCuC,EAAaxN,OAAOhD,WAAWiO,OAAS,EACxC,CACA,IAAMjO,EAAawQ,EAAaxN,OAAOhD,WAAWmK,KAChD,SAAC5K,GACC,MAAO,CACLzB,KAAMyB,EAAUzB,KAChB4E,UAAWnD,EAAUmD,UACrB8I,UAAWjM,EAAUiM,UACrBxM,OAAQO,EAAUP,WAKxBH,OAAOyN,OAAOiC,EAAUtQ,OAAQ,CAC9B+E,OAAQ,CACNC,IAAI,GAAD,mBAAMuN,EAAaxN,OAAOC,KAA1B,YAAkCjD,IACrCsD,UAAWkN,EAAaxN,OAAOM,aAWrC,OANIkN,EAAapB,cACfvQ,OAAOyN,OAAOiC,EAAUtQ,OAAQ,CAC9BmR,aAAcoB,EAAapB,eAIxB,2BACFvN,GADL,kBAEGtB,EAAOJ,GAAKoO,IAIjB,IAAK,SAAW,IAAD,EACPyC,EAAezQ,EAEfgO,EAAY,CAChBzQ,KAAMyC,EAAOzC,KACbG,OAAQ,CACNsF,KAAMyN,EAAazN,KACnBE,YAAauN,EAAavN,YAC1BX,SAAU,CACR4H,MAAOsG,EAAalO,SAAS4H,MAC7BmC,YAAamE,EAAalO,SAAS+J,eAoBzC,GAfAmE,EAAaxN,WACX3E,OAAOyN,OAAOiC,EAAUtQ,OAAQ,CAC9BuF,UAAWwN,EAAaxN,YAG5BwN,EAAatN,cACX7E,OAAOyN,OAAOiC,EAAUtQ,OAAQ,CAC9ByF,aAAcsN,EAAatN,eAG/BsN,EAAarN,QACX9E,OAAOyN,OAAOiC,EAAUtQ,OAAQ,CAC9B0F,OAAQqN,EAAarN,SAGzB,OAAIqN,QAAJ,IAAIA,GAAJ,UAAIA,EAAcnN,kBAAlB,aAAI,EAA0BoN,eAAe,cAAe,CAAC,IAAD,8DACpDC,EAAoB,GACpBC,EAAgB,GAChBC,EAAkB,GAElBC,EAAoB,oBACxBL,EAAanN,kBADW,iBACxB,EAAyBf,gBADD,aACxB,EAAmCG,WADX,QACkB,GAEtCqO,GACJ,UAAAN,EAAanN,kBAAb,mBAAyBf,gBAAzB,eAAmCI,QACU,KAA7C,UAAA8N,EAAanN,kBAAb,mBAAyBf,gBAAzB,eAAmCI,OAC/BwN,MAAMM,EAAanN,WAAWf,SAASI,OAAOyN,KAAK,CACjDC,QAAQ,EACRlG,MAAO,IAET,GAEA6G,GACJ,UAAAP,EAAanN,kBAAb,mBAAyBf,gBAAzB,eAAmCK,QACU,KAA7C,UAAA6N,EAAanN,kBAAb,mBAAyBf,gBAAzB,eAAmCK,OAC/BuN,MAAMM,EAAanN,WAAWf,SAASK,OAAOwN,KAAK,CACjDC,QAAQ,EACRlG,MAAO,IAET,GAEA8G,IACJ,UAAAR,EAAanN,kBAAb,mBAAyBf,gBAAzB,eAAmCM,QACU,KAA7C,UAAA4N,EAAanN,kBAAb,mBAAyBf,gBAAzB,eAAmCM,OAC/BsN,MAAMM,EAAanN,WAAWf,SAASM,OAAOuN,KAAK,CACjDC,QAAQ,EACRlG,MAAO,IAET,IAGJ2G,EAAqBpD,OAAS,GAC9BqD,EAA8BrD,OAAS,GACvCsD,EAA8BtD,OAAS,GACvCuD,GAA8BvD,OAAS,IAEvCpP,OAAOyN,OAAO4E,EAAmB,CAC/BjO,IAAI,GAAD,mBACEoO,GADF,YAEEC,GAFF,YAGEC,GAHF,YAIEC,OAKT,IAAMC,GAAgB,oBAAGT,EAAanN,kBAAhB,iBAAG,EAAyBd,YAA5B,aAAG,EAA+BE,WAAlC,QAAyC,GAEzDyO,IACJ,UAAAV,EAAanN,kBAAb,mBAAyBd,YAAzB,eAA+BM,eACiB,KAAhD,UAAA2N,EAAanN,kBAAb,mBAAyBd,YAAzB,eAA+BM,cAC3BqN,MAAMM,EAAanN,WAAWd,KAAKM,cAAcsN,KAAK,CACpDC,QAAQ,IAEV,IAGJa,GAAiBxD,OAAS,GAC1ByD,GAA0BzD,OAAS,IAEnCpP,OAAOyN,OAAO6E,EAAe,CAC3BlO,IAAI,GAAD,mBAAMwO,IAAN,YAA2BC,OAIlC,IAAMC,GAAkB,oBAAGX,EAAanN,kBAAhB,iBAAG,EAAyBb,cAA5B,aAAG,EAAiCC,WAApC,QAA2C,GAC7D2O,GAAyB,oBAC7BZ,EAAanN,kBADgB,iBAC7B,EAAyBb,cADI,aAC7B,EAAiChD,kBADJ,QACkB,GAC3C6R,GAAwB,oBAC5Bb,EAAanN,kBADe,iBAC5B,EAAyBb,cADG,aAC5B,EAAiCM,iBADL,SAG9B,GACEqO,GAAmB1D,OAAS,GAC5B2D,GAA0B3D,OAAS,EACnC,CACA,IAAMjO,GAAa4R,GAA0BzH,KAC3C,SAAC5K,GACC,MAAO,CACLzB,KAAMyB,EAAUzB,KAChB4E,UAAWnD,EAAUmD,UACrB8I,UAAWjM,EAAUiM,UACrBxM,OAAQO,EAAUP,WAKxBH,OAAOyN,OAAO8E,EAAiB,CAC7BnO,IAAI,GAAD,mBAAM0O,IAAN,YAA6B3R,KAChCsD,UAAWuO,KAIfhT,OAAOyN,OAAOiC,EAAUtQ,OAAQ,CAC9B4F,WACEhF,OAAOC,KAAKkS,EAAanN,YAAYoK,OAAS,EAC1C,CACEnQ,KAAMkT,EAAanN,WAAWxB,WAC9BS,SACEjE,OAAOC,KAAKoS,GAAmBjD,OAAS,EACpCiD,OACA3E,EACNxJ,KACElE,OAAOC,KAAKqS,GAAelD,OAAS,EAChCkD,OACA5E,EACNvJ,OACEnE,OAAOC,KAAKsS,GAAiBnD,OAAS,EAClCmD,OACA7E,QAERA,IAuIV,OAnIAyE,EAAapN,aACX/E,OAAOyN,OAAOiC,EAAUtQ,OAAQ,CAC9B2F,YACEoN,EAAapN,YAAYqK,OAAS,EAC9B+C,EAAapN,YAAYuG,KACvB,SAAC2H,GAAoC,IAAD,oCAC5BC,EAAqB,GACrBC,EAAiB,GACjBC,EAAmB,GAEnBC,EAAqB,iBACzBJ,QADyB,IACzBA,GADyB,UACzBA,EAAYhP,gBADa,aACzB,EAAsBG,WADG,QACI,GAEzBkP,GACM,OAAVL,QAAU,IAAVA,GAAA,UAAAA,EAAYhP,gBAAZ,eAAsBI,QACU,KAAtB,OAAV4O,QAAU,IAAVA,GAAA,UAAAA,EAAYhP,gBAAZ,eAAsBI,OAClBwN,MAAMoB,EAAWhP,SAASI,OAAOyN,KAAK,CACpCC,QAAQ,EACRlG,MAAO,IAET,GAEA0H,GACM,OAAVN,QAAU,IAAVA,GAAA,UAAAA,EAAYhP,gBAAZ,eAAsBK,QACU,KAAtB,OAAV2O,QAAU,IAAVA,GAAA,UAAAA,EAAYhP,gBAAZ,eAAsBK,OAClBuN,MAAMoB,EAAWhP,SAASK,OAAOwN,KAAK,CACpCC,QAAQ,EACRlG,MAAO,IAET,GAEA2H,GACM,OAAVP,QAAU,IAAVA,GAAA,UAAAA,EAAYhP,gBAAZ,eAAsBM,QACU,KAAtB,OAAV0O,QAAU,IAAVA,GAAA,UAAAA,EAAYhP,gBAAZ,eAAsBM,OAClBsN,MAAMoB,EAAWhP,SAASM,OAAOuN,KAAK,CACpCC,QAAQ,EACRlG,MAAO,IAET,IAGJwH,EAAsBjE,OAAS,GAC/BkE,EAA+BlE,OAAS,GACxCmE,EAA+BnE,OAAS,GACxCoE,EAA+BpE,OAAS,IAExCpP,OAAOyN,OAAOyF,EAAoB,CAChC9O,IAAI,GAAD,mBACEiP,GADF,YAEEC,GAFF,YAGEC,GAHF,YAIEC,MAKT,IAAMC,EAAiB,iBAAGR,QAAH,IAAGA,GAAH,UAAGA,EAAY/O,YAAf,aAAG,EAAkBE,WAArB,QAA4B,GAE7CsP,GACM,OAAVT,QAAU,IAAVA,GAAA,UAAAA,EAAY/O,YAAZ,eAAkBM,eACiB,KAAzB,OAAVyO,QAAU,IAAVA,GAAA,UAAAA,EAAY/O,YAAZ,eAAkBM,cACdqN,MAAMoB,EAAW/O,KAAKM,cAAcsN,KAAK,CACvCC,QAAQ,IAEV,IAGJ0B,EAAkBrE,OAAS,GAC3BsE,EAA2BtE,OAAS,IAEpCpP,OAAOyN,OAAO0F,EAAgB,CAC5B/O,IAAI,GAAD,mBACEqP,GADF,YAEEC,MAKT,IAAMC,EAAmB,iBAAGV,QAAH,IAAGA,GAAH,UAAGA,EAAY9O,cAAf,aAAG,EAAoBC,WAAvB,QAA8B,GACjDwP,EAA0B,iBAC9BX,QAD8B,IAC9BA,GAD8B,UAC9BA,EAAY9O,cADkB,aAC9B,EAAoBhD,kBADU,QACI,GAC9B0S,EAAyB,iBAC7BZ,QAD6B,IAC7BA,GAD6B,UAC7BA,EAAY9O,cADiB,aAC7B,EAAoBM,iBADS,SAG/B,GACEkP,EAAoBvE,OAAS,GAC7BwE,EAA2BxE,OAAS,EACpC,CACA,IAAMjO,EAAayS,EAA2BtI,KAC5C,SAAC5K,GACC,MAAO,CACLzB,KAAMyB,EAAUzB,KAChB4E,UAAWnD,EAAUmD,UACrB8I,UAAWjM,EAAUiM,UACrBxM,OAAQO,EAAUP,WAKxBH,OAAOyN,OAAO2F,EAAkB,CAC9BhP,IAAI,GAAD,mBAAMuP,GAAN,YAA8BxS,IACjCsD,UAAWoP,IAIf,MAAO,CACL5U,KAAMgU,EAAWzP,WACjBS,SACEjE,OAAOC,KAAKiT,GAAoB9D,OAAS,EACrC8D,OACAxF,EACNxJ,KACElE,OAAOC,KAAKkT,GAAgB/D,OAAS,EACjC+D,OACAzF,EACNvJ,OACEnE,OAAOC,KAAKmT,GAAkBhE,OAAS,EACnCgE,OACA1F,WAIZA,IAGNyE,EAAa5B,cACfvQ,OAAOyN,OAAOiC,EAAUtQ,OAAQ,CAC9BmR,aAAc4B,EAAa5B,eAIxB,2BACFvN,GADL,kBAEGtB,EAAOJ,GAAKoO,IAIjB,QACE,OAAO,2BACF1M,GADL,kBAEGtB,EAAOJ,GAAK,CACXrC,KAAMyC,EAAOzC,WAKpB,MAWH+Q,GACEhQ,OAAOyN,OAAOgE,EAAKC,eAAgB,CACjC1B,cAAeA,IAWnB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KAAM8D,KAAKC,UAAUtC,EAAM,KAAM,OAEjC,kBAAC,GAAD,CAAQxS,KAAK,SAAS6H,QAZI,WAC5BgK,GAAgBgD,KAAKC,UAAUtC,EAAM,KAAM,SAWzC,qBAGA,kBAAC,GAAD,CAAQxS,KAAK,SAAS6H,QAXP,WACjBqK,GAAW2C,KAAKC,UAAUtC,EAAM,KAAM,MAAOD,KAU3C,qBCleS1L,GARCD,aAAO,OAAV,8DAAGA,CAAH,2ECQEmO,GARFnO,aAAO,QAAV,uDAAGA,CAAH,6DCsBKO,OAAMC,MAdA,WACnB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,OAGF,kBAAC,GAAD,UCbSP,GAJCD,aAAO,OAAV,0DAAGA,CAAH,mBCcEoO,GAVC,WACd,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,sCACA,kBAAC,GAAD,MACA,yBAAK3S,GAAG,iBCKC4S,GAPH,kBACV,kBAAC,KAAD,CAAeC,MAAOzO,IACpB,kBAAC,GAAD,MACA,kBAAC,GAAD,QCDE0O,GCNiB,SAACrV,GAEtB,IAEMsV,EAAY,CAACC,IAAe,WAAf,EAFQ,IAEyBC,eAE9CC,EAOAC,IASN,OANcC,EADcC,KAE1B1P,GACAlG,EACAyV,EAAgB,WAAhB,EAAoBH,IDbVO,CAAe7V,GAE7B0K,IAASoL,OACP,kBAAC,IAAD,CAAUT,MAAOA,IACf,kBAAC,GAAD,OAEF7K,SAASC,eAAe,SxE0HpB,kBAAmBwH,WACrBA,UAAU8D,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLC,QAAQD,MAAMA,EAAME,c","file":"static/js/main.fcd4d966.chunk.js","sourcesContent":["import { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { LoopReducer } from 'redux-loop'\n\n///////////\n// STATE //\n///////////\n\nexport type State = string\nexport const initialState: State = \"\"\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  SET_EXPEDITION_NAME = 'DraftExpedition/Name/SET_EXPEDITION_NAME',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  setExpeditionName: (name: string) =>\n    createAction(ActionTypes.SET_EXPEDITION_NAME, name),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.SET_EXPEDITION_NAME: {\n      return action.payload\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport type NameStateSlice = {\n  DraftExpedition: {\n    Name: State\n  }\n}\n\nconst getExpeditionName = (state: NameStateSlice) => state.DraftExpedition.Name\n\nexport const selectors = {\n  getExpeditionName,\n}\n","import { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { LoopReducer } from 'redux-loop'\n\n///////////\n// STATE //\n///////////\n\nexport type State = boolean\nexport const initialState: State = false\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  SET_BIG_POCKET_VARIANT_CONFIG = 'DraftExpedition/BigPocketVariantConfig/SET_BIG_POCKET_VARIANT_CONFIG',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  setBigPocketVariantConfig: (value: boolean) =>\n    createAction(ActionTypes.SET_BIG_POCKET_VARIANT_CONFIG, value),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.SET_BIG_POCKET_VARIANT_CONFIG: {\n      return action.payload\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport type BigPocketVariantConfigStateSlice = {\n  DraftExpedition: {\n    BigPocketVariantConfig: State\n  }\n}\n\nconst getBigPocketVariantConfig = (state: BigPocketVariantConfigStateSlice) => state.DraftExpedition.BigPocketVariantConfig\n\nexport const selectors = {\n  getBigPocketVariantConfig,\n}\n","import { LoopReducer } from 'redux-loop'\nimport { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { createSelector } from 'reselect'\nimport shortid from 'shortid'\n\nimport * as types from 'types'\n\n///////////\n// STATE //\n///////////\n\nexport type State = {\n  [id: string]: types.BattleRewardConfig\n}\n\nexport const initialState: State = {}\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  DRAFT_ADD_REWARD_CONFIG = 'DraftExpedition/SequenceConfig/DraftRewardConfig/DRAFT_ADD_REWARD_CONFIG',\n  DRAFT_EDIT_REWARD_CONFIG = 'DraftExpedition/SequenceConfig/DraftRewardConfig/DRAFT_EDIT_REWARD_CONFIG',\n  DRAFT_DELETE_REWARD_CONFIG = 'DraftExpedition/SequenceConfig/DraftRewardConfig/DRAFT_DELETE_REWARD_CONFIG',\n  CLEAR_DRAFT_REWARD_CONFIG = 'DraftExpedition/SequenceConfig/DraftRewardConfig/CLEAR_DRAFT_REWARD_CONFIG',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  draftAddRewardConfig: (type: types.BattleRewardConfigType) =>\n    createAction(ActionTypes.DRAFT_ADD_REWARD_CONFIG, type),\n  draftEditRewardConfig: (config: types.BattleRewardConfig) =>\n    createAction(ActionTypes.DRAFT_EDIT_REWARD_CONFIG, config),\n  draftDeleteRewardConfig: (config: types.BattleRewardConfig) =>\n    createAction(ActionTypes.DRAFT_DELETE_REWARD_CONFIG, config),\n  clearDraftRewardConfig: () =>\n    createAction(ActionTypes.CLEAR_DRAFT_REWARD_CONFIG),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.DRAFT_ADD_REWARD_CONFIG: {\n      const id = shortid.generate()\n\n      return {\n        [id]: {\n          _id: id,\n          type: action.payload,\n          rewardType: 'regular',\n        },\n        ...state,\n      }\n    }\n\n    case ActionTypes.DRAFT_EDIT_REWARD_CONFIG: {\n      const { _id } = action.payload\n\n      return {\n        ...state,\n        [_id]: action.payload,\n      }\n    }\n\n    case ActionTypes.DRAFT_DELETE_REWARD_CONFIG: {\n      const { _id } = action.payload\n      const configs = Object.values(state)\n\n      const newConfigs = configs.filter(\n        (config: types.BattleRewardConfig) => config._id !== _id\n      )\n\n      const newState = newConfigs.reduce(\n        (configs: State, config: types.BattleRewardConfig) => {\n          return {\n            ...configs,\n            [config._id]: config,\n          }\n        },\n        {}\n      )\n\n      return newState\n    }\n\n    case ActionTypes.CLEAR_DRAFT_REWARD_CONFIG: {\n      return initialState\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport type DraftRewardConfigStateSlice = {\n  DraftExpedition: {\n    SequenceConfig: {\n      DraftRewardConfig: State\n    }\n  }\n}\n\nconst getDraftRewardConfigState = (state: DraftRewardConfigStateSlice) =>\n  state.DraftExpedition.SequenceConfig.DraftRewardConfig\n\nconst getDraftRewardConfigIds = createSelector(\n  [getDraftRewardConfigState],\n  (configs) => Object.keys(configs)\n)\n\nconst getDraftRewardConfigArray = createSelector(\n  [getDraftRewardConfigState],\n  (configs) => Object.values(configs)\n)\n\nexport const selectors = {\n  getDraftRewardConfigState,\n  getDraftRewardConfigIds,\n  getDraftRewardConfigArray,\n}\n","import { LoopReducer } from 'redux-loop'\nimport { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\nimport { createSelector } from 'reselect'\nimport shortid from 'shortid'\n\nimport * as types from 'types'\n\n///////////\n// STATE //\n///////////\n\nexport type State = {\n  [id: string]: types.Blueprint\n}\n\nexport const initialState: State = {}\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  DRAFT_ADD_REWARD_SUPPLY_CARD = 'DraftExpedition/SequenceConfig/DraftRewardSupplyCard/DRAFT_ADD_REWARD_SUPPLY_CARD',\n  DRAFT_ADD_BATTLE_REWARD_SUPPLY_CARD = 'DraftExpedition/SequenceConfig/DraftRewardSupplyCard/DRAFT_ADD_BATTLE_REWARD_SUPPLY_CARD',\n  DRAFT_EDIT_REWARD_SUPPLY_CARD = 'DraftExpedition/SequenceConfig/DraftRewardSupplyCard/DRAFT_EDIT_REWARD_SUPPLY_CARD',\n  DRAFT_DELETE_REWARD_SUPPLY_CARD = 'DraftExpedition/SequenceConfig/DraftRewardSupplyCard/DRAFT_DELETE_REWARD_SUPPLY_CARD',\n  CLEAR_DRAFT_REWARD_SUPPLY_CARD = 'DraftExpedition/SequenceConfig/DraftRewardSupplyCard/CLEAR_DRAFT_REWARD_SUPPLY_CARD',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  draftAddRewardSupplyCard: () =>\n    createAction(ActionTypes.DRAFT_ADD_REWARD_SUPPLY_CARD),\n  draftAddBattleRewardSupplyCard: (configId: string) =>\n    createAction(ActionTypes.DRAFT_ADD_BATTLE_REWARD_SUPPLY_CARD, configId),\n  draftEditRewardSupplyCard: (blueprint: types.Blueprint) =>\n    createAction(ActionTypes.DRAFT_EDIT_REWARD_SUPPLY_CARD, blueprint),\n  draftDeleteRewardSupplyCard: (blueprint: types.Blueprint) =>\n    createAction(ActionTypes.DRAFT_DELETE_REWARD_SUPPLY_CARD, blueprint),\n  clearDraftRewardSupplyCard: () =>\n    createAction(ActionTypes.CLEAR_DRAFT_REWARD_SUPPLY_CARD),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.DRAFT_ADD_REWARD_SUPPLY_CARD: {\n      const id = shortid.generate()\n\n      return {\n        [id]: {\n          _id: id,\n          type: 'Gem',\n          operation: 'ANY',\n        },\n        ...state,\n      }\n    }\n\n    case ActionTypes.DRAFT_ADD_BATTLE_REWARD_SUPPLY_CARD: {\n      const id = shortid.generate()\n\n      return {\n        [id]: {\n          _id: id,\n          configId: action.payload,\n          type: 'Gem',\n          operation: 'ANY',\n        },\n        ...state,\n      }\n    }\n\n    case ActionTypes.DRAFT_EDIT_REWARD_SUPPLY_CARD: {\n      const { _id } = action.payload\n\n      return {\n        ...state,\n        [_id]: action.payload,\n      }\n    }\n\n    case ActionTypes.DRAFT_DELETE_REWARD_SUPPLY_CARD: {\n      const { _id } = action.payload\n      const blueprints = Object.values(state)\n\n      const newBlueprints = blueprints.filter(\n        (blueprint: types.Blueprint) => blueprint._id !== _id\n      )\n\n      const newState = newBlueprints.reduce(\n        (blueprints: State, blueprint: types.Blueprint) => {\n          return {\n            ...blueprints,\n            [blueprint._id]: blueprint,\n          }\n        },\n        {}\n      )\n\n      return newState\n    }\n\n    case ActionTypes.CLEAR_DRAFT_REWARD_SUPPLY_CARD: {\n      return initialState\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport type DraftRewardSupplyCardStateSlice = {\n  DraftExpedition: {\n    SequenceConfig: {\n      DraftRewardSupplyCard: State\n    }\n  }\n}\n\nconst getDraftRewardSupplyCardState = (\n  state: DraftRewardSupplyCardStateSlice\n) => state.DraftExpedition.SequenceConfig.DraftRewardSupplyCard\n\nconst getDraftRewardSupplyCardIds = createSelector(\n  [getDraftRewardSupplyCardState],\n  (blueprints) => Object.keys(blueprints)\n)\n\nconst getDraftRewardSupplyCardArray = createSelector(\n  [getDraftRewardSupplyCardState],\n  (blueprints) => Object.values(blueprints)\n)\n\nexport const selectors = {\n  getDraftRewardSupplyCardState,\n  getDraftRewardSupplyCardIds,\n  getDraftRewardSupplyCardArray,\n}\n","import { LoopReducer } from 'redux-loop'\nimport { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\n\nimport * as types from 'types'\nimport shortid from 'shortid'\n\n///////////\n// STATE //\n///////////\n\nexport type State = types.BranchBase | types.NarrativeBranch\nexport const initialState: State = {\n  _id: '',\n  id: '',\n  type: 'narrative',\n}\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  DRAFT_ADD_BRANCH = 'DraftExpedition/SequenceConfig/DraftBranch/DRAFT_ADD_BRANCH',\n  DRAFT_EDIT_BRANCH = 'DraftExpedition/SequenceConfig/DraftBranch/DRAFT_EDIT_BRANCH',\n  CLEAR_DRAFT_BRANCH = 'DraftExpedition/SequenceConfig/DraftBranch/CLEAR_DRAFT_BRANCH',\n  UPDATE_DRAFT_BRANCH = 'DraftExpedition/SequenceConfig/DraftBranch/UPDATE_DRAFT_BRANCH',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  draftAddBranch: () =>\n    createAction(ActionTypes.DRAFT_ADD_BRANCH),\n  draftEditBranch: (branch: types.BranchBase | types.Branch) =>\n    createAction(ActionTypes.DRAFT_EDIT_BRANCH, branch),\n  updateDraftBranch: (branch: types.BranchBase | types.Branch) =>\n    createAction(ActionTypes.UPDATE_DRAFT_BRANCH, branch),\n  clearDraftBranch: () =>\n    createAction(ActionTypes.CLEAR_DRAFT_BRANCH),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.DRAFT_ADD_BRANCH: {\n      return {\n        ...state,\n        _id: shortid.generate()\n      }\n    }\n\n    case ActionTypes.DRAFT_EDIT_BRANCH: {\n      return action.payload\n    }\n\n    case ActionTypes.UPDATE_DRAFT_BRANCH: {\n      return action.payload\n    }\n\n    case ActionTypes.CLEAR_DRAFT_BRANCH: {\n      return initialState\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport type DraftBranchStateSlice = {\n  DraftExpedition: {\n    SequenceConfig: {\n      DraftBranch: State\n    }\n  }\n}\n\nconst getDraftBranchState = (state: DraftBranchStateSlice) => state.DraftExpedition.SequenceConfig.DraftBranch\n\nexport const selectors = {\n  getDraftBranchState\n}","import { LoopReducer } from 'redux-loop'\nimport { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\n\n///////////\n// STATE //\n///////////\n\nexport type State = string | null\n\nexport const initialState: State = null\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  SET_FIRST_BRANCH_ID = 'DraftExpedition/SequenceConfig/FirstBranchId/SET_FIRST_BRANCH_ID',\n  CLEAR_FIRST_BRANCH_ID = 'DraftExpedition/SequenceConfig/FirstBranchId/CLEAR_FIRST_BRANCH_ID',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  setFirstBranchId: (branchId: string) =>\n    createAction(ActionTypes.SET_FIRST_BRANCH_ID, branchId),\n  clearFirstBranchId: () => createAction(ActionTypes.CLEAR_FIRST_BRANCH_ID),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.SET_FIRST_BRANCH_ID: {\n      return action.payload\n    }\n\n    case ActionTypes.CLEAR_FIRST_BRANCH_ID: {\n      return initialState\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport type FirstBranchIdStateSlice = {\n  DraftExpedition: {\n    SequenceConfig: {\n      FirstBranchId: State\n    }\n  }\n}\n\nconst getFirstBranchId = (state: FirstBranchIdStateSlice) =>\n  state.DraftExpedition.SequenceConfig.FirstBranchId\n\nexport const selectors = {\n  getFirstBranchId,\n}\n","import { createSelector } from 'reselect'\nimport { LoopReducer } from 'redux-loop'\nimport { createAction, ActionsUnion } from '@martin_hotell/rex-tils'\n\nimport * as types from 'types'\n\n///////////\n// STATE //\n///////////\n\nexport type State = types.Branches | {}\nexport const initialState: State = {}\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport enum ActionTypes {\n  ADD_BRANCH = 'DraftExpedition/SequenceConfig/Branches/ADD_BRANCH',\n  UPDATE_BRANCH = 'DraftExpedition/SequenceConfig/Branches/UPDATE_BRANCH',\n}\n\nexport const actions = {\n  noOp: () => createAction('NOOP'),\n  addBranch: (\n    branch: types.NarrativeBranch | types.RewardBranch | types.BattleBranch\n  ) => createAction(ActionTypes.ADD_BRANCH, branch),\n  updateBranch: (\n    branch: types.NarrativeBranch | types.RewardBranch | types.BattleBranch\n  ) => createAction(ActionTypes.UPDATE_BRANCH, branch),\n}\n\nexport type Action = ActionsUnion<typeof actions>\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer: LoopReducer<State, Action> = (\n  state: State = initialState,\n  action: Action\n) => {\n  switch (action.type) {\n    case ActionTypes.ADD_BRANCH: {\n      const { _id, id, type } = action.payload\n\n      switch (type) {\n        case 'narrative': {\n          const { text, decisions } = action.payload as types.NarrativeBranch\n\n          return {\n            ...state,\n            [_id]: {\n              _id,\n              id: id ? id : _id,\n              type,\n              text: text ? text : '',\n              decisions: decisions ? [...decisions] : false,\n            },\n          }\n        }\n\n        case 'reward': {\n          const {\n            rewardType,\n            treasure,\n            mage,\n            supply,\n          } = action.payload as types.RewardBranch\n\n          return {\n            ...state,\n            [_id]: {\n              _id,\n              id: id ? id : _id,\n              type,\n              rewardType: rewardType ? rewardType : 'regular',\n              treasure: {\n                ids: treasure?.ids ?? [],\n                tier1: treasure?.tier1 ?? 0,\n                tier2: treasure?.tier2 ?? 0,\n                tier3: treasure?.tier3 ?? 0,\n              },\n              mage: {\n                ids: mage?.ids ?? [],\n                randomAmount: mage?.randomAmount ?? 0,\n              },\n              supply: {\n                ids: supply?.ids ? supply.ids : [],\n                blueprints: supply?.blueprints ?? [],\n                bigPocket: supply?.bigPocket,\n              },\n            },\n          }\n        }\n\n        case 'battle': {\n          const {\n            tier,\n            nemesisId,\n            newUBNCards,\n            treasure,\n            specialRules,\n            onLoss,\n            lossRewards,\n            winRewards,\n          } = action.payload as types.BattleBranch\n\n          return {\n            ...state,\n            [_id]: {\n              _id,\n              id: id ? id : _id,\n              tier,\n              type,\n              nemesisId: nemesisId ?? '',\n              newUBNCards,\n              treasure,\n              specialRules,\n              onLoss: onLoss && 'skip',\n              lossRewards: lossRewards,\n              winRewards: winRewards,\n            },\n          }\n        }\n\n        default: {\n          return {\n            ...state,\n            [_id]: {\n              _id,\n              id,\n              type,\n            },\n          }\n        }\n      }\n    }\n\n    case ActionTypes.UPDATE_BRANCH: {\n      const { _id } = action.payload\n\n      return {\n        ...state,\n        [_id]: action.payload,\n      }\n    }\n\n    default: {\n      return state\n    }\n  }\n}\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport type BranchesStateSlice = {\n  DraftExpedition: {\n    SequenceConfig: {\n      Branches: State\n    }\n  }\n}\n\nconst getBranchesState = (state: BranchesStateSlice) =>\n  state.DraftExpedition.SequenceConfig.Branches\n\nconst getBranchIds = createSelector([getBranchesState], (branches) =>\n  Object.keys(branches)\n)\n\nconst getBranches = createSelector([getBranchesState], (branches) =>\n  Object.values(branches)\n)\n\nexport const selectors = {\n  getBranchesState,\n  getBranchIds,\n  getBranches,\n}\n","import { combineReducers } from 'redux-loop'\n\nimport * as DraftRewardConfig from './DraftRewardConfig'\nimport * as DraftRewardSupplyCard from './DraftRewardSupplyCard'\nimport * as DraftBranch from './DraftBranch'\nimport * as FirstBranchId from './FirstBranchId'\nimport * as Branches from './Branches'\n\n///////////\n// STATE //\n///////////\n\nexport type State = {\n  DraftRewardConfig: DraftRewardConfig.State\n  DraftRewardSupplyCard: DraftRewardSupplyCard.State\n  DraftBranch: DraftBranch.State\n  FirstBranchId: FirstBranchId.State\n  Branches: Branches.State\n}\n\nexport const initialState = {\n  DraftRewardConfig: DraftRewardConfig.initialState,\n  DraftRewardSupplyCard: DraftRewardSupplyCard.initialState,\n  DraftBranch: DraftBranch.initialState,\n  FirstBranchId: FirstBranchId.initialState,\n  Branches: Branches.initialState,\n}\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport const actions = {\n  DraftRewardConfig: DraftRewardConfig.actions,\n  DraftRewardSupplyCard: DraftRewardSupplyCard.actions,\n  DraftBranch: DraftBranch.actions,\n  FirstBranchId: FirstBranchId.actions,\n  Branches: Branches.actions,\n}\n\nexport type Action =\n  | DraftRewardConfig.Action\n  | DraftRewardSupplyCard.Action\n  | DraftBranch.Action\n  | FirstBranchId.Action\n  | Branches.Action\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer = combineReducers({\n  DraftRewardConfig: DraftRewardConfig.Reducer,\n  DraftRewardSupplyCard: DraftRewardSupplyCard.Reducer,\n  DraftBranch: DraftBranch.Reducer,\n  FirstBranchId: FirstBranchId.Reducer,\n  Branches: Branches.Reducer,\n})\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport const selectors = {\n  DraftRewardConfig: DraftRewardConfig.selectors,\n  DraftRewardSupplyCard: DraftRewardSupplyCard.selectors,\n  DraftBranch: DraftBranch.selectors,\n  FirstBranchId: FirstBranchId.selectors,\n  Branches: Branches.selectors,\n}\n","import { combineReducers } from 'redux-loop'\n\nimport * as Name from './Name'\nimport * as BigPocketVariantConfig from './BigPocketVariantConfig'\nimport * as SequenceConfig from './SequenceConfig'\n\n///////////\n// STATE //\n///////////\n\nexport type State = {\n  Name: Name.State\n  BigPocketVariantConfig: BigPocketVariantConfig.State\n  SequenceConfig: SequenceConfig.State\n}\n\nexport const initialState = {\n  Name: Name.initialState,\n  BigPocketVariantConfig: BigPocketVariantConfig.initialState,\n  SequenceConfig: SequenceConfig.initialState,\n}\n\n/////////////\n// ACTIONS //\n/////////////\n\nexport const actions = {\n  Name: Name.actions,\n  BigPocketVariantConfig: BigPocketVariantConfig.actions,\n  SequenceConfig: SequenceConfig.actions,\n}\n\nexport type Action =\n  | Name.Action\n  | BigPocketVariantConfig.Action\n  | SequenceConfig.Action\n\n/////////////\n// REDUCER //\n/////////////\n\nexport const Reducer = combineReducers({\n  Name: Name.Reducer,\n  BigPocketVariantConfig: BigPocketVariantConfig.Reducer,\n  SequenceConfig: SequenceConfig.Reducer,\n})\n\n///////////////\n// SELECTORS //\n///////////////\n\nexport const selectors = {\n  Name: Name.selectors,\n  BigPocketVariantConfig: BigPocketVariantConfig.selectors,\n  SequenceConfig: SequenceConfig.selectors,\n}\n","import { combineReducers, reduceReducers } from 'redux-loop'\n\nimport * as DraftExpedition from 'Redux/Store/DraftExpedition'\n\nexport type RootState = {\n  DraftExpedition: DraftExpedition.State\n}\n\nexport const initialState = {\n  DraftExpedition: DraftExpedition.initialState\n}\n\nexport const actions = {\n  DraftExpedition: DraftExpedition.actions,\n}\n\nexport type RootAction =\n  | DraftExpedition.Action\n\nexport const RootReducer = reduceReducers(\n  combineReducers<RootState>({\n    DraftExpedition: DraftExpedition.Reducer,\n  })\n)\n\nexport const selectors = {\n  DraftExpedition: DraftExpedition.selectors\n}\n\n\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { createGlobalStyle } from 'styled-components'\n\nconst GlobalStyle = createGlobalStyle`\n  *,\n  ::after, \n  ::before {\n    box-sizing: border-box;\n  }\n\n  body {\n    font-family: 'Roboto', Arial, sans-serif;\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-font-smoothing: antialiased;\n    text-rendering: optimizeLegibility;\n    margin: 0;\n    padding: 0;\n  }\n`\nexport default GlobalStyle\n","const mainTheme = {\n  colors: {}\n}\n\nexport default mainTheme\n","\n\nimport styled from 'styled-components/macro'\n\nconst H1 = styled('h1')`\n  color: #2196f3;\n  margin-top: 0;\n`\n\nexport default H1\n","import styled from 'styled-components/macro'\n\nconst Wrapper = styled('div')`\n  margin-bottom: 16px;\n`\n\nexport default Wrapper\n","import styled from 'styled-components/macro'\n\nconst Header = styled('h3')`\n  border-bottom: 1px solid #dadada;\n  margin: 0;\n`\n\nexport default Header\n","import styled from 'styled-components/macro'\n\nconst Button = styled('button')`\n  height: 32px;\n  padding: 0 8px;\n  cursor: pointer;\n  font-family: 'Roboto';\n`\n\nexport default Button\n","import styled from 'styled-components/macro'\n\nimport Button from 'components/atoms/Button'\n\nconst Summary = styled(Button)`\n  height: auto;\n  font-size: 1.5rem;\n  font-weight: 100;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 8px 0;\n  position: relative;\n  outline: 0;\n  border: none;\n  background: transparent;\n`\n\nexport default Summary\n","import styled from 'styled-components/macro'\n\nconst Content = styled('div')`\n  padding-top: 16px;\n`\n\nexport default Content\n","import styled from 'styled-components/macro'\n\nconst SummaryIcon = styled('span')`\n  position: absolute;\n  right: 8px;\n`\n\nexport default SummaryIcon\n","import React, { useState } from 'react'\n\nimport Wrapper from './__styled__/Wrapper'\nimport Header from './__styled__/Header'\nimport Summary from './__styled__/Summary'\nimport Content from './__styled__/Content'\nimport SummaryIcon from './__styled__/SummaryIcon'\n\ntype Props = {\n  id: string\n  title: string\n  open?: boolean\n  children: React.ReactNode\n}\n\nconst Accordion = ({\n  id,\n  title,\n  open,\n  children\n}: Props) => {\n  const [isOpen, setIsOpen] = useState<boolean>(open ? open : false)\n\n  const handleClick = () => {\n    setIsOpen(!isOpen)\n  }\n\n  return (\n    <Wrapper>\n      <Header>\n        <Summary\n          id={`${id}Summary`}\n          type=\"button\"\n          aria-expanded={isOpen ? 'true' : 'false'}\n          aria-controls={`${id}Content`}\n          onClick={handleClick}\n        >\n          {title}\n          <SummaryIcon className=\"material-icons\">\n            {isOpen ? 'expand_less' : 'expand_more'}\n          </SummaryIcon>\n        </Summary>\n      </Header>\n      <Content\n        id={`${id}Content`}\n        role=\"region\"\n        aria-labelledby={`${id}Summary`}\n        hidden={isOpen ? false : true}\n      >\n        { children }\n      </Content>\n    </Wrapper>\n  )\n}\n\nexport default React.memo(Accordion)\n","import styled from 'styled-components/macro'\n\nconst ScreenReaderOnlyText = styled('span')`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n`\n\nexport default ScreenReaderOnlyText\n","import styled from 'styled-components/macro'\n\nconst Wrapper = styled('fieldset')`\n  padding: 0;\n  border: none;\n`\n\nexport default Wrapper\n","import styled from 'styled-components/macro'\n\nconst Legend = styled('legend')`\n  padding: 0;\n`\n\nexport default Legend\n","import React from 'react'\n\nimport ScreenReaderOnlyText from 'components/atoms/ScreenReaderOnlyText'\nimport Wrapper from './__styled__/Wrapper'\nimport Legend from './__styled__/Legend'\n\ntype Props = {\n  legend: string\n  legendVisible?: boolean\n  children: React.ReactNode\n}\n\nconst Fieldset = ({\n  legend,\n  legendVisible,\n  children,\n}: Props) => {\n  return (\n    <Wrapper>\n      <Legend>\n        {\n          legendVisible \n            ? (legend) \n            : (<ScreenReaderOnlyText>{legend}</ScreenReaderOnlyText>)\n        }\n      </Legend>\n      {children}\n    </Wrapper>\n  )\n}\n\nexport default React.memo(Fieldset)\n","import styled from 'styled-components/macro'\n\nconst Label = styled('label')`\n  display: block;\n  font-family: 'Roboto';\n  font-size: 12px;\n  margin-bottom: 4px;\n`\n\nexport default Label\n","import styled from 'styled-components/macro'\n\nconst Input = styled('input')`\n  height: 32px;\n  width: 100%;\n  padding: 0 8px;\n  font-family: 'Roboto';\n  border: 1px solid #dadada;\n`\n\nexport default Input\n","import styled from 'styled-components/macro'\n\nconst Wrapper = styled('div')`\n  margin-bottom: 16px;\n`\n\nexport default Wrapper\n","import React from 'react'\n\nimport ScreenReaderOnlyText from 'components/atoms/ScreenReaderOnlyText'\nimport Label from 'components/atoms/Label'\nimport Input from 'components/atoms/Input'\nimport Wrapper from './__styled__/Wrapper'\n\ntype Props = {\n  id: string\n  label: string\n  labelHidden?: boolean\n  name?: string\n  onChange: (event: any) => void\n  defaultValue?: any\n  required?: boolean\n}\n\nconst FormGroupInputText = ({\n  id,\n  label,\n  labelHidden,\n  name,\n  onChange,\n  defaultValue,\n  required,\n}: Props) => {\n  return (\n    <Wrapper>\n      <Label htmlFor={id}>\n        {labelHidden ? (\n          <ScreenReaderOnlyText>{label}</ScreenReaderOnlyText>\n        ) : (\n          label\n        )}\n      </Label>\n      <Input\n        id={id}\n        name={name ? name : id}\n        type=\"text\"\n        onChange={onChange}\n        defaultValue={defaultValue}\n        required={required}\n      />\n    </Wrapper>\n  )\n}\n\nexport default React.memo(FormGroupInputText)\n","import styled from 'styled-components/macro'\n\nimport Label from 'components/atoms/Label'\n\nconst Wrapper = styled('div')`\n  margin-bottom: 16px;\n\n  ${Label} {\n    font-size: 16px;\n    margin-bottom: 0;\n  }\n\n  input {\n    margin: 0 8px 0 0;\n  }\n`\n\nexport default Wrapper\n","import React from 'react'\n\nimport ScreenReaderOnlyText from 'components/atoms/ScreenReaderOnlyText'\nimport Label from 'components/atoms/Label'\nimport Wrapper from './__styled__/Wrapper'\n\ntype Props = {\n  id: string\n  label: string\n  labelHidden?: boolean\n  name?: string\n  onChange: (event: any) => void\n  defaultChecked: boolean\n}\n\nconst FormGroupCheckbox = ({\n  id,\n  label,\n  labelHidden,\n  name,\n  onChange,\n  defaultChecked,\n}: Props) => {\n  return (\n    <Wrapper>\n      <Label htmlFor={id}>\n        <input\n          id={id}\n          type=\"checkbox\"\n          name={name ? name : id}\n          onChange={onChange}\n          defaultChecked={defaultChecked}\n        />\n        {labelHidden ? (\n          <ScreenReaderOnlyText>{label}</ScreenReaderOnlyText>\n        ) : (\n          label\n        )}\n      </Label>\n    </Wrapper>\n  )\n}\n\nexport default React.memo(FormGroupCheckbox)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport { RootState, selectors, actions } from 'Redux/Store'\n\nimport Accordion from 'components/organisms/Accordion'\nimport Fieldset from 'components/molecules/Fieldset'\nimport FormGroupInputText from 'components/molecules/FormGroupInputText'\nimport FormGroupCheckbox from 'components/molecules/FormGroupCheckbox'\n\nconst mapStateToProps = (state: RootState) => ({\n  expeditionName: selectors.DraftExpedition.Name.getExpeditionName(state),\n  bigPocketVariantConfig: selectors.DraftExpedition.BigPocketVariantConfig.getBigPocketVariantConfig(\n    state\n  ),\n})\n\nconst mapDispatchToProps = {\n  setExpeditionName: actions.DraftExpedition.Name.setExpeditionName,\n  setBigPocketVariantConfig:\n    actions.DraftExpedition.BigPocketVariantConfig.setBigPocketVariantConfig,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> & typeof mapDispatchToProps & {}\n\nconst BasicInformation = ({\n  expeditionName,\n  bigPocketVariantConfig,\n  setExpeditionName,\n  setBigPocketVariantConfig,\n}: Props) => {\n\n  const handleNameChange = (event: any) => {\n    setExpeditionName(event.target.value)\n  }\n\n  const handleBigPocketChange = (event: any) => {\n    setBigPocketVariantConfig(event.currentTarget.checked)\n  }\n\n  return (\n    <Accordion id=\"basicInformation\" title=\"Basic Information\" open>\n      <Fieldset legend=\"Basic Information\">\n        <FormGroupInputText\n          id=\"expeditionName\"\n          label=\"Expedition Name\"\n          onChange={handleNameChange}\n          defaultValue={expeditionName}\n        />\n        <FormGroupCheckbox\n          id=\"bigPocketVariantConfig\"\n          label=\"Big Pocket Mode\"\n          onChange={handleBigPocketChange}\n          defaultChecked={bigPocketVariantConfig}\n        />\n      </Fieldset>\n    </Accordion>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BasicInformation)\n","import styled from 'styled-components'\n\nconst Wrapper = styled('div')`\n  height: 100%;\n  width: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 10000;\n  padding: 24px;\n`\n\nexport default Wrapper\n","import styled from 'styled-components'\n\nconst Backdrop = styled('div')`\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  background: rgb(0, 0, 0, 0.3);\n`\n\nexport default Backdrop\n","import styled from 'styled-components'\n\nconst Content = styled('div')`\n  margin: auto;\n  height: 100%;\n  width: 100%;\n  background: #fff;\n  box-shadow: 0 0 10px 2px rgba(0, 0, 0, 0.2);\n  border-radius: 8px;\n  position: relative;\n`\n\nexport default Content\n","import styled from 'styled-components'\n\nconst Header = styled('div')`\n  margin: auto;\n  height: 64px;\n  width: 100%;\n  padding: 0 24px;\n  position: relative;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n`\n\nexport default Header\n","import styled from 'styled-components'\n\ntype Props = {\n  hasFooter?: boolean\n}\n\nconst Body = styled('div')<Props>`\n  height: ${props => props.hasFooter ? 'calc(100% - (64px * 2))' : 'calc(100% - 64px)'};\n`\n\nexport default Body\n","import styled from 'styled-components/macro'\n\nconst H2 = styled('h2')`\n  color: #2196f3;\n`\n\nexport default H2\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport H2 from 'components/atoms/H2'\n\ntype Props = {\n  themeColor: string\n}\n\n// NOTE: we need to take away additional props, so that they are not passed\n// to DOM elements by MUI Components (we really should get rid of MUI...)\nconst Title = styled(({ themeColor, ...rest }) => <H2 {...rest} />)<Props>`\n  color: ${props => props.themeColor};\n  margin: 0;\n`\n\nexport default Title\n","import styled from 'styled-components'\n\nconst CloseButton = styled('button')`\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  width: 48px;\n  height: 48px;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  transition: color .2s ease;\n\n  &:hover {\n    color: #2196f3;\n  }\n`\n\nexport default CloseButton\n","import styled from 'styled-components'\n\nconst Footer = styled('div')`\n  margin: auto;\n  height: 64px;\n  width: 100%;\n  padding: 0 24px;\n  position: relative;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  margin-top: -1px;\n`\n\nexport default Footer\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport Wrapper from './Wrapper'\nimport Backdrop from './Backdrop'\nimport Content from './Content'\nimport Header from './Header'\nimport Body from './Body'\nimport Title from './Title'\nimport CloseButton from './CloseButton'\nimport Footer from './Footer'\n\ntype Props = {\n  titleLabel: string\n  titleColor?: string\n  children: React.ReactChild\n  closeModal: () => void\n  footer?: React.ReactNode\n}\n\nconst Modal = ({ titleColor, titleLabel, children, closeModal, footer }: Props) => {\n  const domEl = document.getElementById('modal-root')\n\n  if (!domEl) return null\n\n  return ReactDOM.createPortal(\n    <React.Fragment>\n      <Wrapper>\n        <Backdrop onClick={closeModal} />\n        <Content>\n          <Header>\n            <Title variant=\"h2\" themeColor={titleColor}>\n              {titleLabel}\n            </Title>\n            <CloseButton onClick={closeModal}>\n              <span className=\"material-icons\">close</span>\n            </CloseButton>\n          </Header>\n          <Body hasFooter={footer ? true : false}>{children}</Body>\n          {footer && (\n            <Footer>{footer}</Footer>\n          )}\n        </Content>\n      </Wrapper>\n    </React.Fragment>,\n    domEl\n  )\n}\n\nexport default React.memo(Modal)\n","import styled from 'styled-components/macro'\n\ntype Props = {\n  hasFooter?: boolean\n}\n\nconst ModalBodyWrapper = styled('div')<Props>`\n  margin: auto;\n  height: ${props => (props.hasFooter ? 'calc(100% - 64px)' : '100%')};\n  width: 100%;\n  padding: 24px;\n  position: relative;\n  overflow-y: auto;\n\n  > *:first-child {\n    margin-top: 0;\n  }\n`\n\nexport default ModalBodyWrapper\n","import styled from 'styled-components/macro'\n\nconst ModalFooterWrapper = styled('div')`\n  margin: auto;\n  height: 64px;\n  width: 100%;\n  padding: 0 24px;\n  position: relative;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  margin-top: -1px;\n\n  button {\n    width: 100%;\n  }\n\n  button + button {\n    margin-left: 16px;\n  }\n`\n\nexport default ModalFooterWrapper\n","import React, { useState } from 'react'\n\nimport Modal from 'components/organisms/Modal'\nimport Prompt from 'components/organisms/Prompt'\n\ntype ModalProps = {\n  titleColor?: string\n  titleLabel: string\n  children: React.ReactChild\n  closeCallback?: () => void\n  footer?: React.ReactNode\n}\n\nexport type RenderModalType = (props: ModalProps) => JSX.Element\n\n// Renders a modal to the modal root and handles the visibility state\n// of this modal.\n//\n// NOTE: Each modal you want to render should use a separate hook!!!\n// Otherwise your modals will share their visibility state which might lead\n// to overlapping and unclosable elements.\nexport const useModal = () => {\n  const [isVisible, setIsVisible] = useState(false)\n  const show = () => setIsVisible(true)\n  const hide = () => setIsVisible(false)\n  const RenderModal: RenderModalType = ({\n    titleColor,\n    titleLabel,\n    children,\n    closeCallback,\n    footer,\n  }) => {\n    const handleClose = () => {\n      hide()\n      if (closeCallback) {\n        closeCallback()\n      }\n    }\n\n    return (\n      <React.Fragment>\n        {isVisible && (\n          <Modal\n            titleColor={titleColor}\n            titleLabel={titleLabel}\n            closeModal={handleClose}\n            footer={footer}\n          >\n            {children}\n          </Modal>\n        )}\n      </React.Fragment>\n    )\n  }\n\n  return {\n    show,\n    hide,\n    RenderModal,\n  }\n}\n\ntype PromptProps = {\n  closeCallback?: () => void\n  children?: React.ReactChild\n  noHandler: () => void\n  titleColor: string\n  titleLabel: string\n  yesHandler: () => void\n}\n\nexport type RenderPromptType = (props: PromptProps) => JSX.Element\n\nexport const usePrompt = () => {\n  const { show, hide, RenderModal } = useModal()\n\n  const RenderPrompt: RenderPromptType = ({\n    children,\n    noHandler,\n    titleColor,\n    titleLabel,\n    yesHandler,\n  }) => (\n    <RenderModal\n      titleColor={titleColor}\n      titleLabel={titleLabel}\n      closeCallback={noHandler}\n    >\n      <Prompt yesHandler={yesHandler} noHandler={noHandler}>\n        {children}\n      </Prompt>\n    </RenderModal>\n  )\n\n  return {\n    show,\n    hide,\n    RenderPrompt,\n  }\n}\n","import React from 'react'\n\nimport ModalBodyWrapper from 'components/atoms/ModalBodyWrapper'\nimport ModalFooterWrapper from 'components/atoms/ModalFooterWrapper'\nimport Button from 'components/atoms/Button'\n\nconst Prompt = ({\n  yesHandler,\n  noHandler,\n  children,\n}: {\n  yesHandler: () => void\n  noHandler: () => void\n  children?: React.ReactChild\n}) => {\n  return (\n    <React.Fragment>\n      <ModalBodyWrapper hasFooter={true}>{children}</ModalBodyWrapper>\n      <ModalFooterWrapper>\n        <Button\n          onClick={noHandler}\n        >\n          No\n        </Button>\n        <Button\n          onClick={yesHandler}\n        >\n          Yes\n        </Button>\n      </ModalFooterWrapper>\n    </React.Fragment>\n  )\n}\n\nexport default React.memo(Prompt)\n","import styled from 'styled-components/macro'\nimport ReactSelect from 'react-select'\n\nconst Select = styled(ReactSelect)`\n\n`\n\nexport default Select\n","import styled from 'styled-components/macro'\n\nconst Wrapper = styled('div')`\n  margin-bottom: 16px;\n`\n\nexport default Wrapper\n","import React from 'react'\n\nimport * as types from 'types'\n\nimport ScreenReaderOnlyText from 'components/atoms/ScreenReaderOnlyText'\nimport Label from 'components/atoms/Label'\nimport Select from 'components/atoms/Select'\nimport Wrapper from './__styled__/Wrapper'\n\ntype Props = {\n  id: string\n  options: types.SelectOptions\n  label: string\n  labelHidden?: boolean\n  name?: string\n  onChange: (event: any) => void\n  defaultValue?: any\n  required?: boolean\n  isMulti?: boolean\n}\n\nconst FormGroupInputText = ({\n  id,\n  options,\n  label,\n  labelHidden,\n  name,\n  onChange,\n  defaultValue,\n  required,\n  isMulti,\n}: Props) => {\n  return (\n    <Wrapper>\n      <Label htmlFor={id}>\n        {labelHidden ? (\n          <ScreenReaderOnlyText>{label}</ScreenReaderOnlyText>\n        ) : (\n          label\n        )}\n      </Label>\n      <Select\n        options={options}\n        classNamePrefix=\"ReactSelect\"\n        id={id}\n        name={name ? name : id}\n        onChange={onChange}\n        defaultValue={defaultValue}\n        required={required}\n        isMulti={isMulti}\n      />\n    </Wrapper>\n  )\n}\n\nexport default React.memo(FormGroupInputText)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as types from 'types'\n\nimport { actions } from 'Redux/Store'\nimport { initialState } from 'Redux/Store/DraftExpedition/SequenceConfig/DraftBranch'\n\nimport FormGroupInputText from 'components/molecules/FormGroupInputText'\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\n\nconst mapDispatchToProps = {\n  updateDraftBranch:\n    actions.DraftExpedition.SequenceConfig.DraftBranch.updateDraftBranch,\n}\n\ntype Props = typeof mapDispatchToProps & {\n  draftBranch: types.BranchBase\n}\n\nconst BaseBranch = ({ \n  draftBranch, \n  updateDraftBranch,\n}: Props) => {\n\n  const branchTypeOptions: types.BranchTypeOptions = [\n    { value: 'narrative', label: 'narrative' },\n    { value: 'battle', label: 'battle' },\n    { value: 'reward', label: 'reward' },\n  ]\n\n  const branchTypeDefaultValue = branchTypeOptions.find(\n    (option) => option.value === draftBranch.type\n  )\n\n  const handleBranchIdChange = (event: any) => {\n    updateDraftBranch({\n      ...draftBranch,\n      id: event.target.value,\n    })\n  }\n\n  const handleBranchTypeChange = (selectOption: types.BranchTypeOption) => {\n    const { _id, id } = draftBranch\n\n    updateDraftBranch({\n      ...initialState,\n      _id,\n      id,\n      type: selectOption.value,\n    })\n  }\n\n  return (\n    <>\n      <FormGroupInputText\n        id=\"branchId\"\n        label=\"Branch id\"\n        onChange={handleBranchIdChange}\n        defaultValue={draftBranch.id}\n        required={true}\n      />\n      <FormGroupSelect\n        options={branchTypeOptions}\n        id=\"branchType\"\n        label=\"Branch type\"\n        onChange={handleBranchTypeChange}\n        defaultValue={branchTypeDefaultValue}\n      />\n    </>\n  )\n}\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(React.memo(BaseBranch))\n","import styled from 'styled-components/macro'\n\nconst Textarea = styled('textarea')`\n  min-height: 64px;\n  width: 100%;\n  padding: 8px;\n  font-family: 'Roboto';\n  border: 1px solid #dadada;\n  resize: vertical;\n`\n\nexport default Textarea\n","import styled from 'styled-components/macro'\n\nconst Wrapper = styled('div')`\n  margin-bottom: 16px;\n`\n\nexport default Wrapper\n","import React from 'react'\n\nimport ScreenReaderOnlyText from 'components/atoms/ScreenReaderOnlyText'\nimport Label from 'components/atoms/Label'\nimport Textarea from 'components/atoms/Textarea'\nimport Wrapper from './__styled__/Wrapper'\n\ntype Props = {\n  id: string\n  label: string\n  labelHidden?: boolean\n  name?: string\n  onChange: (event: any) => void\n  defaultValue: any\n  required?: boolean\n}\n\nconst FormGroupTextarea = ({\n  id,\n  label,\n  labelHidden,\n  name,\n  onChange,\n  defaultValue,\n  required\n}: Props) => {\n  \n  return (\n    <Wrapper>\n      <Label htmlFor={id}>\n        {\n          labelHidden ? (\n            <ScreenReaderOnlyText>{label}</ScreenReaderOnlyText>\n          ) : (\n            label\n          )\n        }\n      </Label>\n      <Textarea\n        id={id}\n        name={name ? name : id}\n        onChange={onChange}\n        defaultValue={defaultValue}\n        required={required}\n      />\n    </Wrapper>\n  )\n}\n\nexport default React.memo(FormGroupTextarea)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport shortid from 'shortid'\n\nimport * as types from 'types'\n\nimport { actions } from 'Redux/Store'\n\nimport FormGroupInputText from 'components/molecules/FormGroupInputText'\nimport FormGroupTextarea from 'components/molecules/FormGroupTextarea'\n\nconst mapDispatchToProps = {\n  updateDraftBranch:\n    actions.DraftExpedition.SequenceConfig.DraftBranch.updateDraftBranch,\n}\n\ntype Props = typeof mapDispatchToProps & {\n  draftBranch: types.NarrativeBranch\n}\n\nconst NarrativeBranch = ({ \n  draftBranch, \n  updateDraftBranch \n}: Props) => {\n  \n  const handleBranchTextChange = (event: any) => {\n    updateDraftBranch({\n      ...draftBranch,\n      text: event.target.value,\n    })\n  }\n\n  const handleBranchDecisionsChange = (event: any) => {\n    const decisions =\n      (event.target.value && event.target.value.split('; ')) ?? []\n    updateDraftBranch({\n      ...draftBranch,\n      decisions: decisions.map((decision: string) => {\n        return {\n          _id: shortid.generate(),\n          text: decision,\n        }\n      }),\n    })\n  }\n\n  return (\n    <>\n      <FormGroupTextarea\n        id=\"description\"\n        label=\"Text\"\n        onChange={handleBranchTextChange}\n        defaultValue={draftBranch.text}\n      />\n      <p>\n        Add multiple decisions by separating them with ';' followed by a SPACE\n      </p>\n      <FormGroupInputText\n        id=\"decisions\"\n        label=\"Decisions\"\n        onChange={handleBranchDecisionsChange}\n        defaultValue={\n          draftBranch.decisions\n            ? draftBranch.decisions.map((decision) => decision.text)\n            : ''\n        }\n      />\n    </>\n  )\n}\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(React.memo(NarrativeBranch))","import React from 'react'\n\nimport DATA from 'aer-data'\nimport * as aerTypes from 'aer-types'\n\nimport * as types from 'types'\n\nimport Accordion from 'components/organisms/Accordion'\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\nimport FormGroupInputText from 'components/molecules/FormGroupInputText'\n\ntype Props = {\n  draftBranch: types.RewardBranch\n  updateDraftBranch: (branch: types.Branch) => void\n}\n\nconst Treasures = ({ draftBranch, updateDraftBranch }: Props) => {\n  const dataTreasures: aerTypes.Treasure[] = Object.values(\n    DATA.normalizedData.ENG.treasures\n  )\n\n  const treasureOptions = dataTreasures.map((treasure: aerTypes.Treasure) => {\n    return {\n      value: treasure.id,\n      label: `${treasure.name} (Level: ${treasure.level})`,\n    }\n  })\n\n  const handleTreasureChange = (selectOptions: types.SelectOptions) => {\n    const selectedTreasureIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    updateDraftBranch({\n      ...draftBranch,\n      treasure: {\n        ...draftBranch.treasure,\n        ids: [...selectedTreasureIds],\n      },\n    })\n  }\n\n  const handleTreasureAmountTier1Change = (event: React.ChangeEvent) => {\n    updateDraftBranch({\n      ...draftBranch,\n      treasure: {\n        ...draftBranch.treasure,\n        tier1: parseInt((event.target as HTMLInputElement).value),\n      },\n    })\n  }\n\n  const handleTreasureAmountTier2Change = (event: React.ChangeEvent) => {\n    updateDraftBranch({\n      ...draftBranch,\n      treasure: {\n        ...draftBranch.treasure,\n        tier2: parseInt((event.target as HTMLInputElement).value),\n      },\n    })\n  }\n\n  const handleTreasureAmountTier3Change = (event: React.ChangeEvent) => {\n    updateDraftBranch({\n      ...draftBranch,\n      treasure: {\n        ...draftBranch.treasure,\n        tier3: parseInt((event.target as HTMLInputElement).value),\n      },\n    })\n  }\n\n  return (\n    <Accordion id=\"treasures\" title=\"Treasures\" open>\n      <FormGroupSelect\n        options={treasureOptions}\n        id=\"selectTreasures\"\n        label=\"Select Treasures\"\n        onChange={handleTreasureChange}\n        isMulti\n      />\n      <h3>Random Treasures</h3>\n      <p>Enter the amount of random treasures per tier.</p>\n      <FormGroupInputText\n        id=\"treasuresTier1\"\n        label=\"Tier 1\"\n        onChange={handleTreasureAmountTier1Change}\n        defaultValue={0}\n      />\n      <FormGroupInputText\n        id=\"treasuresTier2\"\n        label=\"Tier 2\"\n        onChange={handleTreasureAmountTier2Change}\n        defaultValue={0}\n      />\n      <FormGroupInputText\n        id=\"treasuresTier3\"\n        label=\"Tier 3\"\n        onChange={handleTreasureAmountTier3Change}\n        defaultValue={0}\n      />\n    </Accordion>\n  )\n}\n\nexport default React.memo(Treasures)\n","import React from 'react'\n\nimport DATA from 'aer-data'\nimport * as aerTypes from 'aer-types'\n\nimport * as types from 'types'\n\nimport Accordion from 'components/organisms/Accordion'\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\nimport FormGroupInputText from 'components/molecules/FormGroupInputText'\n\ntype Props = {\n  draftBranch: types.RewardBranch\n  updateDraftBranch: (branch: types.Branch) => void\n}\n\nconst Mages = ({ draftBranch, updateDraftBranch }: Props) => {\n  const dataMages: aerTypes.Mage[] = Object.values(\n    DATA.normalizedData.ENG.mages\n  )\n\n  const mageOptions = dataMages.map((mage: aerTypes.Mage) => {\n    return {\n      value: mage.id,\n      label: mage.name,\n    }\n  })\n\n  const handleMageChange = (selectOptions: types.SelectOptions) => {\n    const selectedMageIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    updateDraftBranch({\n      ...draftBranch,\n      mage: {\n        ...draftBranch.mage,\n        ids: [...selectedMageIds],\n      },\n    })\n  }\n\n  const handleMageRandomAmountChange = (event: React.ChangeEvent) => {\n    updateDraftBranch({\n      ...draftBranch,\n      mage: {\n        ...draftBranch.mage,\n        randomAmount: parseInt((event.target as HTMLInputElement).value),\n      },\n    })\n  }\n\n  return (\n    <Accordion id=\"mages\" title=\"Mages\" open>\n      <FormGroupSelect\n        options={mageOptions}\n        id=\"selectMages\"\n        label=\"Select Mages\"\n        onChange={handleMageChange}\n        isMulti\n      />\n      <h3>Random Mages</h3>\n      <p>Enter the amount of random mages.</p>\n      <FormGroupInputText\n        id=\"randomMagesAmount\"\n        label=\"Amount of random mages\"\n        onChange={handleMageRandomAmountChange}\n        defaultValue={0}\n      />\n    </Accordion>\n  )\n}\n\nexport default React.memo(Mages)\n","import styled from 'styled-components/macro'\n\nconst Wrapper = styled('div')`\n  margin-bottom: 16px;\n`\n\nexport default Wrapper\n","import React from 'react'\n\nimport ScreenReaderOnlyText from 'components/atoms/ScreenReaderOnlyText'\nimport Label from 'components/atoms/Label'\nimport Input from 'components/atoms/Input'\nimport Wrapper from './__styled__/Wrapper'\n\ntype Props = {\n  id: string\n  label: string\n  labelHidden?: boolean\n  name?: string\n  onChange: (event: any) => void\n  defaultValue?: any\n  required?: boolean\n}\n\nconst FormGroupInputNumber = ({\n  id,\n  label,\n  labelHidden,\n  name,\n  onChange,\n  defaultValue,\n  required,\n}: Props) => {\n  return (\n    <Wrapper>\n      <Label htmlFor={id}>\n        {labelHidden ? (\n          <ScreenReaderOnlyText>{label}</ScreenReaderOnlyText>\n        ) : (\n          label\n        )}\n      </Label>\n      <Input\n        id={id}\n        name={name ? name : id}\n        type=\"number\"\n        onChange={onChange}\n        defaultValue={defaultValue}\n        required={required}\n      />\n    </Wrapper>\n  )\n}\n\nexport default React.memo(FormGroupInputNumber)\n","import React from 'react'\n\nimport * as types from 'types'\n\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\nimport FormGroupInputNumber from 'components/molecules/FormGroupInputNumber'\nimport Button from 'components/atoms/Button'\n\ntype Props = {\n  blueprint: types.Blueprint\n  handleChange: (blueprint: types.Blueprint) => void\n  handleDelete: (blueprint: types.Blueprint) => void\n}\n\nconst SupplyCardBlueprint = ({\n  blueprint,\n  handleChange,\n  handleDelete,\n}: Props) => {\n  const cardTypeOptions: types.CardTypeOptions = [\n    { value: 'Gem', label: 'Gem' },\n    { value: 'Relic', label: 'Relic' },\n    { value: 'Spell', label: 'Spell' },\n  ]\n\n  const cardTypeDefaultValue = cardTypeOptions.find(\n    (option) => option.value === blueprint.type\n  )\n\n  const cardOperationOptions: types.CardOperationOptions = [\n    { value: '<', label: '>' },\n    { value: '>', label: '<' },\n    { value: '=', label: '=' },\n    { value: '<=', label: '<=' },\n    { value: '>=', label: '>=' },\n    { value: 'ANY', label: 'ANY' },\n    { value: 'OR', label: 'OR' },\n  ]\n\n  const cardOperationDefaultValue = cardOperationOptions.find(\n    (option) => option.value === blueprint.operation\n  )\n\n  const cardCostsOptions: types.CardCostsOptions = [\n    { value: '0', label: 'Cost: 0' },\n    { value: '1', label: 'Cost: 1' },\n    { value: '2', label: 'Cost: 2' },\n    { value: '3', label: 'Cost: 3' },\n    { value: '4', label: 'Cost: 4' },\n    { value: '5', label: 'Cost: 5' },\n    { value: '6', label: 'Cost: 6' },\n    { value: '7', label: 'Cost: 7' },\n    { value: '8', label: 'Cost: 8' },\n    { value: '9', label: 'Cost: 9' },\n  ]\n\n  const handleCardTypeChange = (selectOption: types.CardTypeOption) => {\n    handleChange({\n      ...blueprint,\n      type: selectOption.value,\n    })\n  }\n\n  const handleCardOperationChange = (\n    selectOption: types.CardOperationOption\n  ) => {\n    handleChange({\n      ...blueprint,\n      operation: selectOption.value,\n    })\n  }\n\n  const handleCardThresholdChange = (event: React.ChangeEvent) => {\n    handleChange({\n      ...blueprint,\n      threshold: parseInt((event.target as HTMLInputElement).value),\n    })\n  }\n\n  const handleCardCostsChange = (selectOptions: types.CardCostsOptions) => {\n    const costValues: number[] = selectOptions.map(\n      (option: types.CardCostsOption) => parseInt(option.value)\n    )\n\n    handleChange({\n      ...blueprint,\n      values: [...costValues],\n    })\n  }\n\n  const handleDeleteBlueprint = () => {\n    handleDelete(blueprint)\n  }\n\n  return (\n    <div>\n      <FormGroupSelect\n        options={cardTypeOptions}\n        id={`selectCardType${blueprint._id}`}\n        label=\"Type\"\n        onChange={handleCardTypeChange}\n        defaultValue={cardTypeDefaultValue}\n      />\n      <FormGroupSelect\n        options={cardOperationOptions}\n        id={`selectCardOperation${blueprint._id}`}\n        label=\"Operation\"\n        onChange={handleCardOperationChange}\n        defaultValue={cardOperationDefaultValue}\n      />\n      {blueprint.operation !== 'OR' && blueprint.operation !== 'ANY' && (\n        <FormGroupInputNumber\n          id={`threshold${blueprint._id}`}\n          label=\"Threshold\"\n          onChange={handleCardThresholdChange}\n        />\n      )}\n      {blueprint.operation === 'OR' && (\n        <FormGroupSelect\n          options={cardCostsOptions}\n          id={`selectCosts${blueprint._id}`}\n          label=\"Card costs (values)\"\n          onChange={handleCardCostsChange}\n          isMulti\n        />\n      )}\n      <Button onClick={handleDeleteBlueprint}>Delete</Button>\n    </div>\n  )\n}\n\nexport default SupplyCardBlueprint\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport DATA from 'aer-data'\nimport * as aerTypes from 'aer-types'\n\nimport { RootState, selectors, actions } from 'Redux/Store'\n\nimport * as types from 'types'\n\nimport Accordion from 'components/organisms/Accordion'\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\nimport Button from 'components/atoms/Button'\nimport SupplyCardBlueprint from 'components/molecules/SupplyCardBlueprint'\nimport FormGroupCheckbox from 'components/molecules/FormGroupCheckbox'\n\nconst mapStateToProps = (state: RootState) => ({\n  blueprints: selectors.DraftExpedition.SequenceConfig.DraftRewardSupplyCard.getDraftRewardSupplyCardArray(\n    state\n  ),\n})\n\nconst mapDispatchToProps = {\n  addSupplyCard:\n    actions.DraftExpedition.SequenceConfig.DraftRewardSupplyCard\n      .draftAddRewardSupplyCard,\n  editSupplyCard:\n    actions.DraftExpedition.SequenceConfig.DraftRewardSupplyCard\n      .draftEditRewardSupplyCard,\n  deleteSupplyCard:\n    actions.DraftExpedition.SequenceConfig.DraftRewardSupplyCard\n      .draftDeleteRewardSupplyCard,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> &\n  typeof mapDispatchToProps & {\n    draftBranch: types.RewardBranch\n    updateDraftBranch: (branch: types.Branch) => void\n  }\n\nconst Supply = ({\n  draftBranch,\n  updateDraftBranch,\n  blueprints,\n  addSupplyCard,\n  editSupplyCard,\n  deleteSupplyCard,\n}: Props) => {\n  const dataSupply: aerTypes.ICard[] = Object.values(\n    DATA.normalizedData.ENG.cards\n  )\n\n  const supplyOptions = dataSupply.map((supply: aerTypes.ICard) => {\n    return {\n      value: supply.id,\n      label: `${supply.name} (${supply.type})`,\n    }\n  })\n\n  const handleSupplyChange = (selectOptions: types.SelectOptions) => {\n    const selectedSupplyIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    updateDraftBranch({\n      ...draftBranch,\n      supply: {\n        ...draftBranch.supply,\n        ids: [...selectedSupplyIds],\n      },\n    })\n  }\n\n  const handleBigPocketChange = (event: React.ChangeEvent) => {\n    updateDraftBranch({\n      ...draftBranch,\n      supply: {\n        ...draftBranch.supply,\n        bigPocket: (event.currentTarget as HTMLInputElement).checked,\n      },\n    })\n  }\n\n  const handleAddSupplyCard = () => {\n    addSupplyCard()\n  }\n\n  const handleEditSupplyCard = (blueprint: types.Blueprint) => {\n    editSupplyCard(blueprint)\n  }\n\n  const handleDeleteSupplyCard = (blueprint: types.Blueprint) => {\n    deleteSupplyCard(blueprint)\n  }\n\n  const renderSupplyBlueprints = (blueprints: types.Blueprint[]) => {\n    return blueprints.map((blueprint: types.Blueprint) => {\n      return (\n        <SupplyCardBlueprint\n          key={blueprint._id}\n          blueprint={blueprint}\n          handleChange={handleEditSupplyCard}\n          handleDelete={handleDeleteSupplyCard}\n        />\n      )\n    })\n  }\n\n  return (\n    <Accordion id=\"supply\" title=\"Supply\" open>\n      <FormGroupCheckbox\n        id=\"rewardSupplyBigPocket\"\n        label=\"Big Pocket Mode\"\n        onChange={handleBigPocketChange}\n        defaultChecked={draftBranch?.supply?.bigPocket ?? false}\n      />\n      <FormGroupSelect\n        options={supplyOptions}\n        id=\"selectSupplyCards\"\n        label=\"Select Supply Cards\"\n        onChange={handleSupplyChange}\n        isMulti\n      />\n      <h3>Random supply cards</h3>\n      <Button onClick={handleAddSupplyCard}>Add random supply card</Button>\n      {blueprints ? (\n        renderSupplyBlueprints(blueprints)\n      ) : (\n        <p>No supply cards added</p>\n      )}\n    </Accordion>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Supply))\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as types from 'types'\n\nimport { actions } from 'Redux/Store'\n\nimport Fieldset from 'components/molecules/Fieldset'\nimport Treasures from './Treasures'\nimport Mages from './Mages'\nimport Supply from './Supply'\n\nconst mapDispatchToProps = {\n  updateDraftBranch:\n    actions.DraftExpedition.SequenceConfig.DraftBranch.updateDraftBranch,\n}\n\ntype Props = typeof mapDispatchToProps & {\n  draftBranch: types.RewardBranch\n}\n\nconst RewardBranch = ({ \n  draftBranch,\n  updateDraftBranch \n}: Props) => {\n\n  const handleRewardTypeChange = (event: React.ChangeEvent) => {\n    updateDraftBranch({\n      ...draftBranch,\n      rewardType: (event.target as HTMLInputElement).value as types.RewardType,\n    })\n  }\n\n  return (\n    <>\n      <Fieldset legend=\"Reward type\" legendVisible>\n        <div className=\"radio-wrapper\">\n          <input\n            type=\"radio\"\n            name=\"rewardType\"\n            id=\"regular\"\n            defaultChecked\n            value=\"regular\"\n            onChange={handleRewardTypeChange}\n          />\n          <label htmlFor=\"regular\">regular</label>\n        </div>\n        <div className=\"radio-wrapper\">\n          <input\n            type=\"radio\"\n            name=\"rewardType\"\n            id=\"custom\"\n            value=\"custom\"\n            onChange={handleRewardTypeChange}\n          />\n          <label htmlFor=\"custom\">custom</label>\n        </div>\n      </Fieldset>\n      {draftBranch.rewardType === 'custom' && (\n        <>\n          <Treasures draftBranch={draftBranch} updateDraftBranch={updateDraftBranch} />\n          <Mages draftBranch={draftBranch} updateDraftBranch={updateDraftBranch} />\n          <Supply draftBranch={draftBranch} updateDraftBranch={updateDraftBranch} />\n        </>\n      )}\n    </>\n  )\n}\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(React.memo(RewardBranch))","import React from 'react'\n\nimport DATA from 'aer-data'\nimport * as aerTypes from 'aer-types'\n\nimport * as types from 'types'\n\nimport Accordion from 'components/organisms/Accordion'\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\nimport FormGroupInputText from 'components/molecules/FormGroupInputText'\n\ntype Props = {\n  config: types.BattleRewardConfig\n  updateDraftRewardConfig: (config: types.BattleRewardConfig) => void\n}\n\nconst Treasures = ({ config, updateDraftRewardConfig }: Props) => {\n  const dataTreasures: aerTypes.Treasure[] = Object.values(\n    DATA.normalizedData.ENG.treasures\n  )\n\n  const treasureOptions = dataTreasures.map((treasure: aerTypes.Treasure) => {\n    return {\n      value: treasure.id,\n      label: `${treasure.name} (Level: ${treasure.level})`,\n    }\n  })\n\n  const handleTreasureChange = (selectOptions: types.SelectOptions) => {\n    const selectedTreasureIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    updateDraftRewardConfig({\n      ...config,\n      ...Object.assign({\n        treasure: {\n          ...config.treasure,\n          ids: [...selectedTreasureIds],\n        },\n      }),\n    })\n  }\n\n  const handleTreasureAmountTier1Change = (event: React.ChangeEvent) => {\n    updateDraftRewardConfig({\n      ...config,\n      ...Object.assign({\n        treasure: {\n          ...config.treasure,\n          tier1: parseInt((event.target as HTMLInputElement).value),\n        },\n      }),\n    })\n  }\n\n  const handleTreasureAmountTier2Change = (event: React.ChangeEvent) => {\n    updateDraftRewardConfig({\n      ...config,\n      ...Object.assign({\n        treasure: {\n          ...config.treasure,\n          tier2: parseInt((event.target as HTMLInputElement).value),\n        },\n      }),\n    })\n  }\n\n  const handleTreasureAmountTier3Change = (event: React.ChangeEvent) => {\n    updateDraftRewardConfig({\n      ...config,\n      ...Object.assign({\n        treasure: {\n          ...config.treasure,\n          tier3: parseInt((event.target as HTMLInputElement).value),\n        },\n      }),\n    })\n  }\n\n  return (\n    <Accordion id=\"treasures\" title=\"Treasures\" open>\n      <FormGroupSelect\n        options={treasureOptions}\n        id=\"selectTreasures\"\n        label=\"Select Treasures\"\n        onChange={handleTreasureChange}\n        isMulti\n      />\n      <h3>Random Treasures</h3>\n      <p>Enter the amount of random treasures per tier.</p>\n      <FormGroupInputText\n        id=\"treasuresTier1\"\n        label=\"Tier 1\"\n        onChange={handleTreasureAmountTier1Change}\n        defaultValue={0}\n      />\n      <FormGroupInputText\n        id=\"treasuresTier2\"\n        label=\"Tier 2\"\n        onChange={handleTreasureAmountTier2Change}\n        defaultValue={0}\n      />\n      <FormGroupInputText\n        id=\"treasuresTier3\"\n        label=\"Tier 3\"\n        onChange={handleTreasureAmountTier3Change}\n        defaultValue={0}\n      />\n    </Accordion>\n  )\n}\n\nexport default React.memo(Treasures)\n","import React from 'react'\n\nimport DATA from 'aer-data'\nimport * as aerTypes from 'aer-types'\n\nimport * as types from 'types'\n\nimport Accordion from 'components/organisms/Accordion'\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\nimport FormGroupInputText from 'components/molecules/FormGroupInputText'\n\ntype Props = {\n  config: types.BattleRewardConfig\n  updateDraftRewardConfig: (config: types.BattleRewardConfig) => void\n}\n\nconst Mages = ({ config, updateDraftRewardConfig }: Props) => {\n  const dataMages: aerTypes.Mage[] = Object.values(\n    DATA.normalizedData.ENG.mages\n  )\n\n  const mageOptions = dataMages.map((mage: aerTypes.Mage) => {\n    return {\n      value: mage.id,\n      label: mage.name,\n    }\n  })\n\n  const handleMageChange = (selectOptions: types.SelectOptions) => {\n    const selectedMageIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    updateDraftRewardConfig({\n      ...config,\n      ...Object.assign({\n        mage: {\n          ...config.mage,\n          ids: [...selectedMageIds],\n        },\n      }),\n    })\n  }\n\n  const handleMageRandomAmountChange = (event: React.ChangeEvent) => {\n    updateDraftRewardConfig({\n      ...config,\n      ...Object.assign({\n        mage: {\n          ...config.mage,\n          randomAmount: parseInt((event.target as HTMLInputElement).value),\n        },\n      }),\n    })\n  }\n\n  return (\n    <Accordion id=\"mages\" title=\"Mages\" open>\n      <FormGroupSelect\n        options={mageOptions}\n        id=\"selectMages\"\n        label=\"Select Mages\"\n        onChange={handleMageChange}\n        isMulti\n      />\n      <h3>Random Mages</h3>\n      <p>Enter the amount of random mages.</p>\n      <FormGroupInputText\n        id=\"randomMagesAmount\"\n        label=\"Amount of random mages\"\n        onChange={handleMageRandomAmountChange}\n        defaultValue={0}\n      />\n    </Accordion>\n  )\n}\n\nexport default React.memo(Mages)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport DATA from 'aer-data'\nimport * as aerTypes from 'aer-types'\n\nimport { RootState, selectors, actions } from 'Redux/Store'\n\nimport * as types from 'types'\n\nimport Accordion from 'components/organisms/Accordion'\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\nimport Button from 'components/atoms/Button'\nimport SupplyCardBlueprint from 'components/molecules/SupplyCardBlueprint'\nimport FormGroupCheckbox from 'components/molecules/FormGroupCheckbox'\n\nconst mapStateToProps = (state: RootState) => ({\n  blueprints: selectors.DraftExpedition.SequenceConfig.DraftRewardSupplyCard.getDraftRewardSupplyCardArray(\n    state\n  ),\n})\n\nconst mapDispatchToProps = {\n  addSupplyCard:\n    actions.DraftExpedition.SequenceConfig.DraftRewardSupplyCard\n      .draftAddBattleRewardSupplyCard,\n  editSupplyCard:\n    actions.DraftExpedition.SequenceConfig.DraftRewardSupplyCard\n      .draftEditRewardSupplyCard,\n  deleteSupplyCard:\n    actions.DraftExpedition.SequenceConfig.DraftRewardSupplyCard\n      .draftDeleteRewardSupplyCard,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> &\n  typeof mapDispatchToProps & {\n    config: types.BattleRewardConfig\n    updateDraftRewardConfig: (config: types.BattleRewardConfig) => void\n  }\n\nconst Supply = ({\n  config,\n  updateDraftRewardConfig,\n  blueprints,\n  addSupplyCard,\n  editSupplyCard,\n  deleteSupplyCard,\n}: Props) => {\n  const dataSupply: aerTypes.ICard[] = Object.values(\n    DATA.normalizedData.ENG.cards\n  )\n\n  const supplyOptions = dataSupply.map((supply: aerTypes.ICard) => {\n    return {\n      value: supply.id,\n      label: `${supply.name} (${supply.type})`,\n    }\n  })\n\n  const handleSupplyChange = (selectOptions: types.SelectOptions) => {\n    const selectedSupplyIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    updateDraftRewardConfig({\n      ...config,\n      ...Object.assign({\n        supply: {\n          ...config.supply,\n          ids: [...selectedSupplyIds],\n        },\n      }),\n    })\n  }\n\n  const handleBigPocketChange = (event: React.ChangeEvent) => {\n    updateDraftRewardConfig({\n      ...config,\n      ...Object.assign({\n        supply: {\n          ...config.supply,\n          bigPocket: (event.currentTarget as HTMLInputElement).checked,\n        },\n      }),\n    })\n  }\n\n  const handleAddSupplyCard = () => {\n    addSupplyCard(config._id)\n  }\n\n  const handleEditSupplyCard = (blueprint: types.Blueprint) => {\n    editSupplyCard(blueprint)\n  }\n\n  const handleDeleteSupplyCard = (blueprint: types.Blueprint) => {\n    deleteSupplyCard(blueprint)\n  }\n\n  const renderSupplyBlueprints = (\n    blueprints: types.Blueprint[],\n    configId: string\n  ) => {\n    return blueprints\n      .filter((blueprint: types.Blueprint) => blueprint.configId === configId)\n      .map((blueprint: types.Blueprint) => {\n        return (\n          <SupplyCardBlueprint\n            key={blueprint._id}\n            blueprint={blueprint}\n            handleChange={handleEditSupplyCard}\n            handleDelete={handleDeleteSupplyCard}\n          />\n        )\n      })\n  }\n\n  return (\n    <Accordion id=\"supply\" title=\"Supply\" open>\n      <FormGroupCheckbox\n        id=\"rewardSupplyBigPocket\"\n        label=\"Big Pocket Mode\"\n        onChange={handleBigPocketChange}\n        defaultChecked={config?.supply?.bigPocket ?? false}\n      />\n      <FormGroupSelect\n        options={supplyOptions}\n        id=\"selectSupplyCards\"\n        label=\"Select Supply Cards\"\n        onChange={handleSupplyChange}\n        isMulti\n      />\n      <h3>Random supply cards</h3>\n      <Button onClick={handleAddSupplyCard}>Add random supply card</Button>\n      {blueprints ? (\n        renderSupplyBlueprints(blueprints, config._id)\n      ) : (\n        <p>No supply cards added</p>\n      )}\n    </Accordion>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Supply))\n","import React from 'react'\n\nimport * as types from 'types'\n\nimport Fieldset from 'components/molecules/Fieldset'\nimport Button from 'components/atoms/Button'\nimport Treasures from './Treasures'\nimport Mages from './Mages'\nimport Supply from './Supply'\n\ntype Props = {\n  config: types.BattleRewardConfig\n  handleChange: (config: types.BattleRewardConfig) => void\n  handleDelete: (config: types.BattleRewardConfig) => void\n}\n\nconst RewardConfig = ({ config, handleChange, handleDelete }: Props) => {\n  const handleDeleteRewardConfig = () => {\n    handleDelete(config)\n  }\n\n  const handleRewardTypeChange = (event: React.ChangeEvent) => {\n    const rewardType = (event.target as HTMLInputElement)\n      .value as types.RewardType\n\n    handleChange({\n      ...config,\n      rewardType: rewardType,\n      treasure: rewardType === 'custom' ? config.treasure : undefined,\n      mage: rewardType === 'custom' ? config.mage : undefined,\n      supply: rewardType === 'custom' ? config.supply : undefined,\n    })\n  }\n\n  return (\n    <>\n      <Fieldset legend=\"Reward type\" legendVisible>\n        <div className=\"radio-wrapper\">\n          <input\n            type=\"radio\"\n            name={`rewardType-${config._id}`}\n            id={`regular-${config._id}`}\n            defaultChecked\n            value=\"regular\"\n            onChange={handleRewardTypeChange}\n          />\n          <label htmlFor={`regular-${config._id}`}>regular</label>\n        </div>\n        <div className=\"radio-wrapper\">\n          <input\n            type=\"radio\"\n            name={`rewardType-${config._id}`}\n            id={`custom-${config._id}`}\n            value=\"custom\"\n            onChange={handleRewardTypeChange}\n          />\n          <label htmlFor={`custom-${config._id}`}>custom</label>\n        </div>\n      </Fieldset>\n      {config.rewardType === 'custom' && (\n        <>\n          <Treasures config={config} updateDraftRewardConfig={handleChange} />\n          <Mages config={config} updateDraftRewardConfig={handleChange} />\n          <Supply config={config} updateDraftRewardConfig={handleChange} />\n        </>\n      )}\n\n      <Button onClick={handleDeleteRewardConfig}>Delete Config</Button>\n    </>\n  )\n}\n\nexport default React.memo(RewardConfig)\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport DATA from 'aer-data'\nimport * as aerTypes from 'aer-types'\n\nimport * as types from 'types'\n\nimport { RootState, selectors, actions } from 'Redux/Store'\nimport Fieldset from 'components/molecules/Fieldset'\nimport FormGroupTextarea from 'components/molecules/FormGroupTextarea'\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\nimport FormGroupCheckbox from 'components/molecules/FormGroupCheckbox'\nimport Button from 'components/atoms/Button'\nimport RewardConfig from './RewardConfig'\n\nconst mapStateToProps = (state: RootState) => ({\n  rewardConfigs: selectors.DraftExpedition.SequenceConfig.DraftRewardConfig.getDraftRewardConfigArray(\n    state\n  ),\n})\n\nconst mapDispatchToProps = {\n  addRewardConfig:\n    actions.DraftExpedition.SequenceConfig.DraftRewardConfig\n      .draftAddRewardConfig,\n  editRewardConfig:\n    actions.DraftExpedition.SequenceConfig.DraftRewardConfig\n      .draftEditRewardConfig,\n  deleteRewardConfig:\n    actions.DraftExpedition.SequenceConfig.DraftRewardConfig\n      .draftDeleteRewardConfig,\n  updateDraftBranch:\n    actions.DraftExpedition.SequenceConfig.DraftBranch.updateDraftBranch,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> &\n  typeof mapDispatchToProps & {\n    draftBranch: types.BattleBranch\n  }\n\ntype TreasureLevelOption = {\n  value: string\n  label: string\n}\n\ntype TreasureLevelOptions = TreasureLevelOption[]\n\nconst BattleBranch = ({\n  draftBranch,\n  rewardConfigs,\n  updateDraftBranch,\n  addRewardConfig,\n  editRewardConfig,\n  deleteRewardConfig,\n}: Props) => {\n  useEffect(() => {\n    updateDraftBranch({\n      ...draftBranch,\n      tier: 1,\n      newUBNCards: {\n        type: 'regular',\n      },\n      treasure: {\n        level: 1,\n        hasTreasure: false,\n      },\n    })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const dataNemeses: aerTypes.Nemesis[] = Object.values(\n    DATA.normalizedData.ENG.nemeses\n  )\n\n  const nemesisOptions = dataNemeses.map((nemesis: aerTypes.Nemesis) => {\n    return {\n      value: nemesis.id,\n      label: nemesis.name,\n    }\n  })\n\n  const dataUpgradedBasicNemesisCardsCards: aerTypes.UpgradedBasicNemesisCard[] = Object.values(\n    DATA.normalizedData.ENG.upgradedBasicNemesisCards\n  )\n\n  const upgradedBasicNemesisCardsOptions = dataUpgradedBasicNemesisCardsCards.map(\n    (upgradedBasicNemesisCard: aerTypes.UpgradedBasicNemesisCard) => {\n      return {\n        value: upgradedBasicNemesisCard.id,\n        label: upgradedBasicNemesisCard.name,\n      }\n    }\n  )\n\n  const treasureLevelOptions: TreasureLevelOptions = [\n    { value: '1', label: 'Level 1' },\n    { value: '2', label: 'Level 2' },\n    { value: '3', label: 'Level 3' },\n  ]\n\n  const treasureLevelDefaultValue =\n    treasureLevelOptions.find(\n      (option) => option.value === draftBranch?.treasure?.level.toString()\n    ) ?? treasureLevelOptions.find((option) => option.value === '1')\n\n  const winConfigs = rewardConfigs.filter(\n    (config: types.BattleRewardConfig) => config.type === 'win'\n  )\n\n  const lossConfigs = rewardConfigs.filter(\n    (config: types.BattleRewardConfig) => config.type === 'loss'\n  )\n\n  const handleBattleTierChange = (event: React.ChangeEvent) => {\n    updateDraftBranch({\n      ...draftBranch,\n      tier: parseInt(\n        (event.target as HTMLInputElement).value\n      ) as aerTypes.NemesisTier,\n    })\n  }\n\n  const handleNemesisIdChange = (selectOption: types.SelectOption) => {\n    updateDraftBranch({\n      ...draftBranch,\n      nemesisId: selectOption.value,\n    })\n  }\n\n  const handleOnLossChange = (event: React.ChangeEvent) => {\n    updateDraftBranch({\n      ...draftBranch,\n      onLoss: (event.currentTarget as HTMLInputElement).checked\n        ? 'skip'\n        : false,\n    })\n  }\n\n  const handleNewUBNCardsTypeChange = (event: React.ChangeEvent) => {\n    updateDraftBranch({\n      ...draftBranch,\n      newUBNCards: {\n        ...draftBranch.newUBNCards,\n        type: (event.target as HTMLInputElement)\n          .value as types.NewUBNCardsTypes,\n      },\n    })\n  }\n\n  const handleAddRandomChange = (event: React.ChangeEvent) => {\n    updateDraftBranch({\n      ...draftBranch,\n      newUBNCards: {\n        ...draftBranch.newUBNCards,\n        addRandom:\n          draftBranch.newUBNCards.type === 'custom'\n            ? null\n            : (event.currentTarget as HTMLInputElement).checked,\n      } as types.NewUBNCardsRegularTyp,\n    })\n  }\n\n  const handleUBNCardIdChange = (selectOptions: types.SelectOptions) => {\n    const selectedUBNCardIds: string[] = selectOptions\n      ? selectOptions.map((option: types.SelectOption) => option.value)\n      : []\n\n    updateDraftBranch({\n      ...draftBranch,\n      newUBNCards: {\n        ...draftBranch.newUBNCards,\n        ids:\n          draftBranch.newUBNCards.type === 'regular'\n            ? null\n            : [...selectedUBNCardIds],\n      } as types.NewUBNCardsCustomTyp,\n    })\n  }\n\n  const handleHasTreasureChange = (event: React.ChangeEvent) => {\n    updateDraftBranch({\n      ...draftBranch,\n      treasure: {\n        ...draftBranch.treasure,\n        hasTreasure: (event.currentTarget as HTMLInputElement).checked,\n        level: (event.currentTarget as HTMLInputElement).checked\n          ? draftBranch.treasure.level\n          : 1,\n      },\n    })\n  }\n\n  const handleTreasureLevelChange = (selectOption: TreasureLevelOption) => {\n    updateDraftBranch({\n      ...draftBranch,\n      treasure: {\n        ...draftBranch.treasure,\n        level: parseInt(selectOption.value) as aerTypes.TreasureLevel,\n      },\n    })\n  }\n\n  const handleSpecialRulesChange = (event: any) => {\n    updateDraftBranch({\n      ...draftBranch,\n      specialRules: event.target.value,\n    })\n  }\n\n  const handleAddRewardConfig = (type: types.BattleRewardConfigType) => {\n    addRewardConfig(type)\n  }\n\n  const handleEditRewardConfig = (config: types.BattleRewardConfig) => {\n    editRewardConfig(config)\n  }\n\n  const handleDeleteRewardConfig = (config: types.BattleRewardConfig) => {\n    deleteRewardConfig(config)\n  }\n\n  const renderRewardConfigs = (configs: types.BattleRewardConfig[]) => {\n    return configs.map((config: types.BattleRewardConfig) => {\n      return (\n        <RewardConfig\n          key={config._id}\n          config={config}\n          handleChange={handleEditRewardConfig}\n          handleDelete={handleDeleteRewardConfig}\n        />\n      )\n    })\n  }\n\n  return (\n    <>\n      <Fieldset legend=\"Battle Tier\" legendVisible>\n        <div className=\"radio-wrapper\">\n          <input\n            type=\"radio\"\n            name=\"battleTier\"\n            id=\"battleTier1\"\n            defaultChecked\n            value=\"1\"\n            onChange={handleBattleTierChange}\n          />\n          <label htmlFor=\"battleTier1\">1</label>\n        </div>\n        <div className=\"radio-wrapper\">\n          <input\n            type=\"radio\"\n            name=\"battleTier\"\n            id=\"battleTier2\"\n            value=\"2\"\n            onChange={handleBattleTierChange}\n          />\n          <label htmlFor=\"battleTier2\">2</label>\n        </div>\n        <div className=\"radio-wrapper\">\n          <input\n            type=\"radio\"\n            name=\"battleTier\"\n            id=\"battleTier3\"\n            value=\"3\"\n            onChange={handleBattleTierChange}\n          />\n          <label htmlFor=\"battleTier3\">3</label>\n        </div>\n        <div className=\"radio-wrapper\">\n          <input\n            type=\"radio\"\n            name=\"battleTier\"\n            id=\"battleTier4\"\n            value=\"4\"\n            onChange={handleBattleTierChange}\n          />\n          <label htmlFor=\"battleTier4\">4</label>\n        </div>\n      </Fieldset>\n      <FormGroupSelect\n        options={nemesisOptions}\n        id=\"selectNemesis\"\n        label=\"Select Nemesis\"\n        onChange={handleNemesisIdChange}\n      />\n      <FormGroupCheckbox\n        id=\"onLoss\"\n        label=\"Skip on loss\"\n        onChange={handleOnLossChange}\n        defaultChecked={draftBranch?.onLoss === 'skip' ?? false}\n      />\n      <FormGroupTextarea\n        id=\"specialRules\"\n        label=\"Special rules\"\n        onChange={handleSpecialRulesChange}\n        defaultValue={draftBranch.specialRules}\n      />\n      <h2>New UBN Cards</h2>\n      <Fieldset legend=\"New UBN Cards\" legendVisible>\n        <div className=\"radio-wrapper\">\n          <input\n            type=\"radio\"\n            name=\"newUBNCardsType\"\n            id=\"newUBNCardsRegular\"\n            defaultChecked\n            value=\"regular\"\n            onChange={handleNewUBNCardsTypeChange}\n          />\n          <label htmlFor=\"newUBNCardsRegular\">regular</label>\n        </div>\n        <div className=\"radio-wrapper\">\n          <input\n            type=\"radio\"\n            name=\"newUBNCardsType\"\n            id=\"newUBNCardsCustom\"\n            value=\"custom\"\n            onChange={handleNewUBNCardsTypeChange}\n          />\n          <label htmlFor=\"newUBNCardsCustom\">custom</label>\n        </div>\n      </Fieldset>\n      {draftBranch?.newUBNCards?.type === 'custom' ? (\n        <FormGroupSelect\n          options={upgradedBasicNemesisCardsOptions}\n          id=\"selectUpgradedBasicNemesisCards\"\n          label=\"Select Upgraded Basic Nemesis Cards\"\n          onChange={handleUBNCardIdChange}\n          isMulti\n        />\n      ) : (\n        <FormGroupCheckbox\n          id=\"addRandom\"\n          label=\"Add random\"\n          onChange={handleAddRandomChange}\n          defaultChecked={draftBranch?.newUBNCards?.addRandom ?? true}\n        />\n      )}\n      <h2>Treasure</h2>\n      <FormGroupCheckbox\n        id=\"hasTreasure\"\n        label=\"Has treasure\"\n        onChange={handleHasTreasureChange}\n        defaultChecked={draftBranch?.treasure?.hasTreasure ?? false}\n      />\n\n      {draftBranch?.treasure?.hasTreasure && (\n        <FormGroupSelect\n          options={treasureLevelOptions}\n          id=\"selectTreasureLevel\"\n          label=\"TreasureLevel\"\n          onChange={handleTreasureLevelChange}\n          defaultValue={treasureLevelDefaultValue}\n        />\n      )}\n\n      <h2>Win rewards</h2>\n      {winConfigs.length !== 0 ? (\n        renderRewardConfigs(winConfigs)\n      ) : (\n        <Button onClick={() => handleAddRewardConfig('win')}>\n          Add reward config\n        </Button>\n      )}\n\n      <h2>Loss rewards</h2>\n      <Button onClick={() => handleAddRewardConfig('loss')}>\n        Add reward config\n      </Button>\n\n      {lossConfigs ? (\n        renderRewardConfigs(lossConfigs)\n      ) : (\n        <p>No loss configs added</p>\n      )}\n    </>\n  )\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(React.memo(BattleBranch))\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as types from 'types'\n\nimport { RootState, selectors } from 'Redux/Store'\n\nimport Fieldset from 'components/molecules/Fieldset'\nimport ModalBodyWrapper from 'components/atoms/ModalBodyWrapper'\nimport BaseBranch from './BaseBranch'\nimport NarrativeBranch from './NarrativeBranch'\nimport RewardBranch from './RewardBranch'\nimport BattleBranch from './BattleBranch'\n\nconst mapStateToProps = (state: RootState) => ({\n  draftBranch: selectors.DraftExpedition.SequenceConfig.DraftBranch.getDraftBranchState(\n    state\n  ),\n})\n\ntype Props = ReturnType<typeof mapStateToProps> & {}\n\nconst Body = ({ draftBranch }: Props) => {\n  const renderBranch = (branch: types.Branch) => {\n    switch (branch.type) {\n      case 'narrative': {\n        return (\n          <NarrativeBranch draftBranch={draftBranch as types.NarrativeBranch} />\n        )\n      }\n\n      case 'reward': {\n        return <RewardBranch draftBranch={draftBranch as types.RewardBranch} />\n      }\n\n      case 'battle': {\n        return <BattleBranch draftBranch={draftBranch as types.BattleBranch} />\n      }\n\n      default: {\n        return <></>\n      }\n    }\n  }\n\n  return (\n    <ModalBodyWrapper>\n      <Fieldset legend=\"Branches\">\n        <BaseBranch draftBranch={draftBranch as types.BranchBase} />\n\n        {renderBranch(draftBranch as types.Branch)}\n      </Fieldset>\n    </ModalBodyWrapper>\n  )\n}\n\nexport default connect(mapStateToProps)(React.memo(Body))\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport { RootState, selectors, actions } from 'Redux/Store'\n\nimport * as types from 'types'\n\nimport Button from 'components/atoms/Button'\n\nconst mapStateToProps = (state: RootState) => ({\n  draftBranch: selectors.DraftExpedition.SequenceConfig.DraftBranch.getDraftBranchState(\n    state\n  ),\n  draftRewardConfigs: selectors.DraftExpedition.SequenceConfig.DraftRewardConfig.getDraftRewardConfigArray(\n    state\n  ),\n  draftRewardSupplyCards: selectors.DraftExpedition.SequenceConfig.DraftRewardSupplyCard.getDraftRewardSupplyCardArray(\n    state\n  ),\n})\n\nconst mapDispatchToProps = {\n  addBranch: actions.DraftExpedition.SequenceConfig.Branches.addBranch,\n  clearDraftBranch:\n    actions.DraftExpedition.SequenceConfig.DraftBranch.clearDraftBranch,\n  clearDraftRewardConfig:\n    actions.DraftExpedition.SequenceConfig.DraftRewardConfig\n      .clearDraftRewardConfig,\n  clearDraftRewardSupplyCards:\n    actions.DraftExpedition.SequenceConfig.DraftRewardSupplyCard\n      .clearDraftRewardSupplyCard,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> &\n  typeof mapDispatchToProps & {\n    modal: any\n  }\n\nconst Footer = ({\n  modal,\n  draftBranch,\n  draftRewardConfigs,\n  draftRewardSupplyCards,\n  addBranch,\n  clearDraftBranch,\n  clearDraftRewardConfig,\n  clearDraftRewardSupplyCards,\n}: Props) => {\n  const handleAddBranch = () => {\n    const winRewards = draftRewardConfigs.find(\n      (config: types.BattleRewardConfig) => config.type === 'win'\n    )\n\n    const lossRewards = draftRewardConfigs.filter(\n      (config: types.BattleRewardConfig) => config.type === 'loss'\n    )\n\n    const newBranch = {\n      ...draftBranch,\n      supply: {\n        ...(draftBranch as types.RewardBranch).supply,\n        blueprints: [\n          ...draftRewardSupplyCards.filter(\n            (card: types.Blueprint) => card.configId === undefined\n          ),\n        ],\n      },\n      winRewards: {\n        ...winRewards,\n        supply: {\n          ...winRewards?.supply,\n          blueprints: [\n            ...draftRewardSupplyCards.filter((card: types.Blueprint) => {\n              return card.configId === winRewards?._id\n            }),\n          ],\n        },\n      },\n      lossRewards: [\n        ...lossRewards.map((reward: types.BattleRewardConfig) => {\n          return {\n            ...reward,\n            supply: {\n              ...reward?.supply,\n              blueprints: [\n                ...draftRewardSupplyCards.filter((card: types.Blueprint) => {\n                  return card.configId === reward?._id\n                }),\n              ],\n            },\n          }\n        }),\n      ],\n    }\n\n    addBranch({\n      ...(newBranch as types.Branch),\n    })\n    clearDraftBranch()\n    clearDraftRewardConfig()\n    clearDraftRewardSupplyCards()\n    modal.hide()\n  }\n\n  const handleCancel = () => {\n    clearDraftBranch()\n    clearDraftRewardConfig()\n    clearDraftRewardSupplyCards()\n    modal.hide()\n  }\n\n  return (\n    <>\n      <Button onClick={handleCancel}>Cancel</Button>\n      <Button onClick={handleAddBranch}>Add branch</Button>\n    </>\n  )\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Footer))\n","import React from 'react'\n\nimport * as types from 'types'\n\nimport Body from './Body'\nimport Footer from './Footer'\n\ntype Props = {\n  modal: types.Modal\n}\n\nconst AddBranchModal = ({\n  modal,\n}: Props) => {\n\n  return (\n    <modal.RenderModal\n      titleLabel=\"Add branch\"\n      footer={<Footer modal={modal} />}>\n      <Body />\n    </modal.RenderModal>\n  )\n}\n\nexport default React.memo(AddBranchModal)\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport { RootState, selectors, actions } from 'Redux/Store'\n\nimport { useModal } from 'hooks/useModal'\n\nimport Accordion from 'components/organisms/Accordion'\nimport Button from 'components/atoms/Button'\nimport AddBranchModal from './AddBranchModal'\n\nconst mapStateToProps = (state: RootState) => ({\n  branches: selectors.DraftExpedition.SequenceConfig.Branches.getBranches(\n    state\n  ),\n})\n\nconst mapDispatchToProps = {\n  draftAddBranch:\n    actions.DraftExpedition.SequenceConfig.DraftBranch.draftAddBranch,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> & typeof mapDispatchToProps & {}\n\nconst Branches = ({ branches, draftAddBranch }: Props) => {\n  const addBranchModal = useModal()\n\n  const handleAddBranch = () => {\n    addBranchModal.show()\n    draftAddBranch()\n  }\n\n  return (\n    <Accordion id=\"branches\" title=\"Branches\" open>\n      <Button\n        type=\"button\"\n        style={{ display: 'block' }}\n        onClick={handleAddBranch}\n      >\n        Add branch\n      </Button>\n      <AddBranchModal modal={addBranchModal} />\n    </Accordion>\n  )\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(React.memo(Branches))\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as types from 'types'\n\nimport { RootState, actions, selectors } from 'Redux/Store'\n\nimport Accordion from 'components/organisms/Accordion'\nimport FormGroupSelect from 'components/molecules/FormGroupSelect'\n\nconst mapStateToProps = (state: RootState) => ({\n  branches: selectors.DraftExpedition.SequenceConfig.Branches.getBranches(\n    state\n  ),\n  firstBranchId: selectors.DraftExpedition.SequenceConfig.FirstBranchId.getFirstBranchId(\n    state\n  ),\n})\n\nconst mapDispatchToProps = {\n  updateBranch: actions.DraftExpedition.SequenceConfig.Branches.updateBranch,\n  setFirstBranchId:\n    actions.DraftExpedition.SequenceConfig.FirstBranchId.setFirstBranchId,\n}\n\ntype Props = ReturnType<typeof mapStateToProps> & typeof mapDispatchToProps & {}\n\nconst ConnectBranches = ({\n  branches,\n  firstBranchId,\n  updateBranch,\n  setFirstBranchId,\n}: Props) => {\n  const availableBranchesOptions = branches.map((branch: types.Branch) => {\n    return {\n      value: branch.id,\n      label: `${branch.id} (${branch.type})`,\n    }\n  })\n\n  const handleFirstBranchIdChange = (selectOption: types.SelectOption) => {\n    setFirstBranchId(selectOption.value)\n  }\n\n  const handleNarrativNextBranchIdChange = (\n    selectOption: types.SelectOption & {\n      currentBranchId: string\n      decisionId: string\n    }\n  ) => {\n    const branchToUpdate = branches.find(\n      (branch) => branch.id === selectOption.currentBranchId\n    ) as types.NarrativeBranch\n\n    const newDecisions =\n      branchToUpdate?.decisions &&\n      branchToUpdate?.decisions.map((decision: types.Decision) => {\n        if (decision._id === selectOption.decisionId) {\n          return {\n            ...decision,\n            nextBranchId: selectOption.value,\n          }\n        } else {\n          return decision\n        }\n      })\n\n    updateBranch({\n      ...branchToUpdate,\n      decisions: newDecisions,\n      nextBranchId:\n        newDecisions &&\n        newDecisions.map((decision: types.Decision) => decision.nextBranchId),\n    } as types.NarrativeBranch)\n  }\n\n  const handleNextBranchIdChange = (\n    selectOption: types.SelectOption & { currentBranchId: string }\n  ) => {\n    const branchToUpdate = branches.find(\n      (branch) => branch.id === selectOption.currentBranchId\n    )\n\n    updateBranch({\n      ...branchToUpdate,\n      nextBranchId: selectOption.value,\n    } as types.BattleBranch | types.RewardBranch)\n  }\n\n  return (\n    <Accordion id=\"connectBranches\" title=\"Connect Branches\" open>\n      {branches.length > 0 ? (\n        <>\n          <p>\n            Choose the branch which should be the entry point of the expedition.\n          </p>\n          <FormGroupSelect\n            options={availableBranchesOptions}\n            id=\"firstBranchId\"\n            label=\"First branch id\"\n            onChange={handleFirstBranchIdChange}\n          />\n          <ul>\n            {branches.map((branch: types.Branch) => {\n              const availableOptions = branches\n                .filter(\n                  (availableBranch: types.Branch) =>\n                    availableBranch.id !== branch.id &&\n                    availableBranch.id !== firstBranchId\n                )\n                .map((availableBranch: types.Branch) => {\n                  return {\n                    value: availableBranch.id,\n                    label: `${availableBranch.id} (${availableBranch.type})`,\n                    currentBranchId: branch.id,\n                  }\n                })\n\n              switch (branch.type) {\n                case 'narrative': {\n                  const narrativeBranch = branch as types.NarrativeBranch\n\n                  return (\n                    <li key={branch.id}>\n                      <p>Id: {branch.id}</p>\n                      <p>Type: {branch.type}</p>\n                      {narrativeBranch.decisions ? (\n                        <>\n                          <p>Decisions:</p>\n                          <ul>\n                            {narrativeBranch.decisions.map(\n                              (decision: types.Decision) => {\n                                const decisionOptions = availableOptions.map(\n                                  (availableOption: types.SelectOption) => {\n                                    return {\n                                      ...availableOption,\n                                      decisionId: decision._id,\n                                    }\n                                  }\n                                )\n\n                                return (\n                                  <li key={decision._id}>\n                                    {decision.text}\n                                    <FormGroupSelect\n                                      options={decisionOptions}\n                                      id={`nextBranchId-${branch._id}-${decision._id}`}\n                                      label=\"Next branch id\"\n                                      onChange={\n                                        handleNarrativNextBranchIdChange\n                                      }\n                                    />\n                                  </li>\n                                )\n                              }\n                            )}\n                          </ul>\n                        </>\n                      ) : (\n                        <p>No Desicions</p>\n                      )}\n                    </li>\n                  )\n                }\n\n                default: {\n                  return (\n                    <li key={branch.id}>\n                      <p>Id: {branch.id}</p>\n                      <p>Type: {branch.type}</p>\n                      <FormGroupSelect\n                        options={availableOptions}\n                        id={`nextBranchId-${branch._id}`}\n                        label=\"Next branch id\"\n                        onChange={handleNextBranchIdChange}\n                      />\n                    </li>\n                  )\n                }\n              }\n            })}\n          </ul>\n        </>\n      ) : (\n        <p>No branches added</p>\n      )}\n    </Accordion>\n  )\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(React.memo(ConnectBranches))\n","const copyToClipboard = (json: string) => {\n  window.navigator.clipboard.writeText(json)\n}\n\nexport default copyToClipboard\n","import { saveAs } from 'file-saver'\n\nconst saveToFile = (json: string, name: string) => {\n  const blob = new Blob([json], { type: 'text/json;charset=utf-8' })\n\n  return saveAs(blob, `${name}.json`)\n}\n\nexport default saveToFile\n","import styled from 'styled-components/macro'\n\nconst Wrapper = styled('div')`\n  width: 50%;\n  padding: 0 0 0 32px;\n\n  @media all and (max-width: 920px) {\n    width: 100%;\n    padding: 32px 0 0 0;\n  }\n`\n\nexport default Wrapper\n","import styled from 'styled-components/macro'\n\nconst Pre = styled('pre')`\n  padding: 24px;\n  border: 1px solid #dadada;\n  background: #fafafa;\n`\n\nexport default Pre\n\n\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport * as types from 'types'\n\nimport { RootState, selectors } from 'Redux/Store'\n\nimport { saveToFile, copyToClipboard } from 'helpers'\n\nimport Button from 'components/atoms/Button'\nimport Wrapper from './__styled__/Wrapper'\nimport Pre from './__styled__/Pre'\n\nconst mapStateToProps = (state: RootState) => ({\n  name: selectors.DraftExpedition.Name.getExpeditionName(state),\n  bigPocketVariantConfig: selectors.DraftExpedition.BigPocketVariantConfig.getBigPocketVariantConfig(\n    state\n  ),\n  branches: selectors.DraftExpedition.SequenceConfig.Branches.getBranches(\n    state\n  ),\n  firstBranchId: selectors.DraftExpedition.SequenceConfig.FirstBranchId.getFirstBranchId(\n    state\n  ),\n})\n\ntype Props = ReturnType<typeof mapStateToProps> & {\n  fileName?: string\n}\n\nconst Preview = ({\n  fileName = 'expedition',\n  name,\n  bigPocketVariantConfig,\n  firstBranchId,\n  branches,\n}: Props) => {\n  const dataBranches = branches.reduce((branches, branch: types.Branch) => {\n    switch (branch.type) {\n      case 'narrative': {\n        const narrativeBranch = branch as types.NarrativeBranch\n\n        const newBranch = {\n          type: branch.type,\n          config: {\n            text: narrativeBranch.text,\n            decisions: narrativeBranch.decisions\n              ? narrativeBranch.decisions.map((decision) => decision.text)\n              : false,\n          },\n        }\n\n        if (narrativeBranch.nextBranchId) {\n          Object.assign(newBranch.config, {\n            nextBranchId: narrativeBranch.nextBranchId,\n          })\n        }\n\n        return {\n          ...branches,\n          [branch.id]: newBranch,\n        }\n      }\n\n      case 'reward': {\n        const rewardBranch = branch as types.RewardBranch\n\n        const newBranch = {\n          type: branch.type,\n          config: {\n            type: rewardBranch.rewardType,\n          },\n        }\n\n        const randomTreasuresTier1 =\n          rewardBranch.treasure.tier1 !== 0\n            ? Array(rewardBranch.treasure.tier1).fill({\n                random: true,\n                level: 1,\n              })\n            : []\n\n        const randomTreasuresTier2 =\n          rewardBranch.treasure.tier2 !== 0\n            ? Array(rewardBranch.treasure.tier2).fill({\n                random: true,\n                level: 2,\n              })\n            : []\n\n        const randomTreasuresTier3 =\n          rewardBranch.treasure.tier3 !== 0\n            ? Array(rewardBranch.treasure.tier3).fill({\n                random: true,\n                level: 3,\n              })\n            : []\n\n        if (\n          rewardBranch.treasure.ids.length > 0 ||\n          randomTreasuresTier1.length > 0 ||\n          randomTreasuresTier2.length > 0 ||\n          randomTreasuresTier3.length > 0\n        ) {\n          Object.assign(newBranch.config, {\n            treasure: {\n              ids: [\n                ...rewardBranch.treasure.ids,\n                ...randomTreasuresTier1,\n                ...randomTreasuresTier2,\n                ...randomTreasuresTier3,\n              ],\n            },\n          })\n        }\n\n        const randomMageAmount =\n          rewardBranch.mage.randomAmount !== 0\n            ? Array(rewardBranch.mage.randomAmount).fill({\n                random: true,\n              })\n            : []\n\n        if (rewardBranch.mage.ids.length > 0 || randomMageAmount.length > 0) {\n          Object.assign(newBranch.config, {\n            mage: {\n              ids: [...rewardBranch.mage.ids, ...randomMageAmount],\n            },\n          })\n        }\n\n        if (\n          rewardBranch.supply.ids.length > 0 ||\n          rewardBranch.supply.blueprints.length > 0\n        ) {\n          const blueprints = rewardBranch.supply.blueprints.map(\n            (blueprint: types.Blueprint) => {\n              return {\n                type: blueprint.type,\n                operation: blueprint.operation,\n                threshold: blueprint.threshold,\n                values: blueprint.values,\n              }\n            }\n          )\n\n          Object.assign(newBranch.config, {\n            supply: {\n              ids: [...rewardBranch.supply.ids, ...blueprints],\n              bigPocket: rewardBranch.supply.bigPocket,\n            },\n          })\n        }\n\n        if (rewardBranch.nextBranchId) {\n          Object.assign(newBranch.config, {\n            nextBranchId: rewardBranch.nextBranchId,\n          })\n        }\n\n        return {\n          ...branches,\n          [branch.id]: newBranch,\n        }\n      }\n\n      case 'battle': {\n        const battleBranch = branch as types.BattleBranch\n\n        const newBranch = {\n          type: branch.type,\n          config: {\n            tier: battleBranch.tier,\n            newUBNCards: battleBranch.newUBNCards,\n            treasure: {\n              level: battleBranch.treasure.level,\n              hasTreasure: battleBranch.treasure.hasTreasure,\n            },\n          },\n        }\n\n        battleBranch.nemesisId &&\n          Object.assign(newBranch.config, {\n            nemesisId: battleBranch.nemesisId,\n          })\n\n        battleBranch.specialRules &&\n          Object.assign(newBranch.config, {\n            specialRules: battleBranch.specialRules,\n          })\n\n        battleBranch.onLoss &&\n          Object.assign(newBranch.config, {\n            onLoss: battleBranch.onLoss,\n          })\n\n        if (battleBranch?.winRewards?.hasOwnProperty('rewardType')) {\n          const winRewardTreasure = {}\n          const winRewardMage = {}\n          const winRewardSupply = {}\n\n          const winRewardTreasureIds =\n            battleBranch.winRewards?.treasure?.ids ?? []\n\n          const winRewardRandomTreasuresTier1 =\n            battleBranch.winRewards?.treasure?.tier1 &&\n            battleBranch.winRewards?.treasure?.tier1 !== 0\n              ? Array(battleBranch.winRewards.treasure.tier1).fill({\n                  random: true,\n                  level: 1,\n                })\n              : []\n\n          const winRewardRandomTreasuresTier2 =\n            battleBranch.winRewards?.treasure?.tier2 &&\n            battleBranch.winRewards?.treasure?.tier2 !== 0\n              ? Array(battleBranch.winRewards.treasure.tier2).fill({\n                  random: true,\n                  level: 2,\n                })\n              : []\n\n          const winRewardRandomTreasuresTier3 =\n            battleBranch.winRewards?.treasure?.tier3 &&\n            battleBranch.winRewards?.treasure?.tier3 !== 0\n              ? Array(battleBranch.winRewards.treasure.tier3).fill({\n                  random: true,\n                  level: 3,\n                })\n              : []\n\n          if (\n            winRewardTreasureIds.length > 0 ||\n            winRewardRandomTreasuresTier1.length > 0 ||\n            winRewardRandomTreasuresTier2.length > 0 ||\n            winRewardRandomTreasuresTier3.length > 0\n          ) {\n            Object.assign(winRewardTreasure, {\n              ids: [\n                ...winRewardTreasureIds,\n                ...winRewardRandomTreasuresTier1,\n                ...winRewardRandomTreasuresTier2,\n                ...winRewardRandomTreasuresTier3,\n              ],\n            })\n          }\n\n          const winRewardMageIds = battleBranch.winRewards?.mage?.ids ?? []\n\n          const winRewardRandomMageAmount =\n            battleBranch.winRewards?.mage?.randomAmount &&\n            battleBranch.winRewards?.mage?.randomAmount !== 0\n              ? Array(battleBranch.winRewards.mage.randomAmount).fill({\n                  random: true,\n                })\n              : []\n\n          if (\n            winRewardMageIds.length > 0 ||\n            winRewardRandomMageAmount.length > 0\n          ) {\n            Object.assign(winRewardMage, {\n              ids: [...winRewardMageIds, ...winRewardRandomMageAmount],\n            })\n          }\n\n          const winRewardSupplyIds = battleBranch.winRewards?.supply?.ids ?? []\n          const winRewardSupplyBlueprints =\n            battleBranch.winRewards?.supply?.blueprints ?? []\n          const winRewardSupplyBigPocket =\n            battleBranch.winRewards?.supply?.bigPocket ?? false\n\n          if (\n            winRewardSupplyIds.length > 0 ||\n            winRewardSupplyBlueprints.length > 0\n          ) {\n            const blueprints = winRewardSupplyBlueprints.map(\n              (blueprint: types.Blueprint) => {\n                return {\n                  type: blueprint.type,\n                  operation: blueprint.operation,\n                  threshold: blueprint.threshold,\n                  values: blueprint.values,\n                }\n              }\n            )\n\n            Object.assign(winRewardSupply, {\n              ids: [...winRewardSupplyIds, ...blueprints],\n              bigPocket: winRewardSupplyBigPocket,\n            })\n          }\n\n          Object.assign(newBranch.config, {\n            winRewards:\n              Object.keys(battleBranch.winRewards).length > 0\n                ? {\n                    type: battleBranch.winRewards.rewardType,\n                    treasure:\n                      Object.keys(winRewardTreasure).length > 0\n                        ? winRewardTreasure\n                        : undefined,\n                    mage:\n                      Object.keys(winRewardMage).length > 0\n                        ? winRewardMage\n                        : undefined,\n                    supply:\n                      Object.keys(winRewardSupply).length > 0\n                        ? winRewardSupply\n                        : undefined,\n                  }\n                : undefined,\n          })\n        }\n\n        battleBranch.lossRewards &&\n          Object.assign(newBranch.config, {\n            lossRewards:\n              battleBranch.lossRewards.length > 0\n                ? battleBranch.lossRewards.map(\n                    (lossReward: types.RewardConfig) => {\n                      const lossRewardTreasure = {}\n                      const lossRewardMage = {}\n                      const lossRewardSupply = {}\n\n                      const lossRewardTreasureIds =\n                        lossReward?.treasure?.ids ?? []\n\n                      const lossRewardRandomTreasuresTier1 =\n                        lossReward?.treasure?.tier1 &&\n                        lossReward?.treasure?.tier1 !== 0\n                          ? Array(lossReward.treasure.tier1).fill({\n                              random: true,\n                              level: 1,\n                            })\n                          : []\n\n                      const lossRewardRandomTreasuresTier2 =\n                        lossReward?.treasure?.tier2 &&\n                        lossReward?.treasure?.tier2 !== 0\n                          ? Array(lossReward.treasure.tier2).fill({\n                              random: true,\n                              level: 2,\n                            })\n                          : []\n\n                      const lossRewardRandomTreasuresTier3 =\n                        lossReward?.treasure?.tier3 &&\n                        lossReward?.treasure?.tier3 !== 0\n                          ? Array(lossReward.treasure.tier3).fill({\n                              random: true,\n                              level: 3,\n                            })\n                          : []\n\n                      if (\n                        lossRewardTreasureIds.length > 0 ||\n                        lossRewardRandomTreasuresTier1.length > 0 ||\n                        lossRewardRandomTreasuresTier2.length > 0 ||\n                        lossRewardRandomTreasuresTier3.length > 0\n                      ) {\n                        Object.assign(lossRewardTreasure, {\n                          ids: [\n                            ...lossRewardTreasureIds,\n                            ...lossRewardRandomTreasuresTier1,\n                            ...lossRewardRandomTreasuresTier2,\n                            ...lossRewardRandomTreasuresTier3,\n                          ],\n                        })\n                      }\n\n                      const lossRewardMageIds = lossReward?.mage?.ids ?? []\n\n                      const lossRewardRandomMageAmount =\n                        lossReward?.mage?.randomAmount &&\n                        lossReward?.mage?.randomAmount !== 0\n                          ? Array(lossReward.mage.randomAmount).fill({\n                              random: true,\n                            })\n                          : []\n\n                      if (\n                        lossRewardMageIds.length > 0 ||\n                        lossRewardRandomMageAmount.length > 0\n                      ) {\n                        Object.assign(lossRewardMage, {\n                          ids: [\n                            ...lossRewardMageIds,\n                            ...lossRewardRandomMageAmount,\n                          ],\n                        })\n                      }\n\n                      const lossRewardSupplyIds = lossReward?.supply?.ids ?? []\n                      const lossRewardSupplyBlueprints =\n                        lossReward?.supply?.blueprints ?? []\n                      const lossRewardSupplyBigPocket =\n                        lossReward?.supply?.bigPocket ?? false\n\n                      if (\n                        lossRewardSupplyIds.length > 0 ||\n                        lossRewardSupplyBlueprints.length > 0\n                      ) {\n                        const blueprints = lossRewardSupplyBlueprints.map(\n                          (blueprint: types.Blueprint) => {\n                            return {\n                              type: blueprint.type,\n                              operation: blueprint.operation,\n                              threshold: blueprint.threshold,\n                              values: blueprint.values,\n                            }\n                          }\n                        )\n\n                        Object.assign(lossRewardSupply, {\n                          ids: [...lossRewardSupplyIds, ...blueprints],\n                          bigPocket: lossRewardSupplyBigPocket,\n                        })\n                      }\n\n                      return {\n                        type: lossReward.rewardType,\n                        treasure:\n                          Object.keys(lossRewardTreasure).length > 0\n                            ? lossRewardTreasure\n                            : undefined,\n                        mage:\n                          Object.keys(lossRewardMage).length > 0\n                            ? lossRewardMage\n                            : undefined,\n                        supply:\n                          Object.keys(lossRewardSupply).length > 0\n                            ? lossRewardSupply\n                            : undefined,\n                      }\n                    }\n                  )\n                : undefined,\n          })\n\n        if (battleBranch.nextBranchId) {\n          Object.assign(newBranch.config, {\n            nextBranchId: battleBranch.nextBranchId,\n          })\n        }\n\n        return {\n          ...branches,\n          [branch.id]: newBranch,\n        }\n      }\n\n      default: {\n        return {\n          ...branches,\n          [branch.id]: {\n            type: branch.type,\n          },\n        }\n      }\n    }\n  }, {})\n\n  const data = {\n    name: name,\n    bigPocketVariantConfig: bigPocketVariantConfig,\n    sequenceConfig: {\n      firstBranchId: firstBranchId ? firstBranchId : '',\n      branches: dataBranches,\n    },\n  }\n\n  firstBranchId &&\n    Object.assign(data.sequenceConfig, {\n      firstBranchId: firstBranchId,\n    })\n\n  const handleCopyToClipboard = () => {\n    copyToClipboard(JSON.stringify(data, null, '  '))\n  }\n\n  const handleSave = () => {\n    saveToFile(JSON.stringify(data, null, '  '), fileName)\n  }\n\n  return (\n    <Wrapper>\n      <Pre>{JSON.stringify(data, null, '  ')}</Pre>\n\n      <Button type=\"button\" onClick={handleCopyToClipboard}>\n        Copy to clipboard\n      </Button>\n      <Button type=\"button\" onClick={handleSave}>\n        Save to file\n      </Button>\n    </Wrapper>\n  )\n}\n\nexport default connect(mapStateToProps)(React.memo(Preview))\n","import styled from 'styled-components/macro'\n\nconst Wrapper = styled('div')`\n  display: flex;\n\n  @media all and (max-width: 920px) {\n    flex-direction: column;\n  }\n`\n\nexport default Wrapper\n","import styled from 'styled-components/macro'\n\nconst Form = styled('form')`\n  width: 50%;\n\n  @media all and (max-width: 920px) {\n    width: 100%;\n  }\n`\n\nexport default Form\n","import React from 'react'\n\nimport BasicInformation from 'components/templates/BasicInformation'\nimport Branches from 'components/templates/Branches'\nimport ConnectBranches from 'components/templates/ConnectBranches'\nimport Preview from 'components/molecules/Preview'\n\nimport Wrapper from './__styled__/Wrapper'\nimport Form from './__styled__/Form'\n\nconst Configurator = () => {\n  return (\n    <Wrapper>\n      <Form>\n        <BasicInformation />\n        <Branches />\n        <ConnectBranches />\n      </Form>\n\n      <Preview />\n    </Wrapper>\n  )\n}\n\nexport default React.memo(Configurator)\n","import styled from 'styled-components/macro'\n\nconst Wrapper = styled('div')`\n  padding: 32px;\n`\n\nexport default Wrapper\n","import React from 'react'\n\nimport H1 from 'components/atoms/H1'\nimport Configurator from 'components/molecules/Configurator'\nimport Wrapper from './__styled__/Wrapper'\n\nconst MainApp = () => {\n  return (\n    <Wrapper>\n      <H1>AER: Custom Expedition Editor</H1>\n      <Configurator />\n      <div id=\"modal-root\" />\n    </Wrapper>\n  )\n}\n\nexport default MainApp\n","import React from 'react'\n\nimport { ThemeProvider } from 'styled-components/macro'\n\nimport GlobalStyle from 'GlobalStyle'\nimport mainTheme from 'themes/main'\n\nimport MainApp from './MainApp'\n\nconst App = () => (\n  <ThemeProvider theme={mainTheme}>\n    <GlobalStyle />\n    <MainApp />\n  </ThemeProvider>\n)\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\n\nimport configureStore from './Redux/configureStore'\nimport { initialState } from './Redux/Store'\n\nimport * as serviceWorker from './serviceWorker'\n\nimport App from './components/App'\n\nconst store = configureStore(initialState)\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport { install, StoreCreator } from 'redux-loop'\n\nimport { RootReducer, RootState } from './Store'\n\nconst configureStore = (initialState: RootState) => {\n  // Add middleware to this array if necessary\n  const middleWares: any[] = []\n\n  const enhancers = [applyMiddleware(...middleWares), install<RootState>()]\n\n  const composeEnhancers =\n    process.env.NODE_ENV !== 'production' &&\n    typeof window === 'object' &&\n    // @ts-ignore\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      // @ts-ignore\n      ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n      : compose\n\n  const enhancedCreateStore = createStore as StoreCreator\n  const store = enhancedCreateStore(\n    RootReducer,\n    initialState,\n    composeEnhancers(...enhancers)\n  )\n\n  return store\n}\n\nexport { configureStore as default }\n"],"sourceRoot":""}